"use strict";(self.webpackChunkrecipes_disertation_app=self.webpackChunkrecipes_disertation_app||[]).push([[179],{14:(un,it,k)=>{k.d(it,{nm:()=>Zi});var g=k(2793);k(5879),k(4097);var Le=k(5861),Qe=k(4303),He=k(4537),vt=k(9058),Pt=k(7879);const Ge=new Map,Ke={activated:!1,tokenObservers:[]},Bt={initialized:!1,enabled:!1};function Et(lt){return Ge.get(lt)||Object.assign({},Ke)}function yn(){return Bt}const er="https://content-firebaseappcheck.googleapis.com/v1",Sr="exchangeDebugToken",ht={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rt{constructor(ot,bt,Zt,Wt,Sn){if(this.operation=ot,this.retryPolicy=bt,this.getWaitDuration=Zt,this.lowerBound=Wt,this.upperBound=Sn,this.pending=null,this.nextErrorWaitInterval=Wt,Wt>Sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ot){var bt=this;return(0,Le.Z)(function*(){bt.stop();try{bt.pending=new vt.BH,yield function It(lt){return new Promise(ot=>{setTimeout(ot,lt)})}(bt.getNextRun(ot)),bt.pending.resolve(),yield bt.pending.promise,bt.pending=new vt.BH,yield bt.operation(),bt.pending.resolve(),yield bt.pending.promise,bt.process(!0).catch(()=>{})}catch(Zt){bt.retryPolicy(Zt)?bt.process(!1).catch(()=>{}):bt.stop()}})()}getNextRun(ot){if(ot)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const bt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),bt}}}const Ee=new vt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Te(lt){if(!Et(lt).activated)throw Ee.create("use-before-activation",{appName:lt.name})}function en(lt,ot){return hn.apply(this,arguments)}function hn(){return(hn=(0,Le.Z)(function*({url:lt,body:ot},bt){const Zt={"Content-Type":"application/json"},Wt=bt.getImmediate({optional:!0});if(Wt){const Ii=yield Wt.getHeartbeatsHeader();Ii&&(Zt["X-Firebase-Client"]=Ii)}const Sn={method:"POST",body:JSON.stringify(ot),headers:Zt};let lr,vr;try{lr=yield fetch(lt,Sn)}catch(Ii){throw Ee.create("fetch-network-error",{originalErrorMessage:Ii?.message})}if(200!==lr.status)throw Ee.create("fetch-status-error",{httpStatus:lr.status});try{vr=yield lr.json()}catch(Ii){throw Ee.create("fetch-parse-error",{originalErrorMessage:Ii?.message})}const dr=vr.ttl.match(/^([\d.]+)(s)$/);if(!dr||!dr[2]||isNaN(Number(dr[1])))throw Ee.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vr.ttl}`});const Mi=1e3*Number(dr[1]),co=Date.now();return{token:vr.token,expireTimeMillis:co+Mi,issuedAtTimeMillis:co}})).apply(this,arguments)}function xr(lt,ot){const{projectId:bt,appId:Zt,apiKey:Wt}=lt.options;return{url:`${er}/projects/${bt}/apps/${Zt}:${Sr}?key=${Wt}`,body:{debug_token:ot}}}const Fn="firebase-app-check-database",Er=1,kr="firebase-app-check-store";let Kn=null;function Tr(){return(Tr=(0,Le.Z)(function*(lt,ot){const Zt=(yield function hr(){return Kn||(Kn=new Promise((lt,ot)=>{try{const bt=indexedDB.open(Fn,Er);bt.onsuccess=Zt=>{lt(Zt.target.result)},bt.onerror=Zt=>{var Wt;ot(Ee.create("storage-open",{originalErrorMessage:null===(Wt=Zt.target.error)||void 0===Wt?void 0:Wt.message}))},bt.onupgradeneeded=Zt=>{0===Zt.oldVersion&&Zt.target.result.createObjectStore(kr,{keyPath:"compositeKey"})}}catch(bt){ot(Ee.create("storage-open",{originalErrorMessage:bt?.message}))}}),Kn)}()).transaction(kr,"readwrite"),Sn=Zt.objectStore(kr).put({compositeKey:lt,value:ot});return new Promise((lr,vr)=>{Sn.onsuccess=dr=>{lr()},Zt.onerror=dr=>{var Mi;vr(Ee.create("storage-set",{originalErrorMessage:null===(Mi=dr.target.error)||void 0===Mi?void 0:Mi.message}))}})})).apply(this,arguments)}const Lr=new Pt.Yd("@firebase/app-check");function Qr(lt,ot){return(0,vt.hl)()?function yi(lt,ot){return function Gn(lt,ot){return Tr.apply(this,arguments)}(function Ar(lt){return`${lt.options.appId}-${lt.name}`}(lt),ot)}(lt,ot).catch(bt=>{Lr.warn(`Failed to write token to IndexedDB. Error: ${bt}`)}):Promise.resolve()}function Si(){return yn().enabled}function di(){return $r.apply(this,arguments)}function $r(){return($r=(0,Le.Z)(function*(){const lt=yn();if(lt.enabled&&lt.token)return lt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $t={error:"UNKNOWN_ERROR"};function Je(lt){return vt.US.encodeString(JSON.stringify(lt),!1)}function Gt(lt){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Le.Z)(function*(lt,ot=!1){const bt=lt.app;Te(bt);const Zt=Et(bt);let Sn,Wt=Zt.token;if(Wt&&!de(Wt)&&(Zt.token=void 0,Wt=void 0),!Wt){const dr=yield Zt.cachedTokenPromise;dr&&(de(dr)?Wt=dr:yield Qr(bt,void 0))}if(!ot&&Wt&&de(Wt))return{token:Wt.token};let vr,lr=!1;if(Si()){Zt.exchangeTokenPromise||(Zt.exchangeTokenPromise=en(xr(bt,yield di()),lt.heartbeatServiceProvider).finally(()=>{Zt.exchangeTokenPromise=void 0}),lr=!0);const dr=yield Zt.exchangeTokenPromise;return yield Qr(bt,dr),Zt.token=dr,{token:dr.token}}try{Zt.exchangeTokenPromise||(Zt.exchangeTokenPromise=Zt.provider.getToken().finally(()=>{Zt.exchangeTokenPromise=void 0}),lr=!0),Wt=yield Et(bt).exchangeTokenPromise}catch(dr){"appCheck/throttled"===dr.code?Lr.warn(dr.message):Lr.error(dr),Sn=dr}return Wt?Sn?vr=de(Wt)?{token:Wt.token,internalError:Sn}:je(Sn):(vr={token:Wt.token},Zt.token=Wt,yield Qr(bt,Wt)):vr=je(Sn),lr&&function pe(lt,ot){const bt=Et(lt).tokenObservers;for(const Zt of bt)try{"EXTERNAL"===Zt.type&&null!=ot.error?Zt.error(ot.error):Zt.next(ot)}catch{}}(bt,vr),vr})).apply(this,arguments)}function vn(lt){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,Le.Z)(function*(lt){const ot=lt.app;Te(ot);const{provider:bt}=Et(ot);if(Si()){const Zt=yield di(),{token:Wt}=yield en(xr(ot,Zt),lt.heartbeatServiceProvider);return{token:Wt}}{const{token:Zt}=yield bt.getToken();return{token:Zt}}})).apply(this,arguments)}function ve(lt,ot){const bt=Et(lt),Zt=bt.tokenObservers.filter(Wt=>Wt.next!==ot);0===Zt.length&&bt.tokenRefresher&&bt.tokenRefresher.isRunning()&&bt.tokenRefresher.stop(),bt.tokenObservers=Zt}function Q(lt){const{app:ot}=lt,bt=Et(ot);let Zt=bt.tokenRefresher;Zt||(Zt=function X(lt){const{app:ot}=lt;return new rt((0,Le.Z)(function*(){let Zt;if(Zt=Et(ot).token?yield Gt(lt,!0):yield Gt(lt),Zt.error)throw Zt.error;if(Zt.internalError)throw Zt.internalError}),()=>!0,()=>{const bt=Et(ot);if(bt.token){let Zt=bt.token.issuedAtTimeMillis+.5*(bt.token.expireTimeMillis-bt.token.issuedAtTimeMillis)+3e5;return Zt=Math.min(Zt,bt.token.expireTimeMillis-3e5),Math.max(0,Zt-Date.now())}return 0},ht.RETRIAL_MIN_WAIT,ht.RETRIAL_MAX_WAIT)}(lt),bt.tokenRefresher=Zt),!Zt.isRunning()&&bt.isTokenAutoRefreshEnabled&&Zt.start()}function de(lt){return lt.expireTimeMillis-Date.now()>0}function je(lt){return{token:Je($t),error:lt}}class St{constructor(ot,bt){this.app=ot,this.heartbeatServiceProvider=bt}_delete(){const{tokenObservers:ot}=Et(this.app);for(const bt of ot)ve(this.app,bt.next);return Promise.resolve()}}const Gr="app-check-internal";!function Ki(){(0,Qe._registerComponent)(new He.wA("app-check",lt=>function tn(lt,ot){return new St(lt,ot)}(lt.getProvider("app").getImmediate(),lt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((lt,ot,bt)=>{lt.getProvider(Gr).initialize()})),(0,Qe._registerComponent)(new He.wA(Gr,lt=>function Un(lt){return{getToken:ot=>Gt(lt,ot),getLimitedUseToken:()=>vn(lt),addTokenListener:ot=>function pr(lt,ot,bt,Zt){const{app:Wt}=lt,Sn=Et(Wt);if(Sn.tokenObservers=[...Sn.tokenObservers,{next:bt,error:Zt,type:ot}],Sn.token&&de(Sn.token)){const vr=Sn.token;Promise.resolve().then(()=>{bt({token:vr.token}),Q(lt)}).catch(()=>{})}Sn.cachedTokenPromise.then(()=>Q(lt))}(lt,"INTERNAL",ot),removeTokenListener:ot=>ve(lt.app,ot)}}(lt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qe.registerVersion)("@firebase/app-check","0.8.0")}();class Zi{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},7046:(un,it,k)=>{k.d(it,{zQ:()=>Et,ww:()=>Nn,rT:()=>Pt,f7:()=>Ke,L6:()=>He,_Q:()=>vt,lh:()=>Ge,Qv:()=>Qe,nw:()=>Bt});var g=k(5879),z=k(8645),H=k(2096),Ae=k(5592),Ce=k(2459),De=k(3019),Ue=k(3093),ke=k(4664),Oe=k(7398),ye=k(940),Se=k(1374),Be=k(4674);function ut(yn,er){return(0,Be.m)(er)?(0,ke.w)(()=>yn,er):(0,ke.w)(()=>yn)}var ct=k(5137),wt=k(2181),ft=k(2793),Ut=k(6304),Ft=k(6814),Ye=k(14),Qt=k(120);const Qe=new g.OlP("angularfire2.auth.use-emulator"),He=new g.OlP("angularfire2.auth.settings"),vt=new g.OlP("angularfire2.auth.tenant-id"),Pt=new g.OlP("angularfire2.auth.langugage-code"),Ge=new g.OlP("angularfire2.auth.use-device-language"),Ke=new g.OlP("angularfire.auth.persistence"),Bt=(yn,er,rr,Nr,Sr,ht,Dt,rt)=>(0,Ut.cc)(`${yn.name}.auth`,"AngularFireAuth",yn.name,()=>{const It=er.runOutsideAngular(()=>yn.auth());if(rr&&It.useEmulator(...rr),Nr&&(It.tenantId=Nr),It.languageCode=Sr,ht&&It.useDeviceLanguage(),Dt)for(const[tt,Ee]of Object.entries(Dt))It.settings[tt]=Ee;return rt&&It.setPersistence(rt),It},[rr,Nr,Sr,ht,Dt,rt]);let Et=(()=>{class yn{constructor(rr,Nr,Sr,ht,Dt,rt,It,tt,Ee,Ve,Te,qe){const jt=new z.x,en=(0,H.of)(void 0).pipe((0,Ue.Q)(Dt.outsideAngular),(0,ke.w)(()=>ht.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8977)))),(0,Oe.U)(()=>(0,Ut.on)(rr,ht,Nr)),(0,Oe.U)(hn=>Bt(hn,ht,rt,tt,Ee,Ve,It,Te)),(0,ye.d)({bufferSize:1,refCount:!1}));if((0,Ft.PM)(Sr))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{en.pipe((0,Se.P)()).subscribe();const Cn=en.pipe((0,ke.w)(Fn=>Fn.getRedirectResult().then(Er=>Er,()=>null)),ft.iC,(0,ye.d)({bufferSize:1,refCount:!1})),Bn=en.pipe((0,ke.w)(Fn=>new Ae.y(Er=>({unsubscribe:ht.runOutsideAngular(()=>Fn.onAuthStateChanged(kr=>Er.next(kr),kr=>Er.error(kr),()=>Er.complete()))})))),xr=en.pipe((0,ke.w)(Fn=>new Ae.y(Er=>({unsubscribe:ht.runOutsideAngular(()=>Fn.onIdTokenChanged(kr=>Er.next(kr),kr=>Er.error(kr),()=>Er.complete()))}))));this.authState=Cn.pipe(ut(Bn),(0,ct.R)(Dt.outsideAngular),(0,Ue.Q)(Dt.insideAngular)),this.user=Cn.pipe(ut(xr),(0,ct.R)(Dt.outsideAngular),(0,Ue.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,ke.w)(Fn=>Fn?(0,Ce.D)(Fn.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,ke.w)(Fn=>Fn?(0,Ce.D)(Fn.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,De.T)(Cn,jt,this.authState.pipe((0,wt.h)(Fn=>!Fn))).pipe((0,Oe.U)(Fn=>Fn?.user?Fn:null),(0,ct.R)(Dt.outsideAngular),(0,Ue.Q)(Dt.insideAngular))}return(0,Ut.pX)(this,en,ht,{spy:{apply:(hn,Cn,Bn)=>{(hn.startsWith("signIn")||hn.startsWith("createUser"))&&Bn.then(xr=>jt.next(xr))}}})}}return yn.\u0275fac=function(rr){return new(rr||yn)(g.LFG(Ut.Dh),g.LFG(Ut.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(ft.HU),g.LFG(Qe,8),g.LFG(He,8),g.LFG(vt,8),g.LFG(Pt,8),g.LFG(Ge,8),g.LFG(Ke,8),g.LFG(Ye.nm,8))},yn.\u0275prov=g.Yz7({token:yn,factory:yn.\u0275fac,providedIn:"any"}),yn})(),Nn=(()=>{class yn{constructor(){Qt.Z.registerVersion("angularfire",ft.q4.full,"auth-compat")}}return yn.\u0275fac=function(rr){return new(rr||yn)},yn.\u0275mod=g.oAB({type:yn}),yn.\u0275inj=g.cJS({providers:[Et]}),yn})()},8022:(un,it,k)=>{k.d(it,{ST:()=>W0,yb:()=>BE});var g=k(5879),z=k(6321),H=k(5592),Ae=k(2459),Ce=k(2096),De=k(2793),Ue=k(7921),ke=k(9360),Oe=k(8251);function ye(){return(0,ke.e)((s,e)=>{let t,l=!1;s.subscribe((0,Oe.x)(e,h=>{const m=t;t=h,l&&e.next([m,h]),l=!0}))})}var Ge,Se=k(7398),Be=k(6699),ut=k(3997),ct=k(2181),wt=k(6304),ft=k(6814),Ft=(k(8977),k(3399)),Ye=k(5861),Qt=k(7592),Le=k(4537),Qe=k(7879),He=k(9058),vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt={},Ke=Ke||{},Bt=vt||self;function Et(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Nn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var er="closure_uid_"+(1e9*Math.random()>>>0),rr=0;function Nr(s,e,t){return s.call.apply(s.bind,arguments)}function Sr(s,e,t){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function ht(s,e,t){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nr:Sr).apply(null,arguments)}function Dt(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function rt(s,e){function t(){}t.prototype=e.prototype,s.$=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.ac=function(l,h,m){for(var w=Array(arguments.length-2),F=2;F<arguments.length;F++)w[F-2]=arguments[F];return e.prototype[h].apply(l,w)}}function It(){this.s=this.s,this.o=this.o}It.prototype.s=!1,It.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yn(s){Object.prototype.hasOwnProperty.call(s,er)&&s[er]||(s[er]=++rr)}(this)},It.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ee=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function Ve(s){const e=s.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=s[l];return t}return[]}function Te(s,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(Et(l)){const h=s.length||0,m=l.length||0;s.length=h+m;for(let w=0;w<m;w++)s[h+w]=l[w]}else s.push(l)}}function qe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var jt=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Bt.addEventListener("test",()=>{},e),Bt.removeEventListener("test",()=>{},e)}catch{}return s}();function en(s){return/^[\s\xa0]*$/.test(s)}function hn(){var s=Bt.navigator;return s&&(s=s.userAgent)?s:""}function Cn(s){return-1!=hn().indexOf(s)}function Bn(s){return Bn[" "](s),s}Bn[" "]=function(){};var yi,s,Fn=Cn("Opera"),Er=Cn("Trident")||Cn("MSIE"),kr=Cn("Edge"),ui=kr||Er,Kn=Cn("Gecko")&&!(-1!=hn().toLowerCase().indexOf("webkit")&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),hr=-1!=hn().toLowerCase().indexOf("webkit")&&!Cn("Edge");function Ei(){var s=Bt.document;return s?s.documentMode:void 0}e:{var kn="",Wn=(s=hn(),Kn?/rv:([^\);]+)(\)|;)/.exec(s):kr?/Edge\/([\d\.]+)/.exec(s):Er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):hr?/WebKit\/(\S+)/.exec(s):Fn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Wn&&(kn=Wn?Wn[1]:""),Er){var Gn=Ei();if(null!=Gn&&Gn>parseFloat(kn)){yi=String(Gn);break e}}yi=kn}var ai=Bt.document&&Er&&(Ei()||parseInt(yi,10))||void 0;function Ar(s,e){if(qe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Kn){e:{try{Bn(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Lr[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ar.$.h.call(this)}}rt(Ar,qe);var Lr={2:"touch",3:"pen",4:"mouse"};Ar.prototype.h=function(){Ar.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),ur=0;function Qr(s,e,t,l,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=h,this.key=++ur,this.fa=this.ia=!1}function yr(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function nr(s,e,t){for(const l in s)e.call(t,s[l],l,s)}function di(s){const e={};for(const t in s)e[t]=s[t];return e}const $r="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jr(s,e){let t,l;for(let h=1;h<arguments.length;h++){for(t in l=arguments[h],l)s[t]=l[t];for(let m=0;m<$r.length;m++)t=$r[m],Object.prototype.hasOwnProperty.call(l,t)&&(s[t]=l[t])}}function $t(s){this.src=s,this.g={},this.h=0}function Je(s,e){var t=e.type;if(t in s.g){var m,l=s.g[t],h=Ee(l,e);(m=0<=h)&&Array.prototype.splice.call(l,h,1),m&&(yr(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function Gt(s,e,t,l){for(var h=0;h<s.length;++h){var m=s[h];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==l)return h}return-1}$t.prototype.add=function(s,e,t,l,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var w=Gt(s,e,l,h);return-1<w?(e=s[w],t||(e.ia=!1)):((e=new Qr(e,this.src,m,!!l,h)).ia=t,s.push(e)),e};var Nt="closure_lm_"+(1e6*Math.random()|0),vn={};function Vn(s,e,t,l,h){if(l&&l.once)return Q(s,e,t,l,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Vn(s,e[m],t,l,h);return null}return t=Un(t),s&&s[qt]?s.O(e,t,Nn(l)?!!l.capture:!!l,h):pr(s,e,t,!1,l,h)}function pr(s,e,t,l,h,m){if(!e)throw Error("Invalid event type");var w=Nn(h)?!!h.capture:!!h,F=St(s);if(F||(s[Nt]=F=new $t(s)),(t=F.add(e,t,l,w,m)).proxy)return t;if(l=function ve(){const e=je;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=l,l.src=s,l.listener=t,s.addEventListener)jt||(h=w),void 0===h&&(h=!1),s.addEventListener(e.toString(),l,h);else if(s.attachEvent)s.attachEvent(de(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return t}function Q(s,e,t,l,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Q(s,e[m],t,l,h);return null}return t=Un(t),s&&s[qt]?s.P(e,t,Nn(l)?!!l.capture:!!l,h):pr(s,e,t,!0,l,h)}function X(s,e,t,l,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)X(s,e[m],t,l,h);else l=Nn(l)?!!l.capture:!!l,t=Un(t),s&&s[qt]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=Gt(m=s.g[e],t,l,h))&&(yr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=St(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Gt(e,t,l,h)),(t=-1<s?e[s]:null)&&pe(t))}function pe(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[qt])Je(e.i,s);else{var t=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(t,l,s.capture):e.detachEvent?e.detachEvent(de(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=St(e))?(Je(t,s),0==t.h&&(t.src=null,e[Nt]=null)):yr(s)}}}function de(s){return s in vn?vn[s]:vn[s]="on"+s}function je(s,e){if(s.fa)s=!0;else{e=new Ar(e,this);var t=s.listener,l=s.la||s.src;s.ia&&pe(s),s=t.call(l,e)}return s}function St(s){return(s=s[Nt])instanceof $t?s:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Un(s){return"function"==typeof s?s:(s[tn]||(s[tn]=function(e){return s.handleEvent(e)}),s[tn])}function dn(){It.call(this),this.i=new $t(this),this.S=this,this.J=null}function Rn(s,e){var t,l=s.J;if(l)for(t=[];l;l=l.J)t.push(l);if(s=s.S,l=e.type||e,"string"==typeof e)e=new qe(e,s);else if(e instanceof qe)e.target=e.target||s;else{var h=e;Jr(e=new qe(l,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var w=e.g=t[m];h=qn(w,l,!0,e)&&h}if(h=qn(w=e.g=s,l,!0,e)&&h,h=qn(w,l,!1,e)&&h,t)for(m=0;m<t.length;m++)h=qn(w=e.g=t[m],l,!1,e)&&h}function qn(s,e,t,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var w=e[m];if(w&&!w.fa&&w.capture==t){var F=w.listener,J=w.la||w.src;w.ia&&Je(s.i,w),h=!1!==F.call(J,l)&&h}}return h&&!l.defaultPrevented}rt(dn,It),dn.prototype[qt]=!0,dn.prototype.removeEventListener=function(s,e,t,l){X(this,s,e,t,l)},dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],l=0;l<t.length;l++)yr(t[l]);delete s.g[e],s.h--}}this.J=null},dn.prototype.O=function(s,e,t,l){return this.i.add(String(s),e,!1,t,l)},dn.prototype.P=function(s,e,t,l){return this.i.add(String(s),e,!0,t,l)};var Yr=Bt.JSON.stringify;function ze(){var s=Rr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Ot=new class dt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new fn,s=>s.reset());class fn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sn(s){var e=1;s=s.split(":");const t=[];for(;0<e&&s.length;)t.push(s.shift()),e--;return s.length&&t.push(s.join(":")),t}function Hn(s){Bt.setTimeout(()=>{throw s},0)}let gn,Pr=!1,Rr=new class Rt{constructor(){this.h=this.g=null}add(e,t){const l=Ot.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}},Ai=()=>{const s=Bt.Promise.resolve(void 0);gn=()=>{s.then(ks)}};var ks=()=>{for(var s;s=ze();){try{s.h.call(s.g)}catch(t){Hn(t)}var e=Ot;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Pr=!1};function Kr(s,e){dn.call(this),this.h=s||1,this.g=e||Bt,this.j=ht(this.qb,this),this.l=Date.now()}function vi(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function ao(s,e,t){if("function"==typeof s)t&&(s=ht(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=ht(s.handleEvent,s)}return 2147483647<Number(e)?-1:Bt.setTimeout(s,e||0)}function Ds(s){s.g=ao(()=>{s.g=null,s.i&&(s.i=!1,Ds(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}rt(Kr,dn),(Ge=Kr.prototype).ga=!1,Ge.T=null,Ge.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rn(this,"tick"),this.ga&&(vi(this),this.start()))}},Ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.N=function(){Kr.$.N.call(this),vi(this),delete this.g};class fr extends It{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ds(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(s){It.call(this),this.h=s,this.g={}}rt(ii,It);var Ri=[];function rs(s,e,t,l){Array.isArray(t)||(t&&(Ri[0]=t.toString()),t=Ri);for(var h=0;h<t.length;h++){var m=Vn(e,t[h],l||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function br(s){nr(s.g,function(e,t){this.g.hasOwnProperty(t)&&pe(e)},s),s.g={}}function ji(){this.g=!0}function qi(s,e,t,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zi(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var l=t[s];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var w=1;w<h.length;w++)h[w]=""}}}return Yr(t)}catch{return e}}(s,t)+(l?" "+l:"")})}ii.prototype.N=function(){ii.$.N.call(this),br(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ji.prototype.Ea=function(){this.g=!1},ji.prototype.info=function(){};var Fs={},Eo=null;function Wo(){return Eo=Eo||new dn}function Xa(s){qe.call(this,Fs.Ta,s)}function lo(s){const e=Wo();Rn(e,new Xa(e))}function fa(s,e){qe.call(this,Fs.STAT_EVENT,s),this.stat=e}function Hi(s){const e=Wo();Rn(e,new fa(e,s))}function Ko(s,e){qe.call(this,Fs.Ua,s),this.size=e}function qo(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){s()},e)}Fs.Ta="serverreachability",rt(Xa,qe),Fs.STAT_EVENT="statevent",rt(fa,qe),Fs.Ua="timingevent",rt(Ko,qe);var Ji={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Io={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hi(){}function Lo(){}hi.prototype.h=null;var bt,Fi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lt(){qe.call(this,"d")}function ot(){qe.call(this,"c")}function Zt(){}function Wt(s,e,t,l){this.l=s,this.j=e,this.m=t,this.W=l||1,this.U=new ii(this),this.P=lr,this.V=new Kr(s=ui?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}rt(lt,qe),rt(ot,qe),rt(Zt,hi),Zt.prototype.g=function(){return new XMLHttpRequest},Zt.prototype.i=function(){return{}},bt=new Zt;var lr=45e3,vr={},dr={};function Mi(s,e,t){s.L=1,s.v=Ss(li(e)),s.s=t,s.S=!0,co(s,null)}function co(s,e){s.G=Date.now(),Xr(s),s.A=li(s.v);var t=s.A,l=s.W;Array.isArray(l)||(l=[String(l)]),bs(t.i,"t",l),s.C=0,t=s.l.J,s.h=new Sn,s.g=Ml(s.l,t?e:null,!s.s),0<s.O&&(s.M=new fr(ht(s.Pa,s,s.g),s.O)),rs(s.U,s.g,"readystatechange",s.nb),e=s.I?di(s.I):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.A,s.u,s.s,e)):(s.u="GET",s.g.ha(s.A,s.u,null,e)),lo(),function Gr(s,e,t,l,h,m){s.info(function(){if(s.g)if(m)for(var w="",F=m.split("&"),J=0;J<F.length;J++){var ce=F[J].split("=");if(1<ce.length){var Ie=ce[0];ce=ce[1];var Ze=Ie.split("_");w=2<=Ze.length&&"type"==Ze[1]?w+(Ie+"=")+ce+"&":w+(Ie+"=redacted&")}}else w=null;else w=m;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+t+"\n"+w})}(s.j,s.u,s.A,s.m,s.W,s.s)}function Ii(s){return!!s.g&&"GET"==s.u&&2!=s.L&&s.l.Ha}function vs(s,e,t){let h,l=!0;for(;!s.J&&s.C<t.length;){if(h=Es(s,t),h==dr){4==e&&(s.o=4,Hi(14),l=!1),qi(s.j,s.m,null,"[Incomplete Response]");break}if(h==vr){s.o=4,Hi(15),qi(s.j,s.m,t,"[Invalid Chunk]"),l=!1;break}qi(s.j,s.m,h,null),Ro(s,h)}Ii(s)&&h!=dr&&h!=vr&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,Hi(16),l=!1),s.i=s.i&&l,l?0<t.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),va(e),e.M=!0,Hi(11))):(qi(s.j,s.m,t,"[Invalid Chunked Response]"),Zn(s),si(s))}function Es(s,e){var t=s.C,l=e.indexOf("\n",t);return-1==l?dr:(t=Number(e.substring(t,l)),isNaN(t)?vr:(l+=1)+t>e.length?dr:(e=e.slice(l,l+t),s.C=l+t,e))}function Xr(s){s.Y=Date.now()+s.P,Mn(s,s.P)}function Mn(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=qo(ht(s.lb,s),e)}function Qn(s){s.B&&(Bt.clearTimeout(s.B),s.B=null)}function si(s){0==s.l.H||s.J||Co(s.l,s)}function Zn(s){Qn(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,vi(s.V),br(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Ro(s,e){try{var t=s.l;if(0!=t.H&&(t.g==s||js(t.i,s)))if(!s.K&&js(t.i,s)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<s.G))break e;Ga(t),pl(t)}$a(t),Hi(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.G&&0==t.A&&!t.v&&(t.v=qo(ht(t.ib,t),6e3));if(1>=Yo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ea(t,11)}else if((s.K||t.g==s)&&Ga(t),!en(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let ce=h[e];if(t.V=ce[0],ce=ce[1],2==t.H)if("c"==ce[0]){t.K=ce[1],t.pa=ce[2];const Ie=ce[3];null!=Ie&&(t.ra=Ie,t.l.info("VER="+t.ra));const Ze=ce[4];null!=Ze&&(t.Ga=Ze,t.l.info("SVER="+t.Ga));const Ht=ce[5];null!=Ht&&"number"==typeof Ht&&0<Ht&&(t.L=l=1.5*Ht,t.l.info("backChannelRequestTimeoutMs_="+l)),l=t;const rn=s.g;if(rn){const Tn=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tn){var m=l.i;m.g||-1==Tn.indexOf("spdy")&&-1==Tn.indexOf("quic")&&-1==Tn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(es(m,m.h),m.h=null))}if(l.F){const Yn=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yn&&(l.Da=Yn,Vr(l.I,l.F,Yn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-s.G,t.l.info("Handshake RTT: "+t.S+"ms"));var w=s;if((l=t).wa=Gl(l,l.J?l.pa:null,l.Y),w.K){Or(l.i,w);var F=w,J=l.L;J&&F.setTimeout(J),F.B&&(Qn(F),Xr(F)),l.g=w}else ya(l);0<t.j.length&&To(t)}else"stop"!=ce[0]&&"close"!=ce[0]||Ea(t,7);else 3==t.H&&("stop"==ce[0]||"close"==ce[0]?"stop"==ce[0]?Ea(t,7):tl(t):"noop"!=ce[0]&&t.h&&t.h.Aa(ce),t.A=0)}lo()}catch{}}function wi(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Et(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function is(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Et(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const l in s)e[t++]=l;return e}}}(s),l=function ki(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Et(s)){for(var e=[],t=s.length,l=0;l<t;l++)e.push(s[l]);return e}for(l in e=[],t=0,s)e[t++]=s[l];return e}(s),h=l.length,m=0;m<h;m++)e.call(void 0,l[m],t&&t[m],s)}(Ge=Wt.prototype).setTimeout=function(s){this.P=s},Ge.nb=function(s){s=s.target;const e=this.M;e&&3==Os(s)?e.l():this.Pa(s)},Ge.Pa=function(s){try{if(s==this.g)e:{const Ie=Os(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ie)&&(3!=Ie||ui||this.g&&(this.h.h||this.g.ja()||Ha(this.g)))){this.J||4!=Ie||7==e||lo(),Qn(this);var t=this.g.da();this.ca=t;t:if(Ii(this)){var l=Ha(this.g);s="";var h=l.length,m=4==Os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),si(this);var w="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:m&&e==h-1});l.splice(0,h),this.h.g+=s,this.C=0,w=this.h.g}else w=this.g.ja();if(this.i=200==t,function Ki(s,e,t,l,h,m,w){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+w})}(this.j,this.u,this.A,this.m,this.W,Ie,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var F,J=this.g;if((F=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!en(F)){var ce=F;break t}}ce=null}if(!(t=ce)){this.i=!1,this.o=3,Hi(12),Zn(this),si(this);break e}qi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ro(this,t)}this.S?(vs(this,Ie,w),ui&&this.i&&3==Ie&&(rs(this.U,this.V,"tick",this.mb),this.V.start())):(qi(this.j,this.m,w,null),Ro(this,w)),4==Ie&&Zn(this),this.i&&!this.J&&(4==Ie?Co(this.l,this):(this.i=!1,Xr(this)))}else(function ga(s){const e={};s=(s.g&&2<=Os(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<s.length;l++){if(en(s[l]))continue;var t=sn(s[l]);const h=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[h]||[];e[h]=m,m.push(t)}!function Si(s,e){for(const t in s)e.call(void 0,s[t],t,s)}(e,function(l){return l.join(", ")})})(this.g),400==t&&0<w.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),Zn(this),si(this)}}}catch{}},Ge.mb=function(){if(this.g){var s=Os(this.g),e=this.g.ja();this.C<e.length&&(Qn(this),vs(this,s,e),this.i&&4!=s&&Xr(this))}},Ge.cancel=function(){this.J=!0,Zn(this)},Ge.lb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function Ls(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lo(),Hi(17)),Zn(this),this.o=2,si(this)):Mn(this,this.Y-s)};var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof sr){this.h=s.h,wo(this,s.j),this.s=s.s,this.g=s.g,uo(this,s.m),this.l=s.l;var e=s.i,t=new Va;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bi(this,t),this.o=s.o}else s&&(e=String(s).match(ds))?(this.h=!1,wo(this,e[1]||"",!0),this.s=Fr(e[2]||""),this.g=Fr(e[3]||"",!0),uo(this,e[4]),this.l=Fr(e[5]||"",!0),bi(this,e[6]||"",!0),this.o=Fr(e[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}function li(s){return new sr(s)}function wo(s,e,t){s.j=t?Fr(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function uo(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function bi(s,e,t){e instanceof Va?(s.i=e,function ho(s,e){e&&!s.j&&(Us(s),s.i=null,s.g.forEach(function(t,l){var h=l.toLowerCase();l!=h&&(Vs(this,l),bs(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=Is(e,bo)),s.i=new Va(e,s.h))}function Vr(s,e,t){s.i.set(e,t)}function Ss(s){return Vr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Fr(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Is(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,qs),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function qs(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}sr.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Is(e,Zo,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Is(e,Zo,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(Is(t,"/"==t.charAt(0)?ws:Ms,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",Is(t,Cr)),s.join("")};var Zo=/[#\/\?@]/g,Ms=/[#\?:]/g,ws=/[#\?]/g,bo=/[#\?@]/g,Cr=/#/g;function Va(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Us(s){s.g||(s.g=new Map,s.h=0,s.i&&function oa(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var l=s[t].indexOf("="),h=null;if(0<=l){var m=s[t].substring(0,l);h=s[t].substring(l+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vs(s,e){Us(s),e=Xi(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function ps(s,e){return Us(s),e=Xi(s,e),s.g.has(e)}function bs(s,e,t){Vs(s,e),0<t.length&&(s.i=null,s.g.set(Xi(s,e),Ve(t)),s.h+=t.length)}function Xi(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Ba(s){this.l=s||$i,s=Bt.PerformanceNavigationTiming?0<(s=Bt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=Va.prototype).add=function(s,e){Us(this),this.i=null,s=Xi(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},Ge.forEach=function(s,e){Us(this),this.g.forEach(function(t,l){t.forEach(function(h){s.call(e,h,l,this)},this)},this)},Ge.ta=function(){Us(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const h=s[l];for(let m=0;m<h.length;m++)t.push(e[l])}return t},Ge.Z=function(s){Us(this);let e=[];if("string"==typeof s)ps(this,s)&&(e=e.concat(this.g.get(Xi(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},Ge.set=function(s,e){return Us(this),this.i=null,ps(this,s=Xi(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Ge.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const m=encodeURIComponent(String(l)),w=this.Z(l);for(l=0;l<w.length;l++){var h=m;""!==w[l]&&(h+="="+encodeURIComponent(String(w[l]))),s.push(h)}}return this.i=s.join("&")};var $i=10;function fi(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Yo(s){return s.h?1:s.g?s.g.size:0}function js(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function es(s,e){s.g?s.g.add(e):s.h=e}function Or(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function pa(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.F);return e}return Ve(s.i)}Ba.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var Mo=class{stringify(s){return Bt.JSON.stringify(s,void 0)}parse(s){return Bt.JSON.parse(s,void 0)}};function ja(){this.g=new Mo}function Hl(s,e,t){const l=t||"";try{wi(s,function(h,m){let w=h;Nn(h)&&(w=Yr(h)),e.push(l+m+"="+encodeURIComponent(w))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function Fo(s,e,t,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch{}}function ne(s){this.l=s.fc||null,this.j=s.ob||!1}function q(s,e){dn.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=be,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(ne,hi),ne.prototype.g=function(){return new q(this.l,this.j)},ne.prototype.i=function(s){return function(){return s}}({}),rt(q,dn);var be=0;function $(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function ie(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Xe(s)}function Xe(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ge=q.prototype).open=function(s,e){if(this.readyState!=be)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Xe(this)},Ge.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ie(this)),this.readyState=be},Ge.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Xe(this)),this.g&&(this.readyState=3,Xe(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},Ge.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ie(this):Xe(this),3==this.readyState&&$(this)}},Ge.Za=function(s){this.g&&(this.response=this.responseText=s,ie(this))},Ge.Ya=function(s){this.g&&(this.response=s,ie(this))},Ge.ka=function(){this.g&&ie(this)},Ge.setRequestHeader=function(s,e){this.v.append(s,e)},Ge.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(q.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var et=Bt.JSON.parse;function xt(s){dn.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bn,this.L=this.M=!1}rt(xt,dn);var bn="",Ir=/^https?$/i,oi=["POST","PUT"];function Po(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,ma(s),$l(s)}function ma(s){s.F||(s.F=!0,Rn(s,"complete"),Rn(s,"error"))}function Rl(s){if(s.h&&typeof Ke<"u"&&(!s.C[1]||4!=Os(s)||2!=s.da()))if(s.v&&4==Os(s))ao(s.La,0,s);else if(Rn(s,"readystatechange"),4==Os(s)){s.h=!1;try{const w=s.da();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===w){var h=String(s.I).match(ds)[1]||null;!h&&Bt.self&&Bt.self.location&&(h=Bt.self.location.protocol.slice(0,-1)),l=!Ir.test(h?h.toLowerCase():"")}t=l}if(t)Rn(s,"complete"),Rn(s,"success");else{s.m=6;try{var m=2<Os(s)?s.g.statusText:""}catch{m=""}s.j=m+" ["+s.da()+"]",ma(s)}}finally{$l(s)}}}function $l(s,e){if(s.g){Pa(s);const t=s.g,l=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||Rn(s,"ready");try{t.onreadystatechange=l}catch{}}}function Pa(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(Bt.clearTimeout(s.A),s.A=null)}function Os(s){return s.g?s.g.readyState:0}function Ha(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case bn:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function As(s){let e="";return nr(s,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function Uo(s,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=As(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):Vr(s,e,t))}function _a(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function el(s){this.Ga=0,this.j=[],this.l=new ji,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_a("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_a("baseRetryDelayMs",5e3,s),this.hb=_a("retryDelaySeedMs",1e4,s),this.eb=_a("forwardChannelMaxRetries",2,s),this.xa=_a("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.dc||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new Ba(s&&s.concurrentRequestLimit),this.Ja=new ja,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tl(s){if(ml(s),3==s.H){var e=s.W++,t=li(s.I);if(Vr(t,"SID",s.K),Vr(t,"RID",e),Vr(t,"TYPE","terminate"),rc(s,t),(e=new Wt(s,s.l,e)).L=2,e.v=Ss(li(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{t=Bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ml(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xr(e)}Ia(s)}function pl(s){s.g&&(va(s),s.g.cancel(),s.g=null)}function ml(s){pl(s),s.u&&(Bt.clearTimeout(s.u),s.u=null),Ga(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Bt.clearTimeout(s.m),s.m=null)}function To(s){if(!fi(s.i)&&!s.m){s.m=!0;var e=s.Na;gn||Ai(),Pr||(gn(),Pr=!0),Rr.add(e,s),s.C=0}}function hs(s,e){var t;t=e?e.m:s.W++;const l=li(s.I);Vr(l,"SID",s.K),Vr(l,"RID",t),Vr(l,"AID",s.V),rc(s,l),s.o&&s.s&&Uo(l,s.o,s.s),t=new Wt(s,s.l,t,s.C+1),null===s.o&&(t.I=s.s),e&&(s.j=e.F.concat(s.j)),e=Zs(s,t,1e3),t.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),es(s.i,t),Mi(t,l,e)}function rc(s,e){s.na&&nr(s.na,function(t,l){Vr(e,l,t)}),s.h&&wi({},function(t,l){Vr(e,l,t)})}function Zs(s,e,t){t=Math.min(s.j.length,t);var l=s.h?ht(s.h.Va,s.h,s):null;e:{var h=s.j;let m=-1;for(;;){const w=["count="+t];-1==m?0<t?(m=h[0].g,w.push("ofs="+m)):m=0:w.push("ofs="+m);let F=!0;for(let J=0;J<t;J++){let ce=h[J].g;const Ie=h[J].map;if(ce-=m,0>ce)m=Math.max(0,h[J].g-100),F=!1;else try{Hl(Ie,w,"req"+ce+"_")}catch{l&&l(Ie)}}if(F){l=w.join("&");break e}}}return s=s.j.splice(0,t),e.F=s,l}function ya(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;gn||Ai(),Pr||(gn(),Pr=!0),Rr.add(e,s),s.A=0}}function $a(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=qo(ht(s.Ma,s),gl(s,s.A)),s.A++,0))}function va(s){null!=s.B&&(Bt.clearTimeout(s.B),s.B=null)}function ic(s){s.g=new Wt(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=li(s.wa);Vr(e,"RID","rpc"),Vr(e,"SID",s.K),Vr(e,"AID",s.V),Vr(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&Vr(e,"TO",s.qa),Vr(e,"TYPE","xmlhttp"),rc(s,e),s.o&&s.s&&Uo(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var t=s.g;s=s.pa,t.L=1,t.v=Ss(li(e)),t.s=null,t.S=!0,co(t,s)}function Ga(s){null!=s.v&&(Bt.clearTimeout(s.v),s.v=null)}function Co(s,e){var t=null;if(s.g==e){Ga(s),va(s),s.g=null;var l=2}else{if(!js(s.i,e))return;t=e.F,Or(s.i,e),l=1}if(0!=s.H)if(e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=s.C;Rn(l=Wo(),new Ko(l,t)),To(s)}else ya(s);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==l&&function Oa(s,e){return!(Yo(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=qo(ht(s.Na,s,e),gl(s,s.C)),s.C++,0)))}(s,e)||2==l&&$a(s)))switch(t&&0<t.length&&(e=s.i,e.i=e.i.concat(t)),h){case 1:Ea(s,5);break;case 4:Ea(s,10);break;case 3:Ea(s,6);break;default:Ea(s,2)}}function gl(s,e){let t=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(t*=2),t*e}function Ea(s,e){if(s.l.info("Error code "+e),2==e){var t=null;s.h&&(t=null);var l=ht(s.pb,s);t||(t=new sr("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||wo(t,"https"),Ss(t)),function Qo(s,e){const t=new ji;if(Bt.Image){const l=new Image;l.onload=Dt(Fo,t,l,"TestLoadImage: loaded",!0,e),l.onerror=Dt(Fo,t,l,"TestLoadImage: error",!1,e),l.onabort=Dt(Fo,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=Dt(Fo,t,l,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(t.toString(),l)}else Hi(2);s.H=0,s.h&&s.h.za(e),Ia(s),ml(s)}function Ia(s){if(s.H=0,s.ma=[],s.h){const e=pa(s.i);(0!=e.length||0!=s.j.length)&&(Te(s.ma,e),Te(s.ma,s.j),s.i.i.length=0,Ve(s.j),s.j.length=0),s.h.ya()}}function Gl(s,e,t){var l=t instanceof sr?li(t):new sr(t);if(""!=l.g)e&&(l.g=e+"."+l.g),uo(l,l.m);else{var h=Bt.location;l=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new sr(null);l&&wo(m,l),e&&(m.g=e),h&&uo(m,h),t&&(m.l=t),l=m}return e=s.Da,(t=s.F)&&e&&Vr(l,t,e),Vr(l,"VER",s.ra),rc(s,l),l}function Ml(s,e,t){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xt(t&&s.Ha&&!s.va?new ne({ob:!0}):s.va)).Oa(s.J),e}function sc(){}function nl(){if(Er&&!(10<=Number(ai)))throw Error("Environmental error: no available transport.")}function Oo(s,e){dn.call(this),this.g=new el(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!en(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!en(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new aa(this)}function Vc(s){lt.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function zl(){ot.call(this),this.status=1}function aa(s){this.g=s}function fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function la(s,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)l[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)l[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=s.g[3],w=(e=s.g[0])+(m^(t=s.g[1])&((h=s.g[2])^m))+l[0]+3614090360&4294967295;w=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=t+(w<<7&4294967295|w>>>25))+((w=m+(h^e&(t^h))+l[1]+3905402710&4294967295)<<12&4294967295|w>>>20))+((w=h+(t^m&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|w>>>15))+((w=t+(e^h&(m^e))+l[3]+3250441966&4294967295)<<22&4294967295|w>>>10))+((w=e+(m^t&(h^m))+l[4]+4118548399&4294967295)<<7&4294967295|w>>>25))+((w=m+(h^e&(t^h))+l[5]+1200080426&4294967295)<<12&4294967295|w>>>20))+((w=h+(t^m&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|w>>>15))+((w=t+(e^h&(m^e))+l[7]+4249261313&4294967295)<<22&4294967295|w>>>10))+((w=e+(m^t&(h^m))+l[8]+1770035416&4294967295)<<7&4294967295|w>>>25))+((w=m+(h^e&(t^h))+l[9]+2336552879&4294967295)<<12&4294967295|w>>>20))+((w=h+(t^m&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|w>>>15))+((w=t+(e^h&(m^e))+l[11]+2304563134&4294967295)<<22&4294967295|w>>>10))+((w=e+(m^t&(h^m))+l[12]+1804603682&4294967295)<<7&4294967295|w>>>25))+((w=m+(h^e&(t^h))+l[13]+4254626195&4294967295)<<12&4294967295|w>>>20))+((w=h+(t^m&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|w>>>15))+((w=t+(e^h&(m^e))+l[15]+1236535329&4294967295)<<22&4294967295|w>>>10))+((w=e+(h^m&(t^h))+l[1]+4129170786&4294967295)<<5&4294967295|w>>>27))+((w=m+(t^h&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|w>>>23))+((w=h+(e^t&(m^e))+l[11]+643717713&4294967295)<<14&4294967295|w>>>18))+((w=t+(m^e&(h^m))+l[0]+3921069994&4294967295)<<20&4294967295|w>>>12))+((w=e+(h^m&(t^h))+l[5]+3593408605&4294967295)<<5&4294967295|w>>>27))+((w=m+(t^h&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|w>>>23))+((w=h+(e^t&(m^e))+l[15]+3634488961&4294967295)<<14&4294967295|w>>>18))+((w=t+(m^e&(h^m))+l[4]+3889429448&4294967295)<<20&4294967295|w>>>12))+((w=e+(h^m&(t^h))+l[9]+568446438&4294967295)<<5&4294967295|w>>>27))+((w=m+(t^h&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|w>>>23))+((w=h+(e^t&(m^e))+l[3]+4107603335&4294967295)<<14&4294967295|w>>>18))+((w=t+(m^e&(h^m))+l[8]+1163531501&4294967295)<<20&4294967295|w>>>12))+((w=e+(h^m&(t^h))+l[13]+2850285829&4294967295)<<5&4294967295|w>>>27))+((w=m+(t^h&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|w>>>23))+((w=h+(e^t&(m^e))+l[7]+1735328473&4294967295)<<14&4294967295|w>>>18))+((w=t+(m^e&(h^m))+l[12]+2368359562&4294967295)<<20&4294967295|w>>>12))+((w=e+(t^h^m)+l[5]+4294588738&4294967295)<<4&4294967295|w>>>28))+((w=m+(e^t^h)+l[8]+2272392833&4294967295)<<11&4294967295|w>>>21))+((w=h+(m^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|w>>>16))+((w=t+(h^m^e)+l[14]+4259657740&4294967295)<<23&4294967295|w>>>9))+((w=e+(t^h^m)+l[1]+2763975236&4294967295)<<4&4294967295|w>>>28))+((w=m+(e^t^h)+l[4]+1272893353&4294967295)<<11&4294967295|w>>>21))+((w=h+(m^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|w>>>16))+((w=t+(h^m^e)+l[10]+3200236656&4294967295)<<23&4294967295|w>>>9))+((w=e+(t^h^m)+l[13]+681279174&4294967295)<<4&4294967295|w>>>28))+((w=m+(e^t^h)+l[0]+3936430074&4294967295)<<11&4294967295|w>>>21))+((w=h+(m^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|w>>>16))+((w=t+(h^m^e)+l[6]+76029189&4294967295)<<23&4294967295|w>>>9))+((w=e+(t^h^m)+l[9]+3654602809&4294967295)<<4&4294967295|w>>>28))+((w=m+(e^t^h)+l[12]+3873151461&4294967295)<<11&4294967295|w>>>21))+((w=h+(m^e^t)+l[15]+530742520&4294967295)<<16&4294967295|w>>>16))+((w=t+(h^m^e)+l[2]+3299628645&4294967295)<<23&4294967295|w>>>9))+((w=e+(h^(t|~m))+l[0]+4096336452&4294967295)<<6&4294967295|w>>>26))+((w=m+(t^(e|~h))+l[7]+1126891415&4294967295)<<10&4294967295|w>>>22))+((w=h+(e^(m|~t))+l[14]+2878612391&4294967295)<<15&4294967295|w>>>17))+((w=t+(m^(h|~e))+l[5]+4237533241&4294967295)<<21&4294967295|w>>>11))+((w=e+(h^(t|~m))+l[12]+1700485571&4294967295)<<6&4294967295|w>>>26))+((w=m+(t^(e|~h))+l[3]+2399980690&4294967295)<<10&4294967295|w>>>22))+((w=h+(e^(m|~t))+l[10]+4293915773&4294967295)<<15&4294967295|w>>>17))+((w=t+(m^(h|~e))+l[1]+2240044497&4294967295)<<21&4294967295|w>>>11))+((w=e+(h^(t|~m))+l[8]+1873313359&4294967295)<<6&4294967295|w>>>26))+((w=m+(t^(e|~h))+l[15]+4264355552&4294967295)<<10&4294967295|w>>>22))+((w=h+(e^(m|~t))+l[6]+2734768916&4294967295)<<15&4294967295|w>>>17))+((w=t+(m^(h|~e))+l[13]+1309151649&4294967295)<<21&4294967295|w>>>11))+((m=(e=t+((w=e+(h^(t|~m))+l[4]+4149444226&4294967295)<<6&4294967295|w>>>26))+((w=m+(t^(e|~h))+l[11]+3174756917&4294967295)<<10&4294967295|w>>>22))^((h=m+((w=h+(e^(m|~t))+l[2]+718787259&4294967295)<<15&4294967295|w>>>17))|~e))+l[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(h+(w<<21&4294967295|w>>>11))&4294967295,s.g[2]=s.g[2]+h&4294967295,s.g[3]=s.g[3]+m&4294967295}function Ti(s,e){this.h=e;for(var t=[],l=!0,h=s.length-1;0<=h;h--){var m=0|s[h];l&&m==e||(t[h]=m,l=!1)}this.g=t}(Ge=xt.prototype).Oa=function(s){this.M=s},Ge.ha=function(s,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bt.g(),this.C=function Ao(s){return s.h||(s.h=s.i())}(this.u?this.u:bt),this.g.onreadystatechange=ht(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(m){return void Po(this,m)}if(s=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var h in l)t.set(h,l[h]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const m of l.keys())t.set(m,l.get(m))}l=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=Bt.FormData&&s instanceof Bt.FormData,!(0<=Ee(oi,e))||l||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,w]of t)this.g.setRequestHeader(m,w);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pa(this),0<this.B&&((this.L=function Ps(s){return Er&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.ua,this)):this.A=ao(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){Po(this,m)}},Ge.ua=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))},Ge.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Rn(this,"complete"),Rn(this,"abort"),$l(this))},Ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$l(this,!0)),xt.$.N.call(this)},Ge.La=function(){this.s||(this.G||this.v||this.l?Rl(this):this.kb())},Ge.kb=function(){Rl(this)},Ge.isActive=function(){return!!this.g},Ge.da=function(){try{return 2<Os(this)?this.g.status:-1}catch{return-1}},Ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ge.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),et(e)}},Ge.Ia=function(){return this.m},Ge.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=el.prototype).ra=8,Ge.H=1,Ge.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const h=new Wt(this,this.l,s);let m=this.s;if(this.U&&(m?(m=di(m),Jr(m,this.U)):m=this.U),null!==this.o||this.O||(h.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var l=this.j[t];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Zs(this,h,e),Vr(t=li(this.I),"RID",s),Vr(t,"CVER",22),this.F&&Vr(t,"X-HTTP-Session-Id",this.F),rc(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(As(m)))+"&"+e:this.o&&Uo(t,this.o,m)),es(this.i,h),this.bb&&Vr(t,"TYPE","init"),this.P?(Vr(t,"$req",e),Vr(t,"SID","null"),h.aa=!0,Mi(h,t,null)):Mi(h,t,e),this.H=2}}else 3==this.H&&(s?hs(this,s):0==this.j.length||fi(this.i)||hs(this))},Ge.Ma=function(){if(this.u=null,ic(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=qo(ht(this.jb,this),s)}},Ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hi(10),pl(this),ic(this))},Ge.ib=function(){null!=this.v&&(this.v=null,pl(this),$a(this),Hi(19))},Ge.pb=function(s){s?(this.l.info("Successfully pinged google.com"),Hi(2)):(this.l.info("Failed to ping google.com"),Hi(1))},Ge.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ge=sc.prototype).Ba=function(){},Ge.Aa=function(){},Ge.za=function(){},Ge.ya=function(){},Ge.isActive=function(){return!0},Ge.Va=function(){},nl.prototype.g=function(s,e){return new Oo(s,e)},rt(Oo,dn),Oo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,t=this.h||void 0;Hi(0),s.Y=e,s.na=t||{},s.G=s.aa,s.I=Gl(s,null,s.Y),To(s)},Oo.prototype.close=function(){tl(this.g)},Oo.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Yr(s),s=t);e.j.push(new class{constructor(s,e){this.g=s,this.map=e}}(e.fb++,s)),3==e.H&&To(e)},Oo.prototype.N=function(){this.g.h=null,delete this.j,tl(this.g),delete this.g,Oo.$.N.call(this)},rt(Vc,lt),rt(zl,ot),rt(aa,sc),aa.prototype.Ba=function(){Rn(this.g,"a")},aa.prototype.Aa=function(s){Rn(this.g,new Vc(s))},aa.prototype.za=function(s){Rn(this.g,new zl)},aa.prototype.ya=function(){Rn(this.g,"b")},rt(fo,function wc(){this.blockSize=-1}),fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fo.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var t=e-this.blockSize,l=this.m,h=this.h,m=0;m<e;){if(0==h)for(;m<=t;)la(this,s,m),m+=this.blockSize;if("string"==typeof s){for(;m<e;)if(l[h++]=s.charCodeAt(m++),h==this.blockSize){la(this,l),h=0;break}}else for(;m<e;)if(l[h++]=s[m++],h==this.blockSize){la(this,l),h=0;break}}this.h=h,this.i+=e},fo.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var t=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&t,t/=256;for(this.j(s),s=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)s[t++]=this.g[e]>>>l&255;return s};var N={};function re(s){return-128<=s&&128>s?function xr(s,e){var t=N;return Object.prototype.hasOwnProperty.call(t,s)?t[s]:t[s]=e(s)}(s,function(e){return new Ti([0|e],0>e?-1:0)}):new Ti([0|s],0>s?-1:0)}function Ne(s){if(isNaN(s)||!isFinite(s))return K;if(0>s)return nt(Ne(-s));for(var e=[],t=1,l=0;s>=t;l++)e[l]=s/t|0,t*=M;return new Ti(e,0)}var M=4294967296,K=re(0),ae=re(1),fe=re(16777216);function Me(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function st(s){return-1==s.h}function nt(s){for(var e=s.g.length,t=[],l=0;l<e;l++)t[l]=~s.g[l];return new Ti(t,~s.h).add(ae)}function At(s,e){return s.add(nt(e))}function Jt(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function mn(s,e){this.g=s,this.h=e}function on(s,e){if(Me(e))throw Error("division by zero");if(Me(s))return new mn(K,K);if(st(s))return e=on(nt(s),e),new mn(nt(e.g),nt(e.h));if(st(e))return e=on(s,nt(e)),new mn(nt(e.g),e.h);if(30<s.g.length){if(st(s)||st(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ae,l=e;0>=l.X(s);)t=jn(t),l=jn(l);var h=mr(t,1),m=mr(l,1);for(l=mr(l,2),t=mr(t,2);!Me(l);){var w=m.add(l);0>=w.X(s)&&(h=h.add(t),m=w),l=mr(l,1),t=mr(t,1)}return e=At(s,h.R(e)),new mn(h,e)}for(h=K;0<=s.X(e);){for(t=Math.max(1,Math.floor(s.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),w=(m=Ne(t)).R(e);st(w)||0<w.X(s);)w=(m=Ne(t-=l)).R(e);Me(m)&&(m=ae),h=h.add(m),s=At(s,w)}return new mn(h,s)}function jn(s){for(var e=s.g.length+1,t=[],l=0;l<e;l++)t[l]=s.D(l)<<1|s.D(l-1)>>>31;return new Ti(t,s.h)}function mr(s,e){var t=e>>5;e%=32;for(var l=s.g.length-t,h=[],m=0;m<l;m++)h[m]=0<e?s.D(m+t)>>>e|s.D(m+t+1)<<32-e:s.D(m+t);return new Ti(h,s.h)}(Ge=Ti.prototype).ea=function(){if(st(this))return-nt(this).ea();for(var s=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);s+=(0<=l?l:M+l)*e,e*=M}return s},Ge.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(Me(this))return"0";if(st(this))return"-"+nt(this).toString(s);for(var e=Ne(Math.pow(s,6)),t=this,l="";;){var h=on(t,e).g,m=((0<(t=At(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(s);if(Me(t=h))return m+l;for(;6>m.length;)m="0"+m;l=m+l}},Ge.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},Ge.X=function(s){return st(s=At(this,s))?-1:Me(s)?0:1},Ge.abs=function(){return st(this)?nt(this):this},Ge.add=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0,h=0;h<=e;h++){var m=l+(65535&this.D(h))+(65535&s.D(h)),w=(m>>>16)+(this.D(h)>>>16)+(s.D(h)>>>16);l=w>>>16,t[h]=(w&=65535)<<16|(m&=65535)}return new Ti(t,-2147483648&t[t.length-1]?-1:0)},Ge.R=function(s){if(Me(this)||Me(s))return K;if(st(this))return st(s)?nt(this).R(nt(s)):nt(nt(this).R(s));if(st(s))return nt(this.R(nt(s)));if(0>this.X(fe)&&0>s.X(fe))return Ne(this.ea()*s.ea());for(var e=this.g.length+s.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var h=0;h<s.g.length;h++){var m=this.D(l)>>>16,w=65535&this.D(l),F=s.D(h)>>>16,J=65535&s.D(h);t[2*l+2*h]+=w*J,Jt(t,2*l+2*h),t[2*l+2*h+1]+=m*J,Jt(t,2*l+2*h+1),t[2*l+2*h+1]+=w*F,Jt(t,2*l+2*h+1),t[2*l+2*h+2]+=m*F,Jt(t,2*l+2*h+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new Ti(t,0)},Ge.gb=function(s){return on(this,s).h},Ge.and=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&s.D(l);return new Ti(t,this.h&s.h)},Ge.or=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|s.D(l);return new Ti(t,this.h|s.h)},Ge.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^s.D(l);return new Ti(t,this.h^s.h)},nl.prototype.createWebChannel=nl.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Io.COMPLETE="complete",Lo.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",dn.prototype.listen=dn.prototype.O,xt.prototype.listenOnce=xt.prototype.P,xt.prototype.getLastError=xt.prototype.Sa,xt.prototype.getLastErrorCode=xt.prototype.Ia,xt.prototype.getStatus=xt.prototype.da,xt.prototype.getResponseJson=xt.prototype.Wa,xt.prototype.getResponseText=xt.prototype.ja,xt.prototype.send=xt.prototype.ha,xt.prototype.setWithCredentials=xt.prototype.Oa,fo.prototype.digest=fo.prototype.l,fo.prototype.reset=fo.prototype.reset,fo.prototype.update=fo.prototype.j,Ti.prototype.add=Ti.prototype.add,Ti.prototype.multiply=Ti.prototype.R,Ti.prototype.modulo=Ti.prototype.gb,Ti.prototype.compare=Ti.prototype.X,Ti.prototype.toNumber=Ti.prototype.ea,Ti.prototype.toString=Ti.prototype.toString,Ti.prototype.getBits=Ti.prototype.D,Ti.fromNumber=Ne,Ti.fromString=function Y(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return nt(Y(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ne(Math.pow(e,8)),l=K,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),w=parseInt(s.substring(h,h+m),e);8>m?(m=Ne(Math.pow(e,m)),l=l.R(m).add(Ne(w))):l=(l=l.R(t)).add(Ne(w))}return l};var Ur=Pt.createWebChannelTransport=function(){return new nl},ei=Pt.getStatEventTarget=function(){return Wo()},ts=Pt.ErrorCode=Ji,Ui=Pt.EventType=Io,Ys=Pt.Event=Fs,ss=Pt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pi=Pt.FetchXmlHttpFactory=ne,Hs=Pt.WebChannel=Lo,cr=Pt.XhrIo=xt,wa=Pt.Md5=fo,rl=Pt.Integer=Ti;const Bc="@firebase/firestore";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let Qs="9.23.0";const xo=new Qe.Yd("@firebase/firestore");function oc(){return xo.logLevel}function _n(s,...e){if(xo.logLevel<=Qe.in.DEBUG){const t=e.map(gf);xo.debug(`Firestore (${Qs}): ${s}`,...t)}}function Js(s,...e){if(xo.logLevel<=Qe.in.ERROR){const t=e.map(gf);xo.error(`Firestore (${Qs}): ${s}`,...t)}}function za(s,...e){if(xo.logLevel<=Qe.in.WARN){const t=e.map(gf);xo.warn(`Firestore (${Qs}): ${s}`,...t)}}function gf(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function pt(s="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+s;throw Js(e),new Error(e)}function wn(s,e){s||pt()}function Ln(s,e){return s}const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class an extends He.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ns.UNAUTHENTICATED))}shutdown(){}}class ms{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ku{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let h=this.i;const m=ce=>this.i!==h?(h=this.i,t(ce)):Promise.resolve();let w=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new ci,e.enqueueRetryable(()=>m(this.currentUser))};const F=()=>{const ce=w;e.enqueueRetryable((0,Ye.Z)(function*(){yield ce.promise,yield m(l.currentUser)}))},J=ce=>{_n("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ce,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(ce=>J(ce)),setTimeout(()=>{if(!this.auth){const ce=this.t.getImmediate({optional:!0});ce?J(ce):(_n("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new ci)}},0),F()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(_n("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(wn("string"==typeof l.accessToken),new Jo(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new ns(e)}}class du{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hu{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new du(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class il{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=m=>{null!=m.error&&_n("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const w=m.token!==this.T;return this.T=m.token,_n("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>l(m))};const h=m=>{_n("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):_n("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new Vo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pl(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<s;l++)t[l]=Math.floor(256*Math.random());return t}class No{static A(){const t=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=Pl(40);for(let m=0;m<h.length;++m)l.length<20&&h[m]<t&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return l}}function Dr(s,e){return s<e?-1:s>e?1:0}function sl(s,e,t){return s.length===e.length&&s.every((l,h)=>t(l,e[h]))}function Wl(s){return s+"\0"}class gs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new an(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new an(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new an(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new an(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gs.fromMillis(Date.now())}static fromDate(e){return gs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new gs(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dr(this.nanoseconds,e.nanoseconds):Dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gr(e)}static min(){return new gr(new gs(0,0))}static max(){return new gr(new gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xa{constructor(e,t,l){void 0===t?t=0:t>e.length&&pt(),void 0===l?l=e.length-t:l>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===xa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let h=0;h<l;h++){const m=e.get(h),w=t.get(h);if(m<w)return-1;if(m>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ci extends xa{construct(e,t,l){return new Ci(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new an(kt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(h=>h.length>0))}return new Ci(t)}static emptyPath(){return new Ci([])}}const fu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $s extends xa{construct(e,t,l){return new $s(e,t,l)}static isValidIdentifier(e){return fu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$s.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $s(["__name__"])}static fromServerFormat(e){const t=[];let l="",h=0;const m=()=>{if(0===l.length)throw new an(kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let w=!1;for(;h<e.length;){const F=e[h];if("\\"===F){if(h+1===e.length)throw new an(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const J=e[h+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new an(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=J,h+=2}else"`"===F?(w=!w,h++):"."!==F||w?(l+=F,h++):(m(),h++)}if(m(),w)throw new an(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $s(t)}static emptyPath(){return new $s([])}}class xn{constructor(e){this.path=e}static fromPath(e){return new xn(Ci.fromString(e))}static fromName(e){return new xn(Ci.fromString(e).popFirst(5))}static empty(){return new xn(Ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ci.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ci.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xn(new Ci(e.slice()))}}class ac{constructor(e,t,l,h){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=h}}function Ol(s){return s.fields.find(e=>2===e.kind)}function _l(s){return s.fields.filter(e=>2!==e.kind)}ac.UNKNOWN_ID=-1;class B{constructor(e,t){this.fieldPath=e,this.kind=t}}class L{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new L(0,Re.min())}}function ee(s,e){const t=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,h=gr.fromTimestamp(1e9===l?new gs(t+1,0):new gs(t,l));return new Re(h,xn.empty(),e)}function _e(s){return new Re(s.readTime,s.key,-1)}class Re{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new Re(gr.min(),xn.empty(),-1)}static max(){return new Re(gr.max(),xn.empty(),-1)}}function gt(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=xn.comparator(s.documentKey,e.documentKey),0!==t?t:Dr(s.largestBatchId,e.largestBatchId))}const In="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function or(s){return ti.apply(this,arguments)}function ti(){return ti=(0,Ye.Z)(function*(s){if(s.code!==kt.FAILED_PRECONDITION||s.message!==In)throw s;_n("LocalStore","Unexpectedly lost primary lease")}),ti.apply(this,arguments)}class Ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ct((l,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(l,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(l,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ct?t:Ct.resolve(t)}catch(t){return Ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ct.reject(t)}static resolve(e){return new Ct((t,l)=>{t(e)})}static reject(e){return new Ct((t,l)=>{l(e)})}static waitFor(e){return new Ct((t,l)=>{let h=0,m=0,w=!1;e.forEach(F=>{++h,F.next(()=>{++m,w&&m===h&&t()},J=>l(J))}),w=!0,m===h&&t()})}static or(e){let t=Ct.resolve(!1);for(const l of e)t=t.next(h=>h?Ct.resolve(h):l());return t}static forEach(e,t){const l=[];return e.forEach((h,m)=>{l.push(t.call(this,h,m))}),this.waitFor(l)}static mapArray(e,t){return new Ct((l,h)=>{const m=e.length,w=new Array(m);let F=0;for(let J=0;J<m;J++){const ce=J;t(e[ce]).next(Ie=>{w[ce]=Ie,++F,F===m&&l(w)},Ie=>h(Ie))}})}static doWhile(e,t){return new Ct((l,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):l()};m()})}}class Oi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ci,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ol(e,t.error)):this.v.resolve()},this.transaction.onerror=l=>{const h=lc(l.target.error);this.v.reject(new ol(e,h))}}static open(e,t,l,h){try{return new Oi(t,e.transaction(h,l))}catch(m){throw new ol(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(_n("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kl(t)}}class os{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===os.S((0,He.z$)())&&Js("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _n("SimpleDb","Removing database:",e),Na(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,He.hl)())return!1;if(os.C())return!0;const e=(0,He.z$)(),t=os.S(e),l=0<t&&t<10,h=os.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var t=this;return(0,Ye.Z)(function*(){return t.db||(_n("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=w=>{l(w.target.result)},m.onblocked=()=>{h(new ol(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=w=>{const F=w.target.error;h("VersionError"===F.name?new an(kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===F.name?new an(kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+F):new ol(e,F))},m.onupgradeneeded=w=>{_n("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.V.O(w.target.result,m.transaction,w.oldVersion,t.version).next(()=>{_n("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,h){var m=this;return(0,Ye.Z)(function*(){const w="readonly"===t;let F=0;for(;;){++F;try{m.db=yield m.$(e);const J=Oi.open(m.db,e,w?"readonly":"readwrite",l),ce=h(J).next(Ie=>(J.P(),Ie)).catch(Ie=>(J.abort(Ie),Ct.reject(Ie))).toPromise();return ce.catch(()=>{}),yield J.R,ce}catch(J){const ce=J,Ie="FirebaseError"!==ce.name&&F<3;if(_n("SimpleDb","Transaction failed with error:",ce.message,"Retrying:",Ie),m.close(),!Ie)return Promise.reject(ce)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wa{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Na(this.L.delete())}}class ol extends an{constructor(e,t){super(kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Do(s){return"IndexedDbTransactionError"===s.name}class Kl{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(_n("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(_n("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Na(l)}add(e){return _n("SimpleDb","ADD",this.store.name,e,e),Na(this.store.add(e))}get(e){return Na(this.store.get(e)).next(t=>(void 0===t&&(t=null),_n("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return _n("SimpleDb","DELETE",this.store.name,e),Na(this.store.delete(e))}count(){return _n("SimpleDb","COUNT",this.store.name),Na(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),m=[];return this.W(h,(w,F)=>{m.push(F)}).next(()=>m)}{const h=this.store.getAll(l.range);return new Ct((m,w)=>{h.onerror=F=>{w(F.target.error)},h.onsuccess=F=>{m(F.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new Ct((h,m)=>{l.onerror=w=>{m(w.target.error)},l.onsuccess=w=>{h(w.target.result)}})}J(e,t){_n("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const h=this.cursor(l);return this.W(h,(m,w,F)=>F.delete())}X(e,t){let l;t?l=e:(l={},t=e);const h=this.cursor(l);return this.W(h,t)}Z(e){const t=this.cursor({});return new Ct((l,h)=>{t.onerror=m=>{const w=lc(m.target.error);h(w)},t.onsuccess=m=>{const w=m.target.result;w?e(w.primaryKey,w.value).next(F=>{F?w.continue():l()}):l()}})}W(e,t){const l=[];return new Ct((h,m)=>{e.onerror=w=>{m(w.target.error)},e.onsuccess=w=>{const F=w.target.result;if(!F)return void h();const J=new Wa(F),ce=t(F.primaryKey,F.value,J);if(ce instanceof Ct){const Ie=ce.catch(Ze=>(J.done(),Ct.reject(Ze)));l.push(Ie)}J.isDone?h():null===J.K?F.continue():F.continue(J.K)}}).next(()=>Ct.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Na(s){return new Ct((e,t)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const h=lc(l.target.error);t(h)}})}let pu=!1;function lc(s){const e=os.S((0,He.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const l=new an("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pu||(pu=!0,setTimeout(()=>{throw l},0)),l}}return s}class xd{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;_n("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ye.Z)(function*(){t.task=null;try{_n("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){Do(l)?_n("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield or(l)}yield t.et(6e4)}))}}class xl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let h=t,m=!0;return Ct.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!l.has(w))return _n("IndexBackiller",`Processing collection: ${w}`),this.it(e,w,h).next(F=>{h-=F,l.add(w)});m=!1})).next(()=>t-h)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,l).next(m=>{const w=m.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.rt(h,m)).next(F=>(_n("IndexBackiller",`Updating offset: ${F}`),this.localStore.indexManager.updateCollectionGroup(e,t,F))).next(()=>w.size)}))}rt(e,t){let l=e;return t.changes.forEach((h,m)=>{const w=_e(m);gt(w,l)>0&&(l=w)}),new Re(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xs=(()=>{class s{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>l.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return s.ct=-1,s})();function po(s){return null==s}function Fu(s){return 0===s&&1/s==-1/0}function ud(s){return"number"==typeof s&&Number.isInteger(s)&&!Fu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Gs(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=al(e)),e=Uu(s.get(t),e);return al(e)}function Uu(s,e){let t=e;const l=s.length;for(let h=0;h<l;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function al(s){return s+"\x01\x01"}function eo(s){const e=s.length;if(wn(e>=2),2===e)return wn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Ci.emptyPath();const t=e-2,l=[];let h="";for(let m=0;m<e;){const w=s.indexOf("\x01",m);switch((w<0||w>t)&&pt(),s.charAt(w+1)){case"\x01":const F=s.substring(m,w);let J;0===h.length?J=F:(h+=F,J=h,h=""),l.push(J);break;case"\x10":h+=s.substring(m,w),h+="\0";break;case"\x11":h+=s.substring(m,w+1);break;default:pt()}m=w+2}return new Ci(l)}const mu=["userId","batchId"];function yl(s,e){return[s,Gs(e)]}function gu(s,e,t){return[s,Gs(e),t]}const Hc={},mh=["prefixPath","collectionGroup","readTime","documentId"],$c=["prefixPath","collectionGroup","documentId"],Gc=["collectionGroup","readTime","prefixPath","documentId"],Tc=["canonicalId","targetId"],gh=["targetId","path"],_f=["path","targetId"],zc=["collectionId","parent"],_h=["indexId","uid"],zs=["uid","sequenceNumber"],_u=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vu=["indexId","uid","orderedDocumentKey"],Wc=["userId","collectionPath","documentId"],Nd=["userId","collectionPath","largestBatchId"],ql=["userId","collectionGroup","largestBatchId"],yu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dd=[...yu,"documentOverlays"],Kc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bu=Kc,vu=[...Bu,"indexConfiguration","indexState","indexEntries"];class ju extends Xt{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Bo(s,e){const t=Ln(s);return os.M(t.ht,e)}function Hu(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ca(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function yf(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class as{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new as(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new as(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return t+l.left.size;h<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nl(this.root,e,this.comparator,!0)}}class Nl{constructor(e,t,l,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?l(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,l,h,m){this.key=e,this.value=t,this.color=l??xs.RED,this.left=h??xs.EMPTY,this.right=m??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,h,m){return new xs(e??this.key,t??this.value,l??this.color,h??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,l),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return xs.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(s,e,t,l,h){return this}insert(s,e,t){return new xs(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fs{constructor(e){this.comparator=e,this.data=new as(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mo(this.data.getIterator())}getIteratorFrom(e){return new mo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fs(this.comparator);return t.data=e,t}}class mo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cc(s){return s.hasNext()?s.getNext():void 0}class ea{constructor(e){this.fields=e,e.sort($s.comparator)}static empty(){return new ea([])}unionWith(e){let t=new fs($s.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new ea(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class cc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ws{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cc("Invalid base64 string: "+h):h}}(e);return new Ws(t)}static fromUint8Array(e){const t=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new Ws(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ws.EMPTY_BYTE_STRING=new Ws("");const hd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(s){if(wn(!!s),"string"==typeof s){let e=0;const t=hd.exec(s);if(wn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:_s(s.seconds),nanos:_s(s.nanos)}}function _s(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ta(s){return"string"==typeof s?Ws.fromBase64String(s):Ws.fromUint8Array(s)}function Eu(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ll(s){const e=s.mapValue.fields.__previous_value__;return Eu(e)?ll(e):e}function kl(s){const e=ba(s.mapValue.fields.__local_write_time__.timestampValue);return new gs(e.seconds,e.nanos)}class cp{constructor(e,t,l,h,m,w,F,J,ce){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=w,this.autoDetectLongPolling=F,this.longPollingOptions=J,this.useFetchStreams=ce}}class Dc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ta={nullValue:"NULL_VALUE"};function So(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Eu(s)?4:An(s)?9007199254740991:10:pt()}function vl(s,e){if(s===e)return!0;const t=So(s);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return kl(s).isEqual(kl(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=ba(l.timestampValue),w=ba(h.timestampValue);return m.seconds===w.seconds&&m.nanos===w.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,ta(s.bytesValue).isEqual(ta(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,h){return _s(l.geoPointValue.latitude)===_s(h.geoPointValue.latitude)&&_s(l.geoPointValue.longitude)===_s(h.geoPointValue.longitude)}(s,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return _s(l.integerValue)===_s(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=_s(l.doubleValue),w=_s(h.doubleValue);return m===w?Fu(m)===Fu(w):isNaN(m)&&isNaN(w)}return!1}(s,e);case 9:return sl(s.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:return function(l,h){const m=l.mapValue.fields||{},w=h.mapValue.fields||{};if(Hu(m)!==Hu(w))return!1;for(const F in m)if(m.hasOwnProperty(F)&&(void 0===w[F]||!vl(m[F],w[F])))return!1;return!0}(s,e);default:return pt()}var h}function Sc(s,e){return void 0!==(s.values||[]).find(t=>vl(t,e))}function ul(s,e){if(s===e)return 0;const t=So(s),l=So(e);if(t!==l)return Dr(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dr(s.booleanValue,e.booleanValue);case 2:return function(h,m){const w=_s(h.integerValue||h.doubleValue),F=_s(m.integerValue||m.doubleValue);return w<F?-1:w>F?1:w===F?0:isNaN(w)?isNaN(F)?0:-1:1}(s,e);case 3:return qc(s.timestampValue,e.timestampValue);case 4:return qc(kl(s),kl(e));case 5:return Dr(s.stringValue,e.stringValue);case 6:return function(h,m){const w=ta(h),F=ta(m);return w.compareTo(F)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const w=h.split("/"),F=m.split("/");for(let J=0;J<w.length&&J<F.length;J++){const ce=Dr(w[J],F[J]);if(0!==ce)return ce}return Dr(w.length,F.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const w=Dr(_s(h.latitude),_s(m.latitude));return 0!==w?w:Dr(_s(h.longitude),_s(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const w=h.values||[],F=m.values||[];for(let J=0;J<w.length&&J<F.length;++J){const ce=ul(w[J],F[J]);if(ce)return ce}return Dr(w.length,F.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===cl.mapValue&&m===cl.mapValue)return 0;if(h===cl.mapValue)return 1;if(m===cl.mapValue)return-1;const w=h.fields||{},F=Object.keys(w),J=m.fields||{},ce=Object.keys(J);F.sort(),ce.sort();for(let Ie=0;Ie<F.length&&Ie<ce.length;++Ie){const Ze=Dr(F[Ie],ce[Ie]);if(0!==Ze)return Ze;const Ht=ul(w[F[Ie]],J[ce[Ie]]);if(0!==Ht)return Ht}return Dr(F.length,ce.length)}(s.mapValue,e.mapValue);default:throw pt()}}function qc(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Dr(s,e);const t=ba(s),l=ba(e),h=Dr(t.seconds,l.seconds);return 0!==h?h:Dr(t.nanos,l.nanos)}function El(s){return Ca(s)}function Ca(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const h=ba(l);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ta(s.bytesValue).toBase64():"referenceValue"in s?xn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let h="[",m=!0;for(const w of l.values||[])m?m=!1:h+=",",h+=Ca(w);return h+"]"}(s.arrayValue):"mapValue"in s?function(l){const h=Object.keys(l.fields||{}).sort();let m="{",w=!0;for(const F of h)w?w=!1:m+=",",m+=`${F}:${Ca(l.fields[F])}`;return m+"}"}(s.mapValue):pt();var e}function G(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function le(s){return!!s&&"integerValue"in s}function Fe(s){return!!s&&"arrayValue"in s}function at(s){return!!s&&"nullValue"in s}function Tt(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yt(s){return!!s&&"mapValue"in s}function On(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ca(s.mapValue.fields,(t,l)=>e.mapValue.fields[t]=On(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=On(s.arrayValue.values[t]);return e}return Object.assign({},s)}function An(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function _r(s){return"nullValue"in s?Ta:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?G(Dc.empty(),xn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:pt()}function Hr(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?G(Dc.empty(),xn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?cl:pt()}function qr(s,e){const t=ul(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Il(s,e){const t=ul(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!Yt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=On(t)}setAll(e){let t=$s.emptyPath(),l={},h=[];e.forEach((w,F)=>{if(!t.isImmediateParentOf(F)){const J=this.getFieldsMap(t);this.applyChanges(J,l,h),l={},h=[],t=F.popLast()}w?l[F.lastSegment()]=On(w):h.push(F.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,l,h)}delete(e){const t=this.field(e.popLast());Yt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=t.mapValue.fields[e.get(l)];Yt(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,l){ca(t,(h,m)=>e[h]=m);for(const h of l)delete e[h]}clone(){return new zr(On(this.value))}}function uc(s){const e=[];return ca(s.fields,(t,l)=>{const h=new $s([t]);if(Yt(l)){const m=uc(l.mapValue).fields;if(0===m.length)e.push(h);else for(const w of m)e.push(h.child(w))}else e.push(h)}),new ea(e)}class Gi{constructor(e,t,l,h,m,w,F){this.key=e,this.documentType=t,this.version=l,this.readTime=h,this.createTime=m,this.data=w,this.documentState=F}static newInvalidDocument(e){return new Gi(e,0,gr.min(),gr.min(),gr.min(),zr.empty(),0)}static newFoundDocument(e,t,l,h){return new Gi(e,1,t,gr.min(),l,h,0)}static newNoDocument(e,t){return new Gi(e,2,t,gr.min(),gr.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new Gi(e,3,t,gr.min(),gr.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,t){this.position=e,this.inclusive=t}}function dl(s,e,t){let l=0;for(let h=0;h<s.position.length;h++){const m=e[h],w=s.position[h];if(l=m.field.isKeyField()?xn.comparator(xn.fromName(w.referenceValue),t.key):ul(w,t.data.field(m.field)),"desc"===m.dir&&(l*=-1),0!==l)break}return l}function Zl(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!vl(s.position[t],e.position[t]))return!1;return!0}class Zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function to(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class no{}class xi extends no{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new Ld(e,t,l):"array-contains"===t?new Iu(e,l):"in"===t?new Gu(e,l):"not-in"===t?new Ac(e,l):"array-contains-any"===t?new yh(e,l):new xi(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new pd(e,l):new md(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ul(t,this.value)):null!==t&&So(this.value)===So(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zi extends no{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new zi(e,t)}matches(e){return Yc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Yc(s){return"and"===s.op}function dc(s){return"or"===s.op}function vf(s){return fd(s)&&Yc(s)}function fd(s){for(const e of s.filters)if(e instanceof zi)return!1;return!0}function up(s){if(s instanceof xi)return s.field.canonicalString()+s.op.toString()+El(s.value);if(vf(s))return s.filters.map(e=>up(e)).join(",");{const e=s.filters.map(t=>up(t)).join(",");return`${s.op}(${e})`}}function $u(s,e){return s instanceof xi?(t=s,(l=e)instanceof xi&&t.op===l.op&&t.field.isEqual(l.field)&&vl(t.value,l.value)):s instanceof zi?function(t,l){return l instanceof zi&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((h,m,w)=>h&&$u(m,l.filters[w]),!0)}(s,e):void pt();var t,l}function dp(s,e){const t=s.filters.concat(e);return zi.create(t,s.op)}function hp(s){return s instanceof xi?`${(e=s).field.canonicalString()} ${e.op} ${El(e.value)}`:s instanceof zi?function(e){return e.op.toString()+" {"+e.getFilters().map(hp).join(" ,")+"}"}(s):"Filter";var e}class Ld extends xi{constructor(e,t,l){super(e,t,l),this.key=xn.fromName(l.referenceValue)}matches(e){const t=xn.comparator(e.key,this.key);return this.matchesComparison(t)}}class pd extends xi{constructor(e,t){super(e,"in",t),this.keys=fp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class md extends xi{constructor(e,t){super(e,"not-in",t),this.keys=fp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fp(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>xn.fromName(l.referenceValue))}class Iu extends xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fe(t)&&Sc(t.arrayValue,this.value)}}class Gu extends xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sc(this.value.arrayValue,t)}}class Ac extends xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sc(this.value.arrayValue,t)}}class yh extends xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>Sc(this.value.arrayValue,l))}}class Im{constructor(e,t=null,l=[],h=[],m=null,w=null,F=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=w,this.endAt=F,this.dt=null}}function Rc(s,e=null,t=[],l=[],h=null,m=null,w=null){return new Im(s,e,t,l,h,m,w)}function Yl(s){const e=Ln(s);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>up(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),po(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>El(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>El(l)).join(",")),e.dt=t}return e.dt}function ua(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!to(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!$u(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Zl(s.startAt,e.startAt)&&Zl(s.endAt,e.endAt)}function Fd(s){return xn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function hc(s,e){return s.filters.filter(t=>t instanceof xi&&t.field.isEqual(e))}function pp(s,e,t){let l=Ta,h=!0;for(const m of hc(s,e)){let w=Ta,F=!0;switch(m.op){case"<":case"<=":w=_r(m.value);break;case"==":case"in":case">=":w=m.value;break;case">":w=m.value,F=!1;break;case"!=":case"not-in":w=Ta}qr({value:l,inclusive:h},{value:w,inclusive:F})<0&&(l=w,h=F)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const w=t.position[m];qr({value:l,inclusive:h},{value:w,inclusive:t.inclusive})<0&&(l=w,h=t.inclusive);break}return{value:l,inclusive:h}}function zu(s,e,t){let l=cl,h=!0;for(const m of hc(s,e)){let w=cl,F=!0;switch(m.op){case">=":case">":w=Hr(m.value),F=!1;break;case"==":case"in":case"<=":w=m.value;break;case"<":w=m.value,F=!1;break;case"!=":case"not-in":w=cl}Il({value:l,inclusive:h},{value:w,inclusive:F})>0&&(l=w,h=F)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const w=t.position[m];Il({value:l,inclusive:h},{value:w,inclusive:t.inclusive})>0&&(l=w,h=t.inclusive);break}return{value:l,inclusive:h}}class Mc{constructor(e,t=null,l=[],h=[],m=null,w="F",F=null,J=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=w,this.startAt=F,this.endAt=J,this.wt=null,this._t=null}}function mp(s,e,t,l,h,m,w,F){return new Mc(s,e,t,l,h,m,w,F)}function Pc(s){return new Mc(s)}function gp(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function x(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function v(s){for(const e of s.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function D(s){return null!==s.collectionGroup}function U(s){const e=Ln(s);if(null===e.wt){e.wt=[];const t=v(e),l=x(e);if(null!==t&&null===l)t.isKeyField()||e.wt.push(new Zc(t)),e.wt.push(new Zc($s.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zc($s.keyField(),m))}}}return e.wt}function he(s){const e=Ln(s);if(!e._t)if("F"===e.limitType)e._t=Rc(e.path,e.collectionGroup,U(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of U(e))t.push(new Zc(m.field,"desc"===m.dir?"asc":"desc"));const l=e.endAt?new ka(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new ka(e.startAt.position,e.startAt.inclusive):null;e._t=Rc(e.path,e.collectionGroup,t,e.filters,e.limit,l,h)}return e._t}function we(s,e){e.getFirstInequalityField(),v(s);const t=s.filters.concat([e]);return new Mc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function mt(s,e,t){return new Mc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function zt(s,e){return ua(he(s),he(e))&&s.limitType===e.limitType}function pn(s){return`${Yl(he(s))}|lt:${s.limitType}`}function $n(s){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>hp(l)).join(", ")}]`),po(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>El(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>El(l)).join(",")),`Target(${t})`}(he(s))}; limitType=${s.limitType})`}function wr(s,e){return e.isFoundDocument()&&function(t,l){const h=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):xn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,l){for(const h of U(t))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(s,e)&&function(t,l){for(const h of t.filters)if(!h.matches(l))return!1;return!0}(s,e)&&(l=e,!((t=s).startAt&&!function(h,m,w){const F=dl(h,m,w);return h.inclusive?F<=0:F<0}(t.startAt,U(t),l)||t.endAt&&!function(h,m,w){const F=dl(h,m,w);return h.inclusive?F>=0:F>0}(t.endAt,U(t),l)));var t,l}function Vi(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Ll(s){return(e,t)=>{let l=!1;for(const h of U(s)){const m=Qc(h,e,t);if(0!==m)return m;l=l||h.field.isKeyField()}return 0}}function Qc(s,e,t){const l=s.field.isKeyField()?xn.comparator(e.key,t.key):function(h,m,w){const F=m.data.field(h),J=w.data.field(h);return null!==F&&null!==J?ul(F,J):pt()}(s.field,e,t);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return pt()}}class hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[h,m]of l)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[t]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,l)=>{for(const[h,m]of l)e(h,m)})}isEmpty(){return yf(this.inner)}size(){return this.innerSize}}const Ud=new as(xn.comparator);function La(){return Ud}const Ka=new as(xn.comparator);function Fl(...s){let e=Ka;for(const t of s)e=e.insert(t.key,t);return e}function fc(s){let e=Ka;return s.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function wl(){return pc()}function vh(){return pc()}function pc(){return new hl(s=>s.toString(),(s,e)=>s.isEqual(e))}const gd=new as(xn.comparator),Eh=new fs(xn.comparator);function ni(...s){let e=Eh;for(const t of s)e=e.add(t);return e}const Ef=new fs(Dr);function Ql(){return Ef}function Ih(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function _p(s){return{integerValue:""+s}}function yp(s,e){return ud(e)?_p(e):Ih(s,e)}class If{constructor(){this._=void 0}}function mc(s,e,t){return s instanceof bh?function(l,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Eu(h)&&(h=ll(h)),h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof go?Th(s,e):s instanceof _d?Ch(s,e):function(l,h){const m=wh(l,h),w=Ul(m)+Ul(l.gt);return le(m)&&le(l.gt)?_p(w):Ih(l.serializer,w)}(s,e)}function Da(s,e,t){return s instanceof go?Th(s,e):s instanceof _d?Ch(s,e):t}function wh(s,e){return s instanceof da?le(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class bh extends If{}class go extends If{constructor(e){super(),this.elements=e}}function Th(s,e){const t=wf(e);for(const l of s.elements)t.some(h=>vl(h,l))||t.push(l);return{arrayValue:{values:t}}}class _d extends If{constructor(e){super(),this.elements=e}}function Ch(s,e){let t=wf(e);for(const l of s.elements)t=t.filter(h=>!vl(h,l));return{arrayValue:{values:t}}}class da extends If{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ul(s){return _s(s.integerValue||s.doubleValue)}function wf(s){return Fe(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Vd{constructor(e,t){this.field=e,this.transform=t}}class Ig{constructor(e,t){this.version=e,this.transformResults=t}}class ls{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ro(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Wu{}function bf(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new jd(s.key,ls.none()):new Bd(s.key,s.data,ls.none());{const t=s.data,l=zr.empty();let h=new fs($s.comparator);for(let m of e.fields)if(!h.has(m)){let w=t.field(m);null===w&&m.length>1&&(m=m.popLast(),w=t.field(m)),null===w?l.delete(m):l.set(m,w),h=h.add(m)}return new Jl(s.key,l,new ea(h.toArray()),ls.none())}}function F_(s,e,t){s instanceof Bd?function(l,h,m){const w=l.value.clone(),F=wg(l.fieldTransforms,h,m.transformResults);w.setAll(F),h.convertToFoundDocument(m.version,w).setHasCommittedMutations()}(s,e,t):s instanceof Jl?function(l,h,m){if(!ro(l.precondition,h))return void h.convertToUnknownDocument(m.version);const w=wg(l.fieldTransforms,h,m.transformResults),F=h.data;F.setAll(vp(l)),F.setAll(w),h.convertToFoundDocument(m.version,F).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function qa(s,e,t,l){return s instanceof Bd?function(h,m,w,F){if(!ro(h.precondition,m))return w;const J=h.value.clone(),ce=wm(h.fieldTransforms,F,m);return J.setAll(ce),m.convertToFoundDocument(m.version,J).setHasLocalMutations(),null}(s,e,t,l):s instanceof Jl?function(h,m,w,F){if(!ro(h.precondition,m))return w;const J=wm(h.fieldTransforms,F,m),ce=m.data;return ce.setAll(vp(h)),ce.setAll(J),m.convertToFoundDocument(m.version,ce).setHasLocalMutations(),null===w?null:w.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Ie=>Ie.field))}(s,e,t,l):(w=t,ro(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):w);var m,w}function Jc(s,e){let t=null;for(const l of s.fieldTransforms){const h=e.data.field(l.field),m=wh(l.transform,h||null);null!=m&&(null===t&&(t=zr.empty()),t.set(l.field,m))}return t||null}function Dh(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===l||t&&l&&sl(t,l,(h,m)=>function L_(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(t=s.transform)instanceof go&&l instanceof go||t instanceof _d&&l instanceof _d?sl(t.elements,l.elements,vl):t instanceof da&&l instanceof da?vl(t.gt,l.gt):t instanceof bh&&l instanceof bh);var t,l}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,l}class Bd extends Wu{constructor(e,t,l,h=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Jl extends Wu{constructor(e,t,l,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function vp(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=s.data.field(t);e.set(t,l)}}),e}function wg(s,e,t){const l=new Map;wn(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],w=m.transform,F=e.data.field(m.field);l.set(m.field,Da(w,F,t[h]))}return l}function wm(s,e,t){const l=new Map;for(const h of s){const m=h.transform,w=t.data.field(h.field);l.set(h.field,mc(m,w,e))}return l}class jd extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tf extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S{constructor(e,t,l,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&F_(m,e,l[h])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=qa(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=qa(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=vh();return this.mutations.forEach(h=>{const m=e.get(h.key),w=m.overlayedDocument;let F=this.applyToLocalView(w,m.mutatedFields);F=t.has(h.key)?null:F;const J=bf(w,F);null!==J&&l.set(h.key,J),w.isValidDocument()||w.convertToNoDocument(gr.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ni())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(t,l)=>Dh(t,l))&&sl(this.baseMutations,e.baseMutations,(t,l)=>Dh(t,l))}}class _{constructor(e,t,l,h){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=h}static from(e,t,l){wn(e.mutations.length===l.length);let h=gd;const m=e.mutations;for(let w=0;w<m.length;w++)h=h.insert(m[w].key,l[w].version);return new _(e,t,l,h)}}class I{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class se{constructor(e,t){this.count=e,this.unchangedNames=t}}var me,We;function Vt(s){switch(s){default:return pt();case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0}}function cn(s){if(void 0===s)return Js("GRPC error has no .code"),kt.UNKNOWN;switch(s){case me.OK:return kt.OK;case me.CANCELLED:return kt.CANCELLED;case me.UNKNOWN:return kt.UNKNOWN;case me.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case me.INTERNAL:return kt.INTERNAL;case me.UNAVAILABLE:return kt.UNAVAILABLE;case me.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case me.NOT_FOUND:return kt.NOT_FOUND;case me.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case me.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case me.ABORTED:return kt.ABORTED;case me.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case me.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case me.DATA_LOSS:return kt.DATA_LOSS;default:return pt()}}(We=me||(me={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";class Pn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return tr}static getOrCreateInstance(){return null===tr&&(tr=new Pn),tr}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let tr=null;function Jn(){return new TextEncoder}const io=new rl([4294967295,4294967295],0);function Xl(s){const e=Jn().encode(s),t=new wa;return t.update(e),new Uint8Array(t.digest())}function Hd(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new rl([t,l],0),new rl([h,m],0)]}class ec{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new $d(`Invalid padding: ${t}`);if(l<0)throw new $d(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new $d(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new $d(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=rl.fromNumber(this.It)}Et(e,t,l){let h=e.add(t.multiply(rl.fromNumber(l)));return 1===h.compare(io)&&(h=new rl([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Xl(e),[l,h]=Hd(t);for(let m=0;m<this.hashCount;m++){const w=this.Et(l,h,m);if(!this.At(w))return!1}return!0}static create(e,t,l){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),w=new ec(m,h,t);return l.forEach(F=>w.insert(F)),w}insert(e){if(0===this.It)return;const t=Xl(e),[l,h]=Hd(t);for(let m=0;m<this.hashCount;m++){const w=this.Et(l,h,m);this.Rt(w)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yd{constructor(e,t,l,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const h=new Map;return h.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new yd(gr.min(),h,new as(Dr),La(),ni())}}class Gd{constructor(e,t,l,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Gd(l,t,ni(),ni(),ni())}}class Oc{constructor(e,t,l,h){this.Pt=e,this.removedTargetIds=t,this.key=l,this.bt=h}}class Cf{constructor(e,t){this.targetId=e,this.Vt=t}}class wu{constructor(e,t,l=Ws.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=h}}class Ep{constructor(){this.St=0,this.Dt=Ip(),this.Ct=Ws.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ni(),t=ni(),l=ni();return this.Dt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:l=l.add(h);break;default:pt()}}),new Gd(this.Ct,this.xt,e,t,l)}Ft(){this.Nt=!1,this.Dt=Ip()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class U_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=La(),this.zt=Sh(),this.Wt=new as(Dr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const l=this.Zt(t);switch(e.state){case 0:this.te(t)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(t);break;case 3:this.te(t)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),l.$t(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((l,h)=>{this.te(h)&&t(h)})}ne(e){var t;const l=e.targetId,h=e.Vt.count,m=this.se(l);if(m){const w=m.target;if(Fd(w))if(0===h){const F=new xn(w.path);this.Yt(l,F,Gi.newNoDocument(F,gr.min()))}else wn(1===h);else{const F=this.ie(l);if(F!==h){const J=this.re(e,F);0!==J&&(this.ee(l),this.Wt=this.Wt.insert(l,2===J?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Pn.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ce,Ie,Ze){var Ht,rn,Tn,Yn,Xn,gi;const cs={localCacheCount:Ie,existenceFilterCount:Ze.count},_i=Ze.unchangedNames;return _i&&(cs.bloomFilter={applied:0===ce,hashCount:null!==(Ht=_i?.hashCount)&&void 0!==Ht?Ht:0,bitmapLength:null!==(Yn=null===(Tn=null===(rn=_i?.bits)||void 0===rn?void 0:rn.bitmap)||void 0===Tn?void 0:Tn.length)&&void 0!==Yn?Yn:0,padding:null!==(gi=null===(Xn=_i?.bits)||void 0===Xn?void 0:Xn.padding)&&void 0!==gi?gi:0}),cs}(J,F,e.Vt))}}}}re(e,t){const{unchangedNames:l,count:h}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:m="",padding:w=0},hashCount:F=0}=l;let J,ce;try{J=ta(m).toUint8Array()}catch(Ie){if(Ie instanceof cc)return za("Decoding the base64 bloom filter in existence filter failed ("+Ie.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ie}try{ce=new ec(J,w,F)}catch(Ie){return za(Ie instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",Ie),1}return 0===ce.It?1:h!==t-this.oe(e.targetId,ce)?2:0}oe(e,t){const l=this.Gt.getRemoteKeysForTarget(e);let h=0;return l.forEach(m=>{const w=this.Gt.ue(),F=`projects/${w.projectId}/databases/${w.database}/documents/${m.path.canonicalString()}`;t.vt(F)||(this.Yt(e,m,null),h++)}),h}ce(e){const t=new Map;this.Qt.forEach((m,w)=>{const F=this.se(w);if(F){if(m.current&&Fd(F.target)){const J=new xn(F.target.path);null!==this.jt.get(J)||this.ae(w,J)||this.Yt(w,J,Gi.newNoDocument(J,e))}m.Mt&&(t.set(w,m.Ot()),m.Ft())}});let l=ni();this.zt.forEach((m,w)=>{let F=!0;w.forEachWhile(J=>{const ce=this.se(J);return!ce||"TargetPurposeLimboResolution"===ce.purpose||(F=!1,!1)}),F&&(l=l.add(m))}),this.jt.forEach((m,w)=>w.setReadTime(e));const h=new yd(e,t,this.Wt,this.jt,l);return this.jt=La(),this.zt=Sh(),this.Wt=new as(Dr),h}Jt(e,t){if(!this.te(e))return;const l=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,l),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,l){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,t)?h.Bt(t,1):h.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),l&&(this.jt=this.jt.insert(t,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ep,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new fs(Dr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||_n("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ep),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Sh(){return new as(xn.comparator)}function Ip(){return new as(xn.comparator)}const bg={asc:"ASCENDING",desc:"DESCENDING"},Nv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V_={and:"AND",or:"OR"};class bm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tm(s,e){return s.useProto3Json||po(e)?e:{value:e}}function zd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wp(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function kv(s,e){return zd(s,e.toTimestamp())}function ha(s){return wn(!!s),gr.fromTimestamp(function(e){const t=ba(e);return new gs(t.seconds,t.nanos)}(s))}function Df(s,e){return(t=s,new Ci(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function B_(s){const e=Ci.fromString(s);return wn(jv(e)),e}function Sf(s,e){return Df(s.databaseId,e.path)}function gc(s,e){const t=B_(e);if(t.get(1)!==s.databaseId.projectId)throw new an(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new an(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new xn(Cg(t))}function j_(s,e){return Df(s.databaseId,e)}function Tg(s){const e=B_(s);return 4===e.length?Ci.emptyPath():Cg(e)}function Cm(s){return new Ci(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Cg(s){return wn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function H_(s,e,t){return{name:Sf(s,e),fields:t.value.mapValue.fields}}function Dg(s,e,t){const l=gc(s,e.name),h=ha(e.updateTime),m=e.createTime?ha(e.createTime):gr.min(),w=new zr({mapValue:{fields:e.fields}}),F=Gi.newFoundDocument(l,h,m,w);return t&&F.setHasCommittedMutations(),t?F.setHasCommittedMutations():F}function bp(s,e){let t;if(e instanceof Bd)t={update:H_(s,e.key,e.value)};else if(e instanceof jd)t={delete:Sf(s,e.key)};else if(e instanceof Jl)t={update:H_(s,e.key,e.data),updateMask:Cp(e.fieldMask)};else{if(!(e instanceof Tf))return pt();t={verify:Sf(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(h,m){const w=m.transform;if(w instanceof bh)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof go)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof _d)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof da)return{fieldPath:m.field.canonicalString(),increment:w.gt};throw pt()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:kv(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:pt()),t;var h}function Af(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?ls.updateTime(ha(h.updateTime)):void 0!==h.exists?ls.exists(h.exists):ls.none():ls.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(m,w){let F=null;"setToServerValue"in w?(wn("REQUEST_TIME"===w.setToServerValue),F=new bh):"appendMissingElements"in w?F=new go(w.appendMissingElements.values||[]):"removeAllFromArray"in w?F=new _d(w.removeAllFromArray.values||[]):"increment"in w?F=new da(m,w.increment):pt();const J=$s.fromServerFormat(w.fieldPath);return new Vd(J,F)}(s,h)):[];var h;if(e.update){const h=gc(s,e.update.name),m=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new ea((e.updateMask.fieldPaths||[]).map(ce=>$s.fromServerFormat(ce)));return new Jl(h,m,w,t,l)}return new Bd(h,m,t,l)}if(e.delete){const h=gc(s,e.delete);return new jd(h,t)}if(e.verify){const h=gc(s,e.verify);return new Tf(h,t)}return pt()}function Lv(s,e){return{documents:[j_(s,e.path)]}}function Fv(s,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=j_(s,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=j_(s,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(J){if(0!==J.length)return Bv(zi.create(J,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(J){if(0!==J.length)return J.map(ce=>{return{field:Ah((Ie=ce).field),direction:Tp(Ie.dir)};var Ie})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const w=Tm(s,e.limit);var F,J;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(F=e.startAt).inclusive,values:F.position}),e.endAt&&(t.structuredQuery.endAt={before:!(J=e.endAt).inclusive,values:J.position}),t}function Uv(s){let e=Tg(s.parent);const t=s.structuredQuery,l=t.from?t.from.length:0;let h=null;if(l>0){wn(1===l);const Ie=t.from[0];Ie.allDescendants?h=Ie.collectionId:e=e.child(Ie.collectionId)}let m=[];t.where&&(m=function(Ie){const Ze=Vv(Ie);return Ze instanceof zi&&vf(Ze)?Ze.getFilters():[Ze]}(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(Ie=>{return new Zc(Rh((Ze=Ie).field),function(Ht){switch(Ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let F=null;t.limit&&(F=function(Ie){let Ze;return Ze="object"==typeof Ie?Ie.value:Ie,po(Ze)?null:Ze}(t.limit));let J=null;var Ie;t.startAt&&(J=new ka((Ie=t.startAt).values||[],!!Ie.before));let ce=null;return t.endAt&&(ce=function(Ie){return new ka(Ie.values||[],!Ie.before)}(t.endAt)),mp(e,h,w,m,F,"F",J,ce)}function Vv(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rh(e.unaryFilter.field);return xi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=Rh(e.unaryFilter.field);return xi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Rh(e.unaryFilter.field);return xi.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Rh(e.unaryFilter.field);return xi.create(m,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(s):void 0!==s.fieldFilter?xi.create(Rh((e=s).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return zi.create(e.compositeFilter.filters.map(t=>Vv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pt()}}(e.compositeFilter.op))}(s):pt();var e}function Tp(s){return bg[s]}function Dm(s){return Nv[s]}function W_(s){return V_[s]}function Ah(s){return{fieldPath:s.canonicalString()}}function Rh(s){return $s.fromServerFormat(s.fieldPath)}function Bv(s){return s instanceof xi?function(e){if("=="===e.op){if(Tt(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NAN"}};if(at(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tt(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NAN"}};if(at(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ah(e.field),op:Dm(e.op),value:e.value}}}(s):s instanceof zi?function(e){const t=e.getFilters().map(l=>Bv(l));return 1===t.length?t[0]:{compositeFilter:{op:W_(e.op),filters:t}}}(s):pt()}function Cp(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jv(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class Wd{constructor(e,t,l,h,m=gr.min(),w=gr.min(),F=Ws.EMPTY_BYTE_STRING,J=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=F,this.expectedCount=J}withSequenceNumber(e){return new Wd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sm{constructor(e){this.fe=e}}function K_(s,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Za(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Sf(h=s.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:zd(h,m.version.toTimestamp()),createTime:zd(h,m.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:Xc(e.version)};else{if(!e.isUnknownDocument())return pt();l.unknownDocument={path:t.path.toArray(),version:Xc(e.version)}}var h,m;return l}function Za(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Xc(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mh(s){const e=new gs(s.seconds,s.nanoseconds);return gr.fromTimestamp(e)}function Rf(s,e){const t=(e.baseMutations||[]).map(m=>Af(s.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const l=e.mutations.map(m=>Af(s.fe,m)),h=gs.fromMillis(e.localWriteTimeMs);return new S(e.batchId,h,t,l)}function Am(s){const e=Mh(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?Mh(s.lastLimboFreeSnapshotVersion):gr.min();let l;var h;return void 0!==s.query.documents?(wn(1===(h=s.query).documents.length),l=he(Pc(Tg(h.documents[0])))):l=he(Uv(s.query)),new Wd(l,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,Ws.fromBase64String(s.resumeToken))}function $v(s,e){const t=Xc(e.snapshotVersion),l=Xc(e.lastLimboFreeSnapshotVersion);let h;h=Fd(e.target)?Lv(s.fe,e.target):Fv(s.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yl(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function q_(s){const e=Uv({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?mt(e,e.limit,"L"):e}function Z_(s,e){return new I(e.largestBatchId,Af(s.fe,e.overlayMutation))}function Sg(s,e){const t=e.path.lastSegment();return[s,Gs(e.path.popLast()),t]}function Y_(s,e,t,l){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Xc(l.readTime),documentKey:Gs(l.documentKey.path),largestBatchId:l.largestBatchId}}class sE{getBundleMetadata(e,t){return Q_(e).get(t).next(l=>{if(l)return{id:(h=l).bundleId,createTime:Mh(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Q_(e).put({bundleId:(l=t).id,createTime:Xc(ha(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return Rm(e).get(t).next(l=>{if(l)return{name:(h=l).name,query:q_(h.bundledQuery),readTime:Mh(h.readTime)};var h})}saveNamedQuery(e,t){return Rm(e).put({name:(l=t).name,readTime:Xc(ha(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Q_(s){return Bo(s,"bundles")}function Rm(s){return Bo(s,"namedQueries")}class Mf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Mf(e,t.uid||"")}getOverlay(e,t){return eu(e).get(Sg(this.userId,t)).next(l=>l?Z_(this.serializer,l):null)}getOverlays(e,t){const l=wl();return Ct.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){const h=[];return l.forEach((m,w)=>{const F=new I(t,w);h.push(this.we(e,F))}),Ct.waitFor(h)}removeOverlaysForBatchId(e,t,l){const h=new Set;t.forEach(w=>h.add(Gs(w.getCollectionPath())));const m=[];return h.forEach(w=>{const F=IDBKeyRange.bound([this.userId,w,l],[this.userId,w,l+1],!1,!0);m.push(eu(e).J("collectionPathOverlayIndex",F))}),Ct.waitFor(m)}getOverlaysForCollection(e,t,l){const h=wl(),m=Gs(t),w=IDBKeyRange.bound([this.userId,m,l],[this.userId,m,Number.POSITIVE_INFINITY],!0);return eu(e).j("collectionPathOverlayIndex",w).next(F=>{for(const J of F){const ce=Z_(this.serializer,J);h.set(ce.getKey(),ce)}return h})}getOverlaysForCollectionGroup(e,t,l,h){const m=wl();let w;const F=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return eu(e).X({index:"collectionGroupOverlayIndex",range:F},(J,ce,Ie)=>{const Ze=Z_(this.serializer,ce);m.size()<h||Ze.largestBatchId===w?(m.set(Ze.getKey(),Ze),w=Ze.largestBatchId):Ie.done()}).next(()=>m)}we(e,t){return eu(e).put(function(l,h,m){const[w,F,J]=Sg(h,m.mutation.key);return{userId:h,collectionPath:F,documentId:J,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:bp(l.fe,m.mutation)}}(this.serializer,this.userId,t))}}function eu(s){return Bo(s,"documentOverlays")}class Ku{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(_s(e.integerValue));else if("doubleValue"in e){const l=_s(e.doubleValue);isNaN(l)?this.ye(t,13):(this.ye(t,15),Fu(l)?t.pe(0):t.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(t,20),"string"==typeof l?t.Ie(l):(t.Ie(`${l.seconds||""}`),t.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ta(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(t,45),t.pe(l.latitude||0),t.pe(l.longitude||0)}else"mapValue"in e?An(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const l=e.fields||{};this.ye(t,55);for(const h of Object.keys(l))this.Te(h,t),this.me(l[h],t)}Pe(e,t){const l=e.values||[];this.ye(t,50);for(const h of l)this.me(h,t)}ve(e,t){this.ye(t,37),xn.fromName(e).path.forEach(l=>{this.ye(t,60),this.be(l,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Gv(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function J_(s){const e=64-function(t){let l=0;for(let h=0;h<8;++h){const m=Gv(255&t[h]);if(l+=m,8!==m)break}return l}(s);return Math.ceil(e/8)}Ku.Ve=new Ku;class oE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.De(l.value),l=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Ne(l.value),l=t.next();this.ke()}Me(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const h=t.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const h=t.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const t=this.Fe(e),l=J_(t);this.Be(1+l),this.buffer[this.position++]=255&l;for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Le(e){const t=this.Fe(e),l=J_(t);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let h=1;h<t.length;++h)t[h]^=l?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class nI{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class rI{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Ag{constructor(){this.je=new oE,this.ze=new nI(this.je),this.We=new rI(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Kd{constructor(e,t,l,h){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=h}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Kd(this.indexId,this.documentKey,this.arrayValue,l)}}function tu(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=aE(s.arrayValue,e.arrayValue),0!==t?t:(t=aE(s.directionalValue,e.directionalValue),0!==t?t:xn.comparator(s.documentKey,e.documentKey)))}function aE(s,e){for(let t=0;t<s.length&&t<e.length;++t){const l=s[t]-e[t];if(0!==l)return l}return s.length-e.length}class lE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const l=t;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(e){wn(e.collectionGroup===this.collectionId);const t=Ol(e);if(void 0!==t&&!this.en(t))return!1;const l=_l(e);let h=new Set,m=0,w=0;for(;m<l.length&&this.en(l[m]);++m)h=h.add(l[m].fieldPath.canonicalString());if(m===l.length)return!0;if(void 0!==this.Ze){if(!h.has(this.Ze.field.canonicalString())){const F=l[m];if(!this.nn(this.Ze,F)||!this.sn(this.Ye[w++],F))return!1}++m}for(;m<l.length;++m)if(w>=this.Ye.length||!this.sn(this.Ye[w++],l[m]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function X_(s){var e,t;if(wn(s instanceof xi||s instanceof zi),s instanceof xi){if(s instanceof Gu){const h=(null===(t=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>xi.create(s.field,"==",m)))||[];return zi.create(h,"or")}return s}const l=s.filters.map(h=>X_(h));return zi.create(l,s.op)}function cE(s){if(0===s.getFilters().length)return[];const e=ty(X_(s));return wn(zv(e)),Rg(e)||ey(e)?[e]:e.getFilters()}function Rg(s){return s instanceof xi}function ey(s){return s instanceof zi&&vf(s)}function zv(s){return Rg(s)||ey(s)||function(e){if(e instanceof zi&&dc(e)){for(const t of e.getFilters())if(!Rg(t)&&!ey(t))return!1;return!0}return!1}(s)}function ty(s){if(wn(s instanceof xi||s instanceof zi),s instanceof xi)return s;if(1===s.filters.length)return ty(s.filters[0]);const e=s.filters.map(l=>ty(l));let t=zi.create(e,s.op);return t=Pf(t),zv(t)?t:(wn(t instanceof zi),wn(Yc(t)),wn(t.filters.length>1),t.filters.reduce((l,h)=>Dp(l,h)))}function Dp(s,e){let t;return wn(s instanceof xi||s instanceof zi),wn(e instanceof xi||e instanceof zi),t=s instanceof xi?e instanceof xi?zi.create([s,e],"and"):Sp(s,e):e instanceof xi?Sp(e,s):function(l,h){if(wn(l.filters.length>0&&h.filters.length>0),Yc(l)&&Yc(h))return dp(l,h.getFilters());const m=dc(l)?l:h,w=dc(l)?h:l,F=m.filters.map(J=>Dp(J,w));return zi.create(F,"or")}(s,e),Pf(t)}function Sp(s,e){if(Yc(e))return dp(e,s.getFilters());{const t=e.filters.map(l=>Dp(s,l));return zi.create(t,"or")}}function Pf(s){if(wn(s instanceof xi||s instanceof zi),s instanceof xi)return s;const e=s.getFilters();if(1===e.length)return Pf(e[0]);if(fd(s))return s;const t=e.map(h=>Pf(h)),l=[];return t.forEach(h=>{h instanceof xi?l.push(h):h instanceof zi&&(h.op===s.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:zi.create(l,s.op)}class Wv{constructor(){this.rn=new qu}addToCollectionParentIndex(e,t){return this.rn.add(t),Ct.resolve()}getCollectionParents(e,t){return Ct.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ct.resolve()}deleteFieldIndex(e,t){return Ct.resolve()}getDocumentsMatchingTarget(e,t){return Ct.resolve(null)}getIndexType(e,t){return Ct.resolve(0)}getFieldIndexes(e,t){return Ct.resolve([])}getNextCollectionGroupToUpdate(e){return Ct.resolve(null)}getMinOffset(e,t){return Ct.resolve(Re.min())}getMinOffsetFromCollectionGroup(e,t){return Ct.resolve(Re.min())}updateCollectionGroup(e,t,l){return Ct.resolve()}updateIndexEntries(e,t){return Ct.resolve()}}class qu{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t]||new fs(Ci.comparator),m=!h.has(l);return this.index[t]=h.add(l),m}has(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t];return h&&h.has(l)}getEntries(e){return(this.index[e]||new fs(Ci.comparator)).toArray()}}const Ap=new Uint8Array(0);class uE{constructor(e,t){this.user=e,this.databaseId=t,this.on=new qu,this.un=new hl(l=>Yl(l),(l,h)=>ua(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const l=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:l,parent:Gs(h)};return Mg(e).put(m)}return Ct.resolve()}getCollectionParents(e,t){const l=[],h=IDBKeyRange.bound([t,""],[Wl(t),""],!1,!0);return Mg(e).j(h).next(m=>{for(const w of m){if(w.collectionId!==t)break;l.push(eo(w.parent))}return l})}addFieldIndex(e,t){const l=vd(e),h={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var w;delete h.indexId;const m=l.add(h);if(t.indexState){const w=xf(e);return m.next(F=>{w.put(Y_(F,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const l=vd(e),h=xf(e),m=Of(e);return l.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=Of(e);let h=!0;const m=new Map;return Ct.forEach(this.cn(t),w=>this.an(e,w).next(F=>{h&&(h=!!F),m.set(w,F)})).next(()=>{if(h){let w=ni();const F=[];return Ct.forEach(m,(J,ce)=>{var Ie;_n("IndexedDbIndexManager",`Using index ${Ie=J,`id=${Ie.indexId}|cg=${Ie.collectionGroup}|f=${Ie.fields.map(_i=>`${_i.fieldPath}:${_i.kind}`).join(",")}`} to execute ${Yl(t)}`);const Ze=function(_i,sa){const vo=Ol(sa);if(void 0===vo)return null;for(const oo of hc(_i,vo.fieldPath))switch(oo.op){case"array-contains-any":return oo.value.arrayValue.values||[];case"array-contains":return[oo.value]}return null}(ce,J),Ht=function(_i,sa){const vo=new Map;for(const oo of _l(sa))for(const Ma of hc(_i,oo.fieldPath))switch(Ma.op){case"==":case"in":vo.set(oo.fieldPath.canonicalString(),Ma.value);break;case"not-in":case"!=":return vo.set(oo.fieldPath.canonicalString(),Ma.value),Array.from(vo.values())}return null}(ce,J),rn=function(_i,sa){const vo=[];let oo=!0;for(const Ma of _l(sa)){const ap=0===Ma.kind?pp(_i,Ma.fieldPath,_i.startAt):zu(_i,Ma.fieldPath,_i.startAt);vo.push(ap.value),oo&&(oo=ap.inclusive)}return new ka(vo,oo)}(ce,J),Tn=function(_i,sa){const vo=[];let oo=!0;for(const Ma of _l(sa)){const ap=0===Ma.kind?zu(_i,Ma.fieldPath,_i.endAt):pp(_i,Ma.fieldPath,_i.endAt);vo.push(ap.value),oo&&(oo=ap.inclusive)}return new ka(vo,oo)}(ce,J),Yn=this.hn(J,ce,rn),Xn=this.hn(J,ce,Tn),gi=this.ln(J,ce,Ht),cs=this.fn(J.indexId,Ze,Yn,rn.inclusive,Xn,Tn.inclusive,gi);return Ct.forEach(cs,_i=>l.H(_i,t.limit).next(sa=>{sa.forEach(vo=>{const oo=xn.fromSegments(vo.documentKey);w.has(oo)||(w=w.add(oo),F.push(oo))})}))}).next(()=>F)}return Ct.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:cE(zi.create(e.filters,"and")).map(l=>Rc(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,l,h,m,w,F){const J=(null!=t?t.length:1)*Math.max(l.length,m.length),ce=J/(null!=t?t.length:1),Ie=[];for(let Ze=0;Ze<J;++Ze){const Ht=t?this.dn(t[Ze/ce]):Ap,rn=this.wn(e,Ht,l[Ze%ce],h),Tn=this._n(e,Ht,m[Ze%ce],w),Yn=F.map(Xn=>this.wn(e,Ht,Xn,!0));Ie.push(...this.createRange(rn,Tn,Yn))}return Ie}wn(e,t,l,h){const m=new Kd(e,xn.empty(),t,l);return h?m:m.Je()}_n(e,t,l,h){const m=new Kd(e,xn.empty(),t,l);return h?m.Je():m}an(e,t){const l=new lE(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let w=null;for(const F of m)l.tn(F)&&(!w||F.fields.length>w.fields.length)&&(w=F);return w})}getIndexType(e,t){let l=2;const h=this.cn(t);return Ct.forEach(h,m=>this.an(e,m).next(w=>{w?0!==l&&w.fields.length<function(F){let J=new fs($s.comparator),ce=!1;for(const Ie of F.filters)for(const Ze of Ie.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?ce=!0:J=J.add(Ze.field));for(const Ie of F.orderBy)Ie.field.isKeyField()||(J=J.add(Ie.field));return J.size+(ce?1:0)}(m)&&(l=1):l=0})).next(()=>null!==t.limit&&h.length>1&&2===l?1:l)}mn(e,t){const l=new Ag;for(const h of _l(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const w=l.He(h.kind);Ku.Ve._e(m,w)}return l.Qe()}dn(e){const t=new Ag;return Ku.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const l=new Ag;return Ku.Ve._e(G(this.databaseId,t),l.He(function(h){const m=_l(h);return 0===m.length?0:m[m.length-1].kind}(e))),l.Qe()}ln(e,t,l){if(null===l)return[];let h=[];h.push(new Ag);let m=0;for(const w of _l(e)){const F=l[m++];for(const J of h)if(this.yn(t,w.fieldPath)&&Fe(F))h=this.pn(h,w,F);else{const ce=J.He(w.kind);Ku.Ve._e(F,ce)}}return this.In(h)}hn(e,t,l){return this.ln(e,t,l.position)}In(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].Qe();return t}pn(e,t,l){const h=[...e],m=[];for(const w of l.arrayValue.values||[])for(const F of h){const J=new Ag;J.seed(F.Qe()),Ku.Ve._e(w,J.He(t.kind)),m.push(J)}return m}yn(e,t){return!!e.filters.find(l=>l instanceof xi&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=vd(e),h=xf(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(m=>{const w=[];return Ct.forEach(m,F=>h.get([F.indexId,this.uid]).next(J=>{w.push(function(ce,Ie){const Ze=Ie?new L(Ie.sequenceNumber,new Re(Mh(Ie.readTime),new xn(eo(Ie.documentKey)),Ie.largestBatchId)):L.empty(),Ht=ce.fields.map(([rn,Tn])=>new B($s.fromServerFormat(rn),Tn));return new ac(ce.indexId,ce.collectionGroup,Ht,Ze)}(F,J))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,h)=>{const m=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:Dr(l.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const h=vd(e),m=xf(e);return this.Tn(e).next(w=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(F=>Ct.forEach(F,J=>m.put(Y_(J.indexId,this.user,w,l)))))}updateIndexEntries(e,t){const l=new Map;return Ct.forEach(t,(h,m)=>{const w=l.get(h.collectionGroup);return(w?Ct.resolve(w):this.getFieldIndexes(e,h.collectionGroup)).next(F=>(l.set(h.collectionGroup,F),Ct.forEach(F,J=>this.En(e,h,J).next(ce=>{const Ie=this.An(m,J);return ce.isEqual(Ie)?Ct.resolve():this.vn(e,m,J,ce,Ie)}))))})}Rn(e,t,l,h){return Of(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(l,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,l,h){return Of(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(l,t.key),t.key.path.toArray()])}En(e,t,l){const h=Of(e);let m=new fs(tu);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,t)])},(w,F)=>{m=m.add(new Kd(l.indexId,t,F.arrayValue,F.directionalValue))}).next(()=>m)}An(e,t){let l=new fs(tu);const h=this.mn(t,e);if(null==h)return l;const m=Ol(t);if(null!=m){const w=e.data.field(m.fieldPath);if(Fe(w))for(const F of w.arrayValue.values||[])l=l.add(new Kd(t.indexId,e.key,this.dn(F),h))}else l=l.add(new Kd(t.indexId,e.key,Ap,h));return l}vn(e,t,l,h,m){_n("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(F,J,ce,Ie,Ze){const Ht=F.getIterator(),rn=J.getIterator();let Tn=Cc(Ht),Yn=Cc(rn);for(;Tn||Yn;){let Xn=!1,gi=!1;if(Tn&&Yn){const cs=ce(Tn,Yn);cs<0?gi=!0:cs>0&&(Xn=!0)}else null!=Tn?gi=!0:Xn=!0;Xn?(Ie(Yn),Yn=Cc(rn)):gi?(Ze(Tn),Tn=Cc(Ht)):(Tn=Cc(Ht),Yn=Cc(rn))}}(h,m,tu,F=>{w.push(this.Rn(e,t,l,F))},F=>{w.push(this.Pn(e,t,l,F))}),Ct.waitFor(w)}Tn(e){let t=1;return xf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((w,F)=>tu(w,F)).filter((w,F,J)=>!F||0!==tu(w,J[F-1]));const h=[];h.push(e);for(const w of l){const F=tu(w,e),J=tu(w,t);if(0===F)h[0]=e.Je();else if(F>0&&J<0)h.push(w),h.push(w.Je());else if(J>0)break}h.push(t);const m=[];for(let w=0;w<h.length;w+=2){if(this.bn(h[w],h[w+1]))return[];m.push(IDBKeyRange.bound([h[w].indexId,this.uid,h[w].arrayValue,h[w].directionalValue,Ap,[]],[h[w+1].indexId,this.uid,h[w+1].arrayValue,h[w+1].directionalValue,Ap,[]]))}return m}bn(e,t){return tu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nf)}getMinOffset(e,t){return Ct.mapArray(this.cn(t),l=>this.an(e,l).next(h=>h||pt())).next(Nf)}}function Mg(s){return Bo(s,"collectionParents")}function Of(s){return Bo(s,"indexEntries")}function vd(s){return Bo(s,"indexConfiguration")}function xf(s){return Bo(s,"indexState")}function Nf(s){wn(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<s.length;l++){const h=s[l].indexState.offset;gt(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Re(e.readTime,e.documentKey,t)}const ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bl{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new bl(e,bl.DEFAULT_COLLECTION_PERCENTILE,bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mm(s,e,t){const l=s.store("mutations"),h=s.store("documentMutations"),m=[],w=IDBKeyRange.only(t.batchId);let F=0;const J=l.X({range:w},(Ie,Ze,Ht)=>(F++,Ht.delete()));m.push(J.next(()=>{wn(1===F)}));const ce=[];for(const Ie of t.mutations){const Ze=gu(e,Ie.key.path,t.batchId);m.push(h.delete(Ze)),ce.push(Ie.key)}return Ct.waitFor(m).next(()=>ce)}function qd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw pt();e=s.noDocument}return JSON.stringify(e).length}bl.DEFAULT_COLLECTION_PERCENTILE=10,bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bl.DEFAULT=new bl(41943040,bl.DEFAULT_COLLECTION_PERCENTILE,bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bl.DISABLED=new bl(-1,0,0);class Zd{constructor(e,t,l,h){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=h,this.Vn={}}static de(e,t,l,h){wn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Zd(m,t,l,h)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return so(e).X({index:"userMutationsIndex",range:l},(h,m,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,l,h){const m=Zu(e),w=so(e);return w.add({}).next(F=>{wn("number"==typeof F);const J=new S(F,t,l,h),ce=function(Ht,rn,Tn){const Yn=Tn.baseMutations.map(gi=>bp(Ht.fe,gi)),Xn=Tn.mutations.map(gi=>bp(Ht.fe,gi));return{userId:rn,batchId:Tn.batchId,localWriteTimeMs:Tn.localWriteTime.toMillis(),baseMutations:Yn,mutations:Xn}}(this.serializer,this.userId,J),Ie=[];let Ze=new fs((Ht,rn)=>Dr(Ht.canonicalString(),rn.canonicalString()));for(const Ht of h){const rn=gu(this.userId,Ht.key.path,F);Ze=Ze.add(Ht.key.path.popLast()),Ie.push(w.put(ce)),Ie.push(m.put(rn,Hc))}return Ze.forEach(Ht=>{Ie.push(this.indexManager.addToCollectionParentIndex(e,Ht))}),e.addOnCommittedListener(()=>{this.Vn[F]=J.keys()}),Ct.waitFor(Ie).next(()=>J)})}lookupMutationBatch(e,t){return so(e).get(t).next(l=>l?(wn(l.userId===this.userId),Rf(this.serializer,l)):null)}Sn(e,t){return this.Vn[t]?Ct.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const h=l.keys();return this.Vn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,h=IDBKeyRange.lowerBound([this.userId,l]);let m=null;return so(e).X({index:"userMutationsIndex",range:h},(w,F,J)=>{F.userId===this.userId&&(wn(F.batchId>=l),m=Rf(this.serializer,F)),J.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return so(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,m,w)=>{l=m.batchId,w.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return so(e).j("userMutationsIndex",t).next(l=>l.map(h=>Rf(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=yl(this.userId,t.path),h=IDBKeyRange.lowerBound(l),m=[];return Zu(e).X({range:h},(w,F,J)=>{const[ce,Ie,Ze]=w,Ht=eo(Ie);if(ce===this.userId&&t.path.isEqual(Ht))return so(e).get(Ze).next(rn=>{if(!rn)throw pt();wn(rn.userId===this.userId),m.push(Rf(this.serializer,rn))});J.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new fs(Dr);const h=[];return t.forEach(m=>{const w=yl(this.userId,m.path),F=IDBKeyRange.lowerBound(w),J=Zu(e).X({range:F},(ce,Ie,Ze)=>{const[Ht,rn,Tn]=ce,Yn=eo(rn);Ht===this.userId&&m.path.isEqual(Yn)?l=l.add(Tn):Ze.done()});h.push(J)}),Ct.waitFor(h).next(()=>this.Dn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1,m=yl(this.userId,l),w=IDBKeyRange.lowerBound(m);let F=new fs(Dr);return Zu(e).X({range:w},(J,ce,Ie)=>{const[Ze,Ht,rn]=J,Tn=eo(Ht);Ze===this.userId&&l.isPrefixOf(Tn)?Tn.length===h&&(F=F.add(rn)):Ie.done()}).next(()=>this.Dn(e,F))}Dn(e,t){const l=[],h=[];return t.forEach(m=>{h.push(so(e).get(m).next(w=>{if(null===w)throw pt();wn(w.userId===this.userId),l.push(Rf(this.serializer,w))}))}),Ct.waitFor(h).next(()=>l)}removeMutationBatch(e,t){return Mm(e.ht,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ct.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ct.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return Zu(e).X({range:l},(m,w,F)=>{if(m[0]===this.userId){const J=eo(m[1]);h.push(J)}else F.done()}).next(()=>{wn(0===h.length)})})}containsKey(e,t){return Ts(e,this.userId,t)}xn(e){return Pm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ts(s,e,t){const l=yl(e,t.path),h=l[1],m=IDBKeyRange.lowerBound(l);let w=!1;return Zu(s).X({range:m,Y:!0},(F,J,ce)=>{const[Ie,Ze,Ht]=F;Ie===e&&Ze===h&&(w=!0),ce.done()}).next(()=>w)}function so(s){return Bo(s,"mutations")}function Zu(s){return Bo(s,"documentMutations")}function Pm(s){return Bo(s,"mutationQueues")}class Tl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tl(0)}static Mn(){return new Tl(-1)}}class Cl{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const l=new Tl(t.highestTargetId);return t.highestTargetId=l.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>gr.fromTimestamp(new gs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.$n(e).next(h=>(h.highestListenSequenceNumber=t,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(l=>(l.targetCount+=1,this.Bn(t,l),this.On(e,l))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rp(e).delete(t.targetId)).next(()=>this.$n(e)).next(l=>(wn(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,t,l){let h=0;const m=[];return Rp(e).X((w,F)=>{const J=Am(F);J.sequenceNumber<=t&&null===l.get(J.targetId)&&(h++,m.push(this.removeTargetData(e,J)))}).next(()=>Ct.waitFor(m)).next(()=>h)}forEachTarget(e,t){return Rp(e).X((l,h)=>{const m=Am(h);t(m)})}$n(e){return Mp(e).get("targetGlobalKey").next(t=>(wn(null!==t),t))}On(e,t){return Mp(e).put("targetGlobalKey",t)}Fn(e,t){return Rp(e).put($v(this.serializer,t))}Bn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const l=Yl(t),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let m=null;return Rp(e).X({range:h,index:"queryTargetsIndex"},(w,F,J)=>{const ce=Am(F);ua(t,ce.target)&&(m=ce,J.done())}).next(()=>m)}addMatchingKeys(e,t,l){const h=[],m=Yd(e);return t.forEach(w=>{const F=Gs(w.path);h.push(m.put({targetId:l,path:F})),h.push(this.referenceDelegate.addReference(e,l,w))}),Ct.waitFor(h)}removeMatchingKeys(e,t,l){const h=Yd(e);return Ct.forEach(t,m=>{const w=Gs(m.path);return Ct.waitFor([h.delete([l,w]),this.referenceDelegate.removeReference(e,l,m)])})}removeMatchingKeysForTargetId(e,t){const l=Yd(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),h=Yd(e);let m=ni();return h.X({range:l,Y:!0},(w,F,J)=>{const ce=eo(w[1]),Ie=new xn(ce);m=m.add(Ie)}).next(()=>m)}containsKey(e,t){const l=Gs(t.path),h=IDBKeyRange.bound([l],[Wl(l)],!1,!0);let m=0;return Yd(e).X({index:"documentTargetsIndex",Y:!0,range:h},([w,F],J,ce)=>{0!==w&&(m++,ce.done())}).next(()=>m>0)}le(e,t){return Rp(e).get(t).next(l=>l?Am(l):null)}}function Rp(s){return Bo(s,"targets")}function Mp(s){return Bo(s,"targetGlobal")}function Yd(s){return Bo(s,"targetDocuments")}function bu([s,e],[t,l]){const h=Dr(s,t);return 0===h?Dr(e,l):h}class Ph{constructor(e){this.Ln=e,this.buffer=new fs(bu),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();bu(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ed{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;_n("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ye.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){Do(l)?_n("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield or(l)}yield t.Qn(3e5)}))}}class dE{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return Ct.resolve(Xs.ct);const l=new Ph(t);return this.jn.forEachTarget(e,h=>l.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>l.Kn(h))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.jn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_n("LruGarbageCollector","Garbage collection skipped; disabled"),Ct.resolve(ny)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(_n("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ny):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let l,h,m,w,F,J,ce;const Ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(_n("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),h=this.params.maximumSequenceNumbersToCollect):h=Ze,w=Date.now(),this.nthSequenceNumber(e,h))).next(Ze=>(l=Ze,F=Date.now(),this.removeTargets(e,l,t))).next(Ze=>(m=Ze,J=Date.now(),this.removeOrphanedDocuments(e,l))).next(Ze=>(ce=Date.now(),oc()<=Qe.in.DEBUG&&_n("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-Ie}ms\n\tDetermined least recently used ${h} in `+(F-w)+`ms\n\tRemoved ${m} targets in `+(J-F)+`ms\n\tRemoved ${Ze} documents in `+(ce-J)+`ms\nTotal Duration: ${ce-Ie}ms`),Ct.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:Ze})))}}class Pg{constructor(e,t){this.db=e,this.garbageCollector=function Oh(s,e){return new dE(s,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(h=>l+h))}Jn(e){let t=0;return this.Wn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(l,h)=>t(h))}addReference(e,t,l){return Pp(e,l)}removeReference(e,t,l){return Pp(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return Pp(e,t)}Xn(e,t){return function(l,h){let m=!1;return Pm(l).Z(w=>Ts(l,w,h).next(F=>(F&&(m=!0),Ct.resolve(!F)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Yn(e,(w,F)=>{if(F<=t){const J=this.Xn(e,w).next(ce=>{if(!ce)return m++,l.getEntry(e,w).next(()=>(l.removeEntry(w,gr.min()),Yd(e).delete([0,Gs(w.path)])))});h.push(J)}}).next(()=>Ct.waitFor(h)).next(()=>l.apply(e)).next(()=>m)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return Pp(e,t)}Yn(e,t){const l=Yd(e);let h,m=Xs.ct;return l.X({index:"documentTargetsIndex"},([w,F],{path:J,sequenceNumber:ce})=>{0===w?(m!==Xs.ct&&t(new xn(eo(h)),m),m=ce,h=J):m=Xs.ct}).next(()=>{m!==Xs.ct&&t(new xn(eo(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pp(s,e){return Yd(s).put((l=s.currentSequenceNumber,{targetId:0,path:Gs(e.path),sequenceNumber:l}));var l}class jo{constructor(){this.changes=new hl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?Ct.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return Qd(e).put(l)}removeEntry(e,t,l){return Qd(e).delete(function(h,m){const w=h.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],Za(m),w[w.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Zn(e,l)))}getEntry(e,t){let l=Gi.newInvalidDocument(t);return Qd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xh(t))},(h,m)=>{l=this.ts(t,m)}).next(()=>l)}es(e,t){let l={size:0,document:Gi.newInvalidDocument(t)};return Qd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xh(t))},(h,m)=>{l={document:this.ts(t,m),size:qd(m)}}).next(()=>l)}getEntries(e,t){let l=La();return this.ns(e,t,(h,m)=>{const w=this.ts(h,m);l=l.insert(h,w)}).next(()=>l)}ss(e,t){let l=La(),h=new as(xn.comparator);return this.ns(e,t,(m,w)=>{const F=this.ts(m,w);l=l.insert(m,F),h=h.insert(m,qd(w))}).next(()=>({documents:l,rs:h}))}ns(e,t,l){if(t.isEmpty())return Ct.resolve();let h=new fs(Op);t.forEach(J=>h=h.add(J));const m=IDBKeyRange.bound(xh(h.first()),xh(h.last())),w=h.getIterator();let F=w.getNext();return Qd(e).X({index:"documentKeyIndex",range:m},(J,ce,Ie)=>{const Ze=xn.fromSegments([...ce.prefixPath,ce.collectionGroup,ce.documentId]);for(;F&&Op(F,Ze)<0;)l(F,null),F=w.getNext();F&&F.isEqual(Ze)&&(l(F,ce),F=w.hasNext()?w.getNext():null),F?Ie.G(xh(F)):Ie.done()}).next(()=>{for(;F;)l(F,null),F=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(e,t,l,h){const m=t.path,w=[m.popLast().toArray(),m.lastSegment(),Za(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],F=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qd(e).j(IDBKeyRange.bound(w,F,!0)).next(J=>{let ce=La();for(const Ie of J){const Ze=this.ts(xn.fromSegments(Ie.prefixPath.concat(Ie.collectionGroup,Ie.documentId)),Ie);Ze.isFoundDocument()&&(wr(t,Ze)||h.has(Ze.key))&&(ce=ce.insert(Ze.key,Ze))}return ce})}getAllFromCollectionGroup(e,t,l,h){let m=La();const w=Yu(t,l),F=Yu(t,Re.max());return Qd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,F,!0)},(J,ce,Ie)=>{const Ze=this.ts(xn.fromSegments(ce.prefixPath.concat(ce.collectionGroup,ce.documentId)),ce);m=m.insert(Ze.key,Ze),m.size===h&&Ie.done()}).next(()=>m)}newChangeBuffer(e){return new xg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qv(e).get("remoteDocumentGlobalKey").next(t=>(wn(!!t),t))}Zn(e,t){return qv(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const l=function Hv(s,e){let t;if(e.document)t=Dg(s.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=xn.fromSegments(e.noDocument.path),h=Mh(e.noDocument.readTime);t=Gi.newNoDocument(l,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const l=xn.fromSegments(e.unknownDocument.path),h=Mh(e.unknownDocument.version);t=Gi.newUnknownDocument(l,h)}}return e.readTime&&t.setReadTime(function(l){const h=new gs(l[0],l[1]);return gr.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(gr.min()))return l}return Gi.newInvalidDocument(e)}}function Og(s){return new Kv(s)}class xg extends jo{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new hl(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const t=[];let l=0,h=new fs((m,w)=>Dr(m.canonicalString(),w.canonicalString()));return this.changes.forEach((m,w)=>{const F=this.us.get(m);if(t.push(this.os.removeEntry(e,m,F.readTime)),w.isValidDocument()){const J=K_(this.os.serializer,w);h=h.add(m.path.popLast());const ce=qd(J);l+=ce-F.size,t.push(this.os.addEntry(e,m,J))}else if(l-=F.size,this.trackRemovals){const J=K_(this.os.serializer,w.convertToNoDocument(gr.min()));t.push(this.os.addEntry(e,m,J))}}),h.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,l)),Ct.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(l=>(this.us.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:l,rs:h})=>(h.forEach((m,w)=>{this.us.set(m,{size:w,readTime:l.get(m).readTime})}),l))}}function qv(s){return Bo(s,"remoteDocumentGlobal")}function Qd(s){return Bo(s,"remoteDocumentsV14")}function xh(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yu(s,e){const t=e.documentKey.path.toArray();return[s,Za(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Op(s,e){const t=s.path.toArray(),l=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<l.length-2;++m)if(h=Dr(t[m],l[m]),h)return h;return h=Dr(t.length,l.length),h||(h=Dr(t[t.length-2],l[l.length-2]),h||Dr(t[t.length-1],l[l.length-1]))}class Nh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zv{constructor(e,t,l,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==l&&qa(l.mutation,h,ea.empty(),gs.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,ni()).next(()=>l))}getLocalViewOfDocuments(e,t,l=ni()){const h=wl();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,l).next(m=>{let w=Fl();return m.forEach((F,J)=>{w=w.insert(F,J.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const l=wl();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,ni()))}populateOverlays(e,t,l){const h=[];return l.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((w,F)=>{t.set(w,F)})})}computeViews(e,t,l,h){let m=La();const w=pc(),F=pc();return t.forEach((J,ce)=>{const Ie=l.get(ce.key);h.has(ce.key)&&(void 0===Ie||Ie.mutation instanceof Jl)?m=m.insert(ce.key,ce):void 0!==Ie?(w.set(ce.key,Ie.mutation.getFieldMask()),qa(Ie.mutation,ce,Ie.mutation.getFieldMask(),gs.now())):w.set(ce.key,ea.empty())}),this.recalculateAndSaveOverlays(e,m).next(J=>(J.forEach((ce,Ie)=>w.set(ce,Ie)),t.forEach((ce,Ie)=>{var Ze;return F.set(ce,new Nh(Ie,null!==(Ze=w.get(ce))&&void 0!==Ze?Ze:null))}),F))}recalculateAndSaveOverlays(e,t){const l=pc();let h=new as((w,F)=>w-F),m=ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const F of w)F.keys().forEach(J=>{const ce=t.get(J);if(null===ce)return;let Ie=l.get(J)||ea.empty();Ie=F.applyToLocalView(ce,Ie),l.set(J,Ie);const Ze=(h.get(F.batchId)||ni()).add(J);h=h.insert(F.batchId,Ze)})}).next(()=>{const w=[],F=h.getReverseIterator();for(;F.hasNext();){const J=F.getNext(),ce=J.key,Ie=J.value,Ze=vh();Ie.forEach(Ht=>{if(!m.has(Ht)){const rn=bf(t.get(Ht),l.get(Ht));null!==rn&&Ze.set(Ht,rn),m=m.add(Ht)}}),w.push(this.documentOverlayCache.saveOverlays(e,ce,Ze))}return Ct.waitFor(w)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return xn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):D(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var h}getNextDocuments(e,t,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,h).next(m=>{const w=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,h-m.size):Ct.resolve(wl());let F=-1,J=m;return w.next(ce=>Ct.forEach(ce,(Ie,Ze)=>(F<Ze.largestBatchId&&(F=Ze.largestBatchId),m.get(Ie)?Ct.resolve():this.remoteDocumentCache.getEntry(e,Ie).next(Ht=>{J=J.insert(Ie,Ht)}))).next(()=>this.populateOverlays(e,ce,m)).next(()=>this.computeViews(e,J,ce,ni())).next(Ie=>({batchId:F,changes:fc(Ie)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xn(t)).next(l=>{let h=Fl();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const h=t.collectionGroup;let m=Fl();return this.indexManager.getCollectionParents(e,h).next(w=>Ct.forEach(w,F=>{const J=(ce=t,Ie=F.child(h),new Mc(Ie,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,Ie;return this.getDocumentsMatchingCollectionQuery(e,J,l).next(ce=>{ce.forEach((Ie,Ze)=>{m=m.insert(Ie,Ze)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,h))).next(m=>{h.forEach((F,J)=>{const ce=J.getKey();null===m.get(ce)&&(m=m.insert(ce,Gi.newInvalidDocument(ce)))});let w=Fl();return m.forEach((F,J)=>{const ce=h.get(F);void 0!==ce&&qa(ce.mutation,J,ea.empty(),gs.now()),wr(t,J)&&(w=w.insert(F,J))}),w})}}class Om{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ct.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var l;return this.cs.set(t.id,{id:(l=t).id,version:l.version,createTime:ha(l.createTime)}),Ct.resolve()}getNamedQuery(e,t){return Ct.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(l=t).name,query:q_(l.bundledQuery),readTime:ha(l.readTime)}),Ct.resolve();var l}}class Yv{constructor(){this.overlays=new as(xn.comparator),this.ls=new Map}getOverlay(e,t){return Ct.resolve(this.overlays.get(t))}getOverlays(e,t){const l=wl();return Ct.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((h,m)=>{this.we(e,t,m)}),Ct.resolve()}removeOverlaysForBatchId(e,t,l){const h=this.ls.get(l);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(l)),Ct.resolve()}getOverlaysForCollection(e,t,l){const h=wl(),m=t.length+1,w=new xn(t.child("")),F=this.overlays.getIteratorFrom(w);for(;F.hasNext();){const J=F.getNext().value,ce=J.getKey();if(!t.isPrefixOf(ce.path))break;ce.path.length===m&&J.largestBatchId>l&&h.set(J.getKey(),J)}return Ct.resolve(h)}getOverlaysForCollectionGroup(e,t,l,h){let m=new as((ce,Ie)=>ce-Ie);const w=this.overlays.getIterator();for(;w.hasNext();){const ce=w.getNext().value;if(ce.getKey().getCollectionGroup()===t&&ce.largestBatchId>l){let Ie=m.get(ce.largestBatchId);null===Ie&&(Ie=wl(),m=m.insert(ce.largestBatchId,Ie)),Ie.set(ce.getKey(),ce)}}const F=wl(),J=m.getIterator();for(;J.hasNext()&&(J.getNext().value.forEach((ce,Ie)=>F.set(ce,Ie)),!(F.size()>=h)););return Ct.resolve(F)}we(e,t,l){const h=this.overlays.get(l.key);if(null!==h){const w=this.ls.get(h.largestBatchId).delete(l.key);this.ls.set(h.largestBatchId,w)}this.overlays=this.overlays.insert(l.key,new I(t,l));let m=this.ls.get(t);void 0===m&&(m=ni(),this.ls.set(t,m)),this.ls.set(t,m.add(l.key))}}class kh{constructor(){this.fs=new fs(Sa.ds),this.ws=new fs(Sa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const l=new Sa(e,t);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.ys(new Sa(e,t))}ps(e,t){e.forEach(l=>this.removeReference(l,t))}Is(e){const t=new xn(new Ci([])),l=new Sa(t,e),h=new Sa(t,e+1),m=[];return this.ws.forEachInRange([l,h],w=>{this.ys(w),m.push(w.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new xn(new Ci([])),l=new Sa(t,e),h=new Sa(t,e+1);let m=ni();return this.ws.forEachInRange([l,h],w=>{m=m.add(w.key)}),m}containsKey(e){const t=new Sa(e,0),l=this.fs.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class Sa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return xn.comparator(e.key,t.key)||Dr(e.As,t.As)}static _s(e,t){return Dr(e.As,t.As)||xn.comparator(e.key,t.key)}}class Ng{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new fs(Sa.ds)}checkEmpty(e){return Ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,h){const m=this.vs;this.vs++;const w=new S(m,t,l,h);this.mutationQueue.push(w);for(const F of h)this.Rs=this.Rs.add(new Sa(F.key,m)),this.indexManager.addToCollectionParentIndex(e,F.key.path.popLast());return Ct.resolve(w)}lookupMutationBatch(e,t){return Ct.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.bs(t+1),m=h<0?0:h;return Ct.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ct.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new Sa(t,0),h=new Sa(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([l,h],w=>{const F=this.Ps(w.As);m.push(F)}),Ct.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new fs(Dr);return t.forEach(h=>{const m=new Sa(h,0),w=new Sa(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,w],F=>{l=l.add(F.As)})}),Ct.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1;let m=l;xn.isDocumentKey(m)||(m=m.child(""));const w=new Sa(new xn(m),0);let F=new fs(Dr);return this.Rs.forEachWhile(J=>{const ce=J.key.path;return!!l.isPrefixOf(ce)&&(ce.length===h&&(F=F.add(J.As)),!0)},w),Ct.resolve(this.Vs(F))}Vs(e){const t=[];return e.forEach(l=>{const h=this.Ps(l);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return Ct.forEach(t.mutations,h=>{const m=new Sa(h.key,t.batchId);return l=l.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,t){const l=new Sa(t,0),h=this.Rs.firstAfterOrEqual(l);return Ct.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Ct.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qv{constructor(e){this.Ds=e,this.docs=new as(xn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,h=this.docs.get(l),m=h?h.size:0,w=this.Ds(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:w}),this.size+=w-m,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return Ct.resolve(l?l.document.mutableCopy():Gi.newInvalidDocument(t))}getEntries(e,t){let l=La();return t.forEach(h=>{const m=this.docs.get(h);l=l.insert(h,m?m.document.mutableCopy():Gi.newInvalidDocument(h))}),Ct.resolve(l)}getDocumentsMatchingQuery(e,t,l,h){let m=La();const w=t.path,F=new xn(w.child("")),J=this.docs.getIteratorFrom(F);for(;J.hasNext();){const{key:ce,value:{document:Ie}}=J.getNext();if(!w.isPrefixOf(ce.path))break;ce.path.length>w.length+1||gt(_e(Ie),l)<=0||(h.has(Ie.key)||wr(t,Ie))&&(m=m.insert(Ie.key,Ie.mutableCopy()))}return Ct.resolve(m)}getAllFromCollectionGroup(e,t,l,h){pt()}Cs(e,t){return Ct.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new kg(this)}getSize(e){return Ct.resolve(this.size)}}class kg extends jo{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?t.push(this.os.addEntry(e,h)):this.os.removeEntry(l)}),Ct.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ry{constructor(e){this.persistence=e,this.xs=new hl(t=>Yl(t),ua),this.lastRemoteSnapshotVersion=gr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kh,this.targetCount=0,this.Ms=Tl.kn()}forEachTarget(e,t){return this.xs.forEach((l,h)=>t(h)),Ct.resolve()}getLastRemoteSnapshotVersion(e){return Ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ct.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Ns&&(this.Ns=t),Ct.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ct.resolve()}updateTargetData(e,t){return this.Fn(t),Ct.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ct.resolve()}removeTargets(e,t,l){let h=0;const m=[];return this.xs.forEach((w,F)=>{F.sequenceNumber<=t&&null===l.get(F.targetId)&&(this.xs.delete(w),m.push(this.removeMatchingKeysForTargetId(e,F.targetId)),h++)}),Ct.waitFor(m).next(()=>h)}getTargetCount(e){return Ct.resolve(this.targetCount)}getTargetData(e,t){const l=this.xs.get(t)||null;return Ct.resolve(l)}addMatchingKeys(e,t,l){return this.ks.gs(t,l),Ct.resolve()}removeMatchingKeys(e,t,l){this.ks.ps(t,l);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(w=>{m.push(h.markPotentiallyOrphaned(e,w))}),Ct.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ct.resolve()}getMatchingKeysForTargetId(e,t){const l=this.ks.Es(t);return Ct.resolve(l)}containsKey(e,t){return Ct.resolve(this.ks.containsKey(t))}}class Lg{constructor(e,t){this.$s={},this.overlays={},this.Os=new Xs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ry(this),this.indexManager=new Wv,this.remoteDocumentCache=new Qv(l=>this.referenceDelegate.Ls(l)),this.serializer=new Sm(t),this.qs=new Om(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.$s[e.toKey()];return l||(l=new Ng(t,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,l){_n("MemoryPersistence","Starting transaction:",e);const h=new iy(this.Os.next());return this.referenceDelegate.Us(),l(h).next(m=>this.referenceDelegate.Ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Gs(e,t){return Ct.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,t)))}}class iy extends Xt{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.Qs=new kh,this.js=null}static zs(e){return new kf(e)}get Ws(){if(this.js)return this.js;throw pt()}addReference(e,t,l){return this.Qs.addReference(l,t),this.Ws.delete(l.toString()),Ct.resolve()}removeReference(e,t,l){return this.Qs.removeReference(l,t),this.Ws.add(l.toString()),Ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ct.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(h=>this.Ws.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ws.add(m.toString()))}).next(()=>l.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ct.forEach(this.Ws,l=>{const h=xn.fromPath(l);return this.Hs(e,h).next(m=>{m||t.removeEntry(h,gr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(l=>{l?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ct.or([()=>Ct.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class sy{constructor(e){this.serializer=e}O(e,t,l,h){const m=new Oi("createOrUpgrade",t);var F;l<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mu,{unique:!0}),F.createObjectStore("documentMutations"),oy(e),function(F){F.createObjectStore("remoteDocuments")}(e));let w=Ct.resolve();return l<3&&h>=3&&(0!==l&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),oy(e)),w=w.next(()=>function(F){const J=F.store("targetGlobal"),ce={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gr.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",ce)}(m))),l<4&&h>=4&&(0!==l&&(w=w.next(()=>function(F,J){return J.store("mutations").j().next(ce=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mu,{unique:!0});const Ie=J.store("mutations"),Ze=ce.map(Ht=>Ie.put(Ht));return Ct.waitFor(Ze)})}(e,m))),w=w.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(w=w.next(()=>this.Ys(m))),l<6&&h>=6&&(w=w.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),l<7&&h>=7&&(w=w.next(()=>this.Zs(m))),l<8&&h>=8&&(w=w.next(()=>this.ti(e,m))),l<9&&h>=9&&(w=w.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(w=w.next(()=>this.ei(m))),l<11&&h>=11&&(w=w.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(w=w.next(()=>{!function(F){const J=F.createObjectStore("documentOverlays",{keyPath:Wc});J.createIndex("collectionPathOverlayIndex",Nd,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",ql,{unique:!1})}(e)})),l<13&&h>=13&&(w=w.next(()=>function(F){const J=F.createObjectStore("remoteDocumentsV14",{keyPath:mh});J.createIndex("documentKeyIndex",$c),J.createIndex("collectionGroupIndex",Gc)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(w=w.next(()=>this.si(e,m))),l<15&&h>=15&&(w=w.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:_h}).createIndex("sequenceNumberIndex",zs,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:_u}).createIndex("documentKeyIndex",Vu,{unique:!1})}(e))),w}Xs(e){let t=0;return e.store("remoteDocuments").X((l,h)=>{t+=qd(h)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(h=>Ct.forEach(h,m=>{const w=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",w).next(F=>Ct.forEach(F,J=>{wn(J.userId===m.userId);const ce=Rf(this.serializer,J);return Mm(e,m.userId,ce).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return l.X((w,F)=>{const J=new Ci(w),ce=[0,Gs(J)];m.push(t.get(ce).next(Ie=>Ie?Ct.resolve():t.put({targetId:0,path:Gs(J),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ct.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:zc});const l=t.store("collectionParents"),h=new qu,m=w=>{if(h.add(w)){const F=w.lastSegment(),J=w.popLast();return l.put({collectionId:F,parent:Gs(J)})}};return t.store("remoteDocuments").X({Y:!0},(w,F)=>{const J=new Ci(w);return m(J.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([w,F,J],ce)=>{const Ie=eo(F);return m(Ie.popLast())}))}ei(e){const t=e.store("targets");return t.X((l,h)=>{const m=Am(h),w=$v(this.serializer,m);return t.put(w)})}ni(e,t){const l=t.store("remoteDocuments"),h=[];return l.X((m,w)=>{const F=t.store("remoteDocumentsV14"),J=(ce=w,ce.document?new xn(Ci.fromString(ce.document.name).popFirst(5)):ce.noDocument?xn.fromSegments(ce.noDocument.path):ce.unknownDocument?xn.fromSegments(ce.unknownDocument.path):pt()).path.toArray();var ce;const Ie={prefixPath:J.slice(0,J.length-2),collectionGroup:J[J.length-2],documentId:J[J.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};h.push(F.put(Ie))}).next(()=>Ct.waitFor(h))}si(e,t){const l=t.store("mutations"),h=Og(this.serializer),m=new Lg(kf.zs,this.serializer.fe);return l.j().next(w=>{const F=new Map;return w.forEach(J=>{var ce;let Ie=null!==(ce=F.get(J.userId))&&void 0!==ce?ce:ni();Rf(this.serializer,J).keys().forEach(Ze=>Ie=Ie.add(Ze)),F.set(J.userId,Ie)}),Ct.forEach(F,(J,ce)=>{const Ie=new ns(ce),Ze=Mf.de(this.serializer,Ie),Ht=m.getIndexManager(Ie),rn=Zd.de(Ie,this.serializer,Ht,m.referenceDelegate);return new Zv(h,rn,Ze,Ht).recalculateAndSaveOverlaysForDocumentKeys(new ju(t,Xs.ct),J).next()})})}}function oy(s){s.createObjectStore("targetDocuments",{keyPath:gh}).createIndex("documentTargetsIndex",_f,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tc,{unique:!0}),s.createObjectStore("targetGlobal")}const Ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vg{constructor(e,t,l,h,m,w,F,J,ce,Ie,Ze=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.ii=m,this.window=w,this.document=F,this.ri=ce,this.oi=Ie,this.ui=Ze,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ht=>Promise.resolve(),!Vg.D())throw new an(kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pg(this,h),this.di=t+"main",this.serializer=new Sm(J),this.wi=new os(this.di,this.ui,new sy(this.serializer)),this.Bs=new Cl(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Og(this.serializer),this.qs=new sE,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ie&&Js("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new an(kt.FAILED_PRECONDITION,Ug);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Xs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var l=(0,Ye.Z)(function*(h){if(t.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ye.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ye.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Do(e))return _n("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _n("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Bg(e).get("owner").next(t=>Ct.resolve(this.Ri(t)))}Pi(e){return Lh(e).delete(this.clientId)}bi(){var e=this;return(0,Ye.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=Bo(l,"clientMetadata");return h.j().next(m=>{const w=e.Si(m,18e5),F=m.filter(J=>-1===w.indexOf(J));return Ct.forEach(F,J=>h.delete(J.clientId)).next(()=>F)})}).catch(()=>[]);if(e._i)for(const l of t)e._i.removeItem(e.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ct.resolve(!0):Bg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new an(kt.FAILED_PRECONDITION,Ug);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).j().next(l=>void 0===this.Si(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&_n("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ye.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new ju(t,Xs.ct);return e.Ai(l).next(()=>e.Pi(l))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(l=>this.Vi(l.updateTimeMs,t)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).j().next(t=>this.Si(t,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Zd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uE(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Mf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,l){_n("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(w=this.ui)?vu:14===w?Bu:13===w?Kc:12===w?dd:11===w?yu:void pt();var w;let F;return this.wi.runTransaction(e,h,m,J=>(F=new ju(J,this.Os?this.Os.next():Xs.ct),"readwrite-primary"===t?this.Ti(F).next(ce=>!!ce||this.Ei(F)).next(ce=>{if(!ce)throw Js(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new an(kt.FAILED_PRECONDITION,In);return l(F)}).next(ce=>this.vi(F).next(()=>ce)):this.Oi(F).next(()=>l(F)))).then(J=>(F.raiseOnCommittedEvent(),J))}Oi(e){return Bg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new an(kt.FAILED_PRECONDITION,Ug)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bg(e).put("owner",t)}static D(){return os.D()}Ai(e){const t=Bg(e);return t.get("owner").next(l=>this.Ri(l)?(_n("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ct.resolve())}Vi(e,t){const l=Date.now();return!(e<l-t||e>l&&(Js(`Detected an update time that is in the future: ${e} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,He.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const l=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return _n("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Js("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Js("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bg(s){return Bo(s,"owner")}function Lh(s){return Bo(s,"clientMetadata")}function ay(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Lf{constructor(e,t,l,h){this.targetId=e,this.fromCache=t,this.Fi=l,this.Bi=h}static Li(e,t){let l=ni(),h=ni();for(const m of t.docChanges)switch(m.type){case 0:l=l.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Lf(e,t.fromCache,l,h)}}class xp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,l,h){return this.Ki(e,t).next(m=>m||this.Gi(e,t,h,l)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(gp(t))return Ct.resolve(null);let l=he(t);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=mt(t,null,"F"),l=he(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(m=>{const w=ni(...m);return this.Ui.getDocuments(e,w).next(F=>this.indexManager.getMinOffset(e,l).next(J=>{const ce=this.ji(t,F);return this.zi(t,ce,w,J.readTime)?this.Ki(e,mt(t,null,"F")):this.Wi(e,ce,t,J)}))})))}Gi(e,t,l,h){return gp(t)||h.isEqual(gr.min())?this.Qi(e,t):this.Ui.getDocuments(e,l).next(m=>{const w=this.ji(t,m);return this.zi(t,w,l,h)?this.Qi(e,t):(oc()<=Qe.in.DEBUG&&_n("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),$n(t)),this.Wi(e,w,t,ee(h,-1)))})}ji(e,t){let l=new fs(Ll(e));return t.forEach((h,m)=>{wr(e,m)&&(l=l.add(m))}),l}zi(e,t,l,h){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Qi(e,t){return oc()<=Qe.in.DEBUG&&_n("QueryEngine","Using full collection scan to execute query:",$n(t)),this.Ui.getDocumentsMatchingQuery(e,t,Re.min())}Wi(e,t,l,h){return this.Ui.getDocumentsMatchingQuery(e,l,h).next(m=>(t.forEach(w=>{m=m.insert(w.key,w)}),m))}}class Fh{constructor(e,t,l,h){this.persistence=e,this.Hi=t,this.serializer=h,this.Ji=new as(Dr),this.Yi=new hl(m=>Yl(m),ua),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function jg(s,e,t,l){return new Fh(s,e,t,l)}function Hg(s,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Ye.Z)(function*(s,e){const t=Ln(s);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let h;return t.mutationQueue.getAllMutationBatches(l).next(m=>(h=m,t.tr(e),t.mutationQueue.getAllMutationBatches(l))).next(m=>{const w=[],F=[];let J=ni();for(const ce of h){w.push(ce.batchId);for(const Ie of ce.mutations)J=J.add(Ie.key)}for(const ce of m){F.push(ce.batchId);for(const Ie of ce.mutations)J=J.add(Ie.key)}return t.localDocuments.getDocuments(l,J).next(ce=>({er:ce,removedBatchIds:w,addedBatchIds:F}))})})}),Uh.apply(this,arguments)}function Ff(s){const e=Ln(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function xm(s,e,t){let l=ni(),h=ni();return t.forEach(m=>l=l.add(m)),e.getEntries(s,l).next(m=>{let w=La();return t.forEach((F,J)=>{const ce=m.get(F);J.isFoundDocument()!==ce.isFoundDocument()&&(h=h.add(F)),J.isNoDocument()&&J.version.isEqual(gr.min())?(e.removeEntry(F,J.readTime),w=w.insert(F,J)):!ce.isValidDocument()||J.version.compareTo(ce.version)>0||0===J.version.compareTo(ce.version)&&ce.hasPendingWrites?(e.addEntry(J),w=w.insert(F,J)):_n("LocalStore","Ignoring outdated watch update for ",F,". Current version:",ce.version," Watch version:",J.version)}),{nr:w,sr:h}})}function Nm(s,e){const t=Ln(s);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Np(s,e){const t=Ln(s);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return t.Bs.getTargetData(l,e).next(m=>m?(h=m,Ct.resolve(h)):t.Bs.allocateTargetId(l).next(w=>(h=new Wd(e,w,"TargetPurposeListen",l.currentSequenceNumber),t.Bs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=t.Ji.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(l.targetId,l),t.Yi.set(e,l.targetId)),l})}function Vh(s,e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,Ye.Z)(function*(s,e,t){const l=Ln(s),h=l.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",m,w=>l.persistence.referenceDelegate.removeTarget(w,h)))}catch(w){if(!Do(w))throw w;_n("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(h.target)}),Uf.apply(this,arguments)}function Gg(s,e,t){const l=Ln(s);let h=gr.min(),m=ni();return l.persistence.runTransaction("Execute query","readonly",w=>function(F,J,ce){const Ie=Ln(F),Ze=Ie.Yi.get(ce);return void 0!==Ze?Ct.resolve(Ie.Ji.get(Ze)):Ie.Bs.getTargetData(J,ce)}(l,w,he(e)).next(F=>{if(F)return h=F.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(w,F.targetId).next(J=>{m=J})}).next(()=>l.Hi.getDocumentsMatchingQuery(w,e,t?h:gr.min(),t?m:ni())).next(F=>(uy(l,Vi(e),F),{documents:F,ir:m})))}function cy(s,e){const t=Ln(s),l=Ln(t.Bs),h=t.Ji.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>l.le(m,e).next(w=>w?w.target:null))}function Jv(s,e){const t=Ln(s),l=t.Xi.get(e)||gr.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Zi.getAllFromCollectionGroup(h,e,ee(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(uy(t,e,h),h))}function uy(s,e,t){let l=s.Xi.get(e)||gr.min();t.forEach((h,m)=>{m.readTime.compareTo(l)>0&&(l=m.readTime)}),s.Xi.set(e,l)}function Wg(){return Wg=(0,Ye.Z)(function*(s,e,t,l){const h=Ln(s);let m=ni(),w=La();for(const ce of t){const Ie=e.rr(ce.metadata.name);ce.document&&(m=m.add(Ie));const Ze=e.ur(ce);Ze.setReadTime(e.cr(ce.metadata.readTime)),w=w.insert(Ie,Ze)}const F=h.Zi.newChangeBuffer({trackRemovals:!0}),J=yield Np(h,(ce=l,he(Pc(Ci.fromString(`__bundle__/docs/${ce}`)))));var ce;return h.persistence.runTransaction("Apply bundle documents","readwrite",ce=>xm(ce,F,w).next(Ie=>(F.apply(ce),Ie)).next(Ie=>h.Bs.removeMatchingKeysForTargetId(ce,J.targetId).next(()=>h.Bs.addMatchingKeys(ce,m,J.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(ce,Ie.nr,Ie.sr)).next(()=>Ie.nr)))}),Wg.apply(this,arguments)}function hE(s,e){return dy.apply(this,arguments)}function dy(){return dy=(0,Ye.Z)(function*(s,e,t=ni()){const l=yield Np(s,he(q_(e.bundledQuery))),h=Ln(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const w=ha(e.readTime);if(l.snapshotVersion.compareTo(w)>=0)return h.qs.saveNamedQuery(m,e);const F=l.withResumeToken(Ws.EMPTY_BYTE_STRING,w);return h.Ji=h.Ji.insert(F.targetId,F),h.Bs.updateTargetData(m,F).next(()=>h.Bs.removeMatchingKeysForTargetId(m,l.targetId)).next(()=>h.Bs.addMatchingKeys(m,t,l.targetId)).next(()=>h.qs.saveNamedQuery(m,e))})}),dy.apply(this,arguments)}function Bh(s,e){return`firestore_clients_${s}_${e}`}function Kg(s,e,t){let l=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function kp(s,e){return`firestore_targets_${s}_${e}`}class Lp{constructor(e,t,l,h){this.user=e,this.batchId=t,this.state=l,this.error=h}static ar(e,t,l){const h=JSON.parse(l);let m,w="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return w&&h.error&&(w="string"==typeof h.error.message&&"string"==typeof h.error.code,w&&(m=new an(h.error.code,h.error.message))),w?new Lp(e,t,h.state,m):(Js("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jh{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static ar(e,t){const l=JSON.parse(t);let h,m="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new an(l.error.code,l.error.message))),m?new jh(e,l.state,h):(Js("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Id{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const l=JSON.parse(t);let h="object"==typeof l&&l.activeTargetIds instanceof Array,m=Ql();for(let w=0;h&&w<l.activeTargetIds.length;++w)h=ud(l.activeTargetIds[w]),m=m.add(l.activeTargetIds[w]);return h?new Id(e,m):(Js("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fp{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fp(t.clientId,t.onlineState):(Js("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Up{constructor(){this.activeTargetIds=Ql()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hy{constructor(e,t,l,h,m){this.window=e,this.ii=t,this.persistenceKey=l,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new as(Dr),this.started=!1,this.yr=[];const w=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=Bh(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Up),this.Tr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ye.Z)(function*(){const t=yield e.syncEngine.$i();for(const h of t){if(h===e.wr)continue;const m=e.getItem(Bh(e.persistenceKey,h));if(m){const w=Id.ar(h,m);w&&(e.gr=e.gr.insert(w.clientId,w))}}e.Pr();const l=e.storage.getItem(e.vr);if(l){const h=e.br(l);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((l,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,l){this.Dr(e,t,l),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(kp(this.persistenceKey,e));if(l){const h=jh.ar(e,l);h&&(t=h.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kp(this.persistenceKey,e))}updateQueryState(e,t,l){this.kr(e,t,l)}handleUserChange(e,t,l){t.forEach(h=>{this.Cr(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _n("SharedClientState","READ",e,t),t}setItem(e,t){_n("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_n("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(_n("SharedClientState","EVENT",l.key,l.newValue),l.key===this.pr)return void Js("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ye.Z)(function*(){if(t.started){if(null!==l.key)if(t.Tr.test(l.key)){if(null==l.newValue){const h=t.Or(l.key);return t.Fr(h,null)}{const h=t.Br(l.key,l.newValue);if(h)return t.Fr(h.clientId,h)}}else if(t.Er.test(l.key)){if(null!==l.newValue){const h=t.Lr(l.key,l.newValue);if(h)return t.qr(h)}}else if(t.Ar.test(l.key)){if(null!==l.newValue){const h=t.Ur(l.key,l.newValue);if(h)return t.Kr(h)}}else if(l.key===t.vr){if(null!==l.newValue){const h=t.br(l.newValue);if(h)return t.Vr(h)}}else if(l.key===t.Ir){const h=function(m){let w=Xs.ct;if(null!=m)try{const F=JSON.parse(m);wn("number"==typeof F),w=F}catch(F){Js("SharedClientState","Failed to read sequence number from WebStorage",F)}return w}(l.newValue);h!==Xs.ct&&t.sequenceNumberHandler(h)}else if(l.key===t.Rr){const h=t.Gr(l.newValue);yield Promise.all(h.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(l)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,l){const h=new Lp(this.currentUser,e,t,l),m=Kg(this.persistenceKey,this.currentUser,e);this.setItem(m,h.hr())}Cr(e){const t=Kg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,l){const h=kp(this.persistenceKey,e),m=new jh(e,t,l);this.setItem(h,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const l=this.Or(e);return Id.ar(l,t)}Lr(e,t){const l=this.Er.exec(e),h=Number(l[1]);return Lp.ar(new ns(void 0!==l[2]?l[2]:null),h,t)}Ur(e,t){const l=this.Ar.exec(e),h=Number(l[1]);return jh.ar(h,t)}br(e){return Fp.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);_n("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const l=t?this.gr.insert(e,t):this.gr.remove(e),h=this.Sr(this.gr),m=this.Sr(l),w=[],F=[];return m.forEach(J=>{h.has(J)||w.push(J)}),h.forEach(J=>{m.has(J)||F.push(J)}),this.syncEngine.Wr(w,F).then(()=>{this.gr=l})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ql();return e.forEach((l,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class fy{constructor(){this.Hr=new Up,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,l){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Up,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fE{Yr(e){}shutdown(){}}class km{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){_n("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){_n("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qg=null;function py(){return null===qg?qg=268435456+Math.round(2147483648*Math.random()):qg++,"0x"+qg.toString(16)}const Vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pE{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Aa="WebChannelConnection";class Bp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,l,h,m){const w=py(),F=this.To(e,t);_n("RestConnection",`Sending RPC '${e}' ${w}:`,F,l);const J={};return this.Eo(J,h,m),this.Ao(e,F,J,l).then(ce=>(_n("RestConnection",`Received RPC '${e}' ${w}: `,ce),ce),ce=>{throw za("RestConnection",`RPC '${e}' ${w} failed with error: `,ce,"url: ",F,"request:",l),ce})}vo(e,t,l,h,m,w){return this.Io(e,t,l,h,m)}Eo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),l&&l.headers.forEach((h,m)=>e[m]=h)}To(e,t){return`${this.mo}/v1/${t}:${Vp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,l,h){const m=py();return new Promise((w,F)=>{const J=new cr;J.setWithCredentials(!0),J.listenOnce(Ui.COMPLETE,()=>{try{switch(J.getLastErrorCode()){case ts.NO_ERROR:const Ie=J.getResponseJson();_n(Aa,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Ie)),w(Ie);break;case ts.TIMEOUT:_n(Aa,`RPC '${e}' ${m} timed out`),F(new an(kt.DEADLINE_EXCEEDED,"Request time out"));break;case ts.HTTP_ERROR:const Ze=J.getStatus();if(_n(Aa,`RPC '${e}' ${m} failed with status:`,Ze,"response text:",J.getResponseText()),Ze>0){let Ht=J.getResponseJson();Array.isArray(Ht)&&(Ht=Ht[0]);const rn=Ht?.error;if(rn&&rn.status&&rn.message){const Tn=function(Yn){const Xn=Yn.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(Xn)>=0?Xn:kt.UNKNOWN}(rn.status);F(new an(Tn,rn.message))}else F(new an(kt.UNKNOWN,"Server responded with status "+J.getStatus()))}else F(new an(kt.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{_n(Aa,`RPC '${e}' ${m} completed.`)}});const ce=JSON.stringify(h);_n(Aa,`RPC '${e}' ${m} sending request:`,h),J.send(t,"POST",ce,l,15)})}Ro(e,t,l){const h=py(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],w=Ur(),F=ei(),J={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ce=this.longPollingOptions.timeoutSeconds;void 0!==ce&&(J.longPollingTimeout=Math.round(1e3*ce)),this.useFetchStreams&&(J.xmlHttpFactory=new Pi({})),this.Eo(J.initMessageHeaders,t,l),J.encodeInitMessageHeaders=!0;const Ie=m.join("");_n(Aa,`Creating RPC '${e}' stream ${h}: ${Ie}`,J);const Ze=w.createWebChannel(Ie,J);let Ht=!1,rn=!1;const Tn=new pE({ro:Xn=>{rn?_n(Aa,`Not sending because RPC '${e}' stream ${h} is closed:`,Xn):(Ht||(_n(Aa,`Opening RPC '${e}' stream ${h} transport.`),Ze.open(),Ht=!0),_n(Aa,`RPC '${e}' stream ${h} sending:`,Xn),Ze.send(Xn))},oo:()=>Ze.close()}),Yn=(Xn,gi,cs)=>{Xn.listen(gi,_i=>{try{cs(_i)}catch(sa){setTimeout(()=>{throw sa},0)}})};return Yn(Ze,Hs.EventType.OPEN,()=>{rn||_n(Aa,`RPC '${e}' stream ${h} transport opened.`)}),Yn(Ze,Hs.EventType.CLOSE,()=>{rn||(rn=!0,_n(Aa,`RPC '${e}' stream ${h} transport closed`),Tn.wo())}),Yn(Ze,Hs.EventType.ERROR,Xn=>{rn||(rn=!0,za(Aa,`RPC '${e}' stream ${h} transport errored:`,Xn),Tn.wo(new an(kt.UNAVAILABLE,"The operation could not be completed")))}),Yn(Ze,Hs.EventType.MESSAGE,Xn=>{var gi;if(!rn){const cs=Xn.data[0];wn(!!cs);const sa=cs.error||(null===(gi=cs[0])||void 0===gi?void 0:gi.error);if(sa){_n(Aa,`RPC '${e}' stream ${h} received error:`,sa);const vo=sa.status;let oo=function(ap){const K0=me[ap];if(void 0!==K0)return cn(K0)}(vo),Ma=sa.message;void 0===oo&&(oo=kt.INTERNAL,Ma="Unknown error status: "+vo+" with message "+sa.message),rn=!0,Tn.wo(new an(oo,Ma)),Ze.close()}else _n(Aa,`RPC '${e}' stream ${h} received:`,cs),Tn._o(cs)}}),Yn(F,Ys.STAT_EVENT,Xn=>{Xn.stat===ss.PROXY?_n(Aa,`RPC '${e}' stream ${h} detected buffering proxy`):Xn.stat===ss.NOPROXY&&_n(Aa,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Tn.fo()},0),Tn}}function my(){return typeof window<"u"?window:null}function jp(){return typeof document<"u"?document:null}function Lm(s){return new bm(s,!0)}class Zg{constructor(e,t,l=1e3,h=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=l,this.bo=h,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),h=Math.max(0,t-l);h>0&&_n("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class gy{constructor(e,t,l,h,m,w,F,J){this.ii=e,this.$o=l,this.Oo=h,this.connection=m,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=F,this.listener=J,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Zg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var l=this;return(0,Ye.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():t&&t.code===kt.RESOURCE_EXHAUSTED?(Js(t.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):t&&t.code===kt.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Fo===t&&this.Zo(l,h)},l=>{e(()=>{const h=new an(kt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(h)})})}Zo(e,t){const l=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{l(()=>this.tu(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,Ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return _n("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(_n("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _y extends gy{constructor(e,t,l,h,m,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,h,w),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function G_(s,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:pt(),h=e.targetChange.targetIds||[],m=function(J,ce){return J.useProto3Json?(wn(void 0===ce||"string"==typeof ce),Ws.fromBase64String(ce||"")):(wn(void 0===ce||ce instanceof Uint8Array),Ws.fromUint8Array(ce||new Uint8Array))}(s,e.targetChange.resumeToken),w=e.targetChange.cause,F=w&&function(J){const ce=void 0===J.code?kt.UNKNOWN:cn(J.code);return new an(ce,J.message||"")}(w);t=new wu(l,h,m,F||null)}else if("documentChange"in e){const l=e.documentChange,h=gc(s,l.document.name),m=ha(l.document.updateTime),w=l.document.createTime?ha(l.document.createTime):gr.min(),F=new zr({mapValue:{fields:l.document.fields}}),J=Gi.newFoundDocument(h,m,w,F);t=new Oc(l.targetIds||[],l.removedTargetIds||[],J.key,J)}else if("documentDelete"in e){const l=e.documentDelete,h=gc(s,l.document),m=l.readTime?ha(l.readTime):gr.min(),w=Gi.newNoDocument(h,m);t=new Oc([],l.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const l=e.documentRemove,h=gc(s,l.document);t=new Oc([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return pt();{const l=e.filter,{count:h=0,unchangedNames:m}=l,w=new se(h,m);t=new Cf(l.targetId,w)}}var J;return t}(this.serializer,e),l=function(h){if(!("targetChange"in h))return gr.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?gr.min():m.readTime?ha(m.readTime):gr.min()}(e);return this.listener.nu(t,l)}su(e){const t={};t.database=Cm(this.serializer),t.addTarget=function(h,m){let w;const F=m.target;if(w=Fd(F)?{documents:Lv(h,F)}:{query:Fv(h,F)},w.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){w.resumeToken=wp(h,m.resumeToken);const J=Tm(h,m.expectedCount);null!==J&&(w.expectedCount=J)}else if(m.snapshotVersion.compareTo(gr.min())>0){w.readTime=zd(h,m.snapshotVersion.toTimestamp());const J=Tm(h,m.expectedCount);null!==J&&(w.expectedCount=J)}return w}(this.serializer,e);const l=function z_(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Wo(t)}iu(e){const t={};t.database=Cm(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fm extends gy{constructor(e,t,l,h,m,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,h,w),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function iE(s,e){return s&&s.length>0?(wn(void 0!==e),s.map(t=>function(l,h){let m=ha(l.updateTime?l.updateTime:h);return m.isEqual(gr.min())&&(m=ha(h)),new Ig(m,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=ha(e.commitTime);return this.listener.cu(l,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>bp(this.serializer,l))};this.Wo(t)}}class Yg extends class{}{constructor(e,t,l,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new an(kt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Io(e,t,l,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new an(kt.UNKNOWN,h.toString())})}vo(e,t,l,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,w])=>this.connection.vo(e,t,l,m,w,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new an(kt.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class Cs{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Js(t),this.mu=!1):_n("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Wi{constructor(e,t,l,h,m){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(F=>{l.enqueueAndForget((0,Ye.Z)(function*(){var J;Cu(w)&&(_n("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,Ye.Z)(function*(ce){const Ie=Ln(ce);Ie.vu.add(4),yield Hh(Ie),Ie.bu.set("Unknown"),Ie.vu.delete(4),yield Tu(Ie)}),function(ce){return J.apply(this,arguments)})(w))}))}),this.bu=new Cs(l,h)}}function Tu(s){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,Ye.Z)(function*(s){if(Cu(s))for(const e of s.Ru)yield e(!0)}),Ks.apply(this,arguments)}function Hh(s){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,Ye.Z)(function*(s){for(const e of s.Ru)yield e(!1)}),Qg.apply(this,arguments)}function $h(s,e){const t=Ln(s);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),nu(t)?Dl(t):Xd(t).Ko()&&Ho(t,e))}function Hp(s,e){const t=Ln(s),l=Xd(t);t.Au.delete(e),l.Ko()&&Li(t,e),0===t.Au.size&&(l.Ko()?l.jo():Cu(t)&&t.bu.set("Unknown"))}function Ho(s,e){if(s.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gr.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xd(s).su(e)}function Li(s,e){s.Vu.qt(e),Xd(s).iu(e)}function Dl(s){s.Vu=new U_({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),le:e=>s.Au.get(e)||null,ue:()=>s.datastore.serializer.databaseId}),Xd(s).start(),s.bu.gu()}function nu(s){return Cu(s)&&!Xd(s).Uo()&&s.Au.size>0}function Cu(s){return 0===Ln(s).vu.size}function ru(s){s.Vu=void 0}function iI(s){return yy.apply(this,arguments)}function yy(){return yy=(0,Ye.Z)(function*(s){s.Au.forEach((e,t)=>{Ho(s,e)})}),yy.apply(this,arguments)}function vy(s,e){return iu.apply(this,arguments)}function iu(){return iu=(0,Ye.Z)(function*(s,e){ru(s),nu(s)?(s.bu.Iu(e),Dl(s)):s.bu.set("Unknown")}),iu.apply(this,arguments)}function Gh(s,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,Ye.Z)(function*(s,e,t){if(s.bu.set("Online"),e instanceof wu&&2===e.state&&e.cause)try{yield(l=(0,Ye.Z)(function*(h,m){const w=m.cause;for(const F of m.targetIds)h.Au.has(F)&&(yield h.remoteSyncer.rejectListen(F,w),h.Au.delete(F),h.Vu.removeTarget(F))}),function(h,m){return l.apply(this,arguments)})(s,e)}catch(l){_n("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Vf(s,l)}else if(e instanceof Oc?s.Vu.Ht(e):e instanceof Cf?s.Vu.ne(e):s.Vu.Xt(e),!t.isEqual(gr.min()))try{const l=yield Ff(s.localStore);t.compareTo(l)>=0&&(yield function(h,m){const w=h.Vu.ce(m);return w.targetChanges.forEach((F,J)=>{if(F.resumeToken.approximateByteSize()>0){const ce=h.Au.get(J);ce&&h.Au.set(J,ce.withResumeToken(F.resumeToken,m))}}),w.targetMismatches.forEach((F,J)=>{const ce=h.Au.get(F);if(!ce)return;h.Au.set(F,ce.withResumeToken(Ws.EMPTY_BYTE_STRING,ce.snapshotVersion)),Li(h,F);const Ie=new Wd(ce.target,F,J,ce.sequenceNumber);Ho(h,Ie)}),h.remoteSyncer.applyRemoteEvent(w)}(s,t))}catch(l){_n("RemoteStore","Failed to raise snapshot:",l),yield Vf(s,l)}var l}),Um.apply(this,arguments)}function Vf(s,e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,Ye.Z)(function*(s,e,t){if(!Do(e))throw e;s.vu.add(1),yield Hh(s),s.bu.set("Offline"),t||(t=()=>Ff(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ye.Z)(function*(){_n("RemoteStore","Retrying IndexedDB access"),yield t(),s.vu.delete(1),yield Tu(s)}))}),Ya.apply(this,arguments)}function Ey(s,e){return e().catch(t=>Vf(s,t,e))}function zh(s){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,Ye.Z)(function*(s){const e=Ln(s),t=ou(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gE(e);)try{const h=yield Nm(e.localStore,l);if(null===h){0===e.Eu.length&&t.jo();break}l=h.batchId,Jg(e,h)}catch(h){yield Vf(e,h)}Jd(e)&&Bi(e)}),Iy.apply(this,arguments)}function gE(s){return Cu(s)&&s.Eu.length<10}function Jg(s,e){s.Eu.push(e);const t=ou(s);t.Ko()&&t.ou&&t.uu(e.mutations)}function Jd(s){return Cu(s)&&!ou(s).Uo()&&s.Eu.length>0}function Bi(s){ou(s).start()}function Xg(s){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Ye.Z)(function*(s){ou(s).hu()}),Bf.apply(this,arguments)}function wy(s){return su.apply(this,arguments)}function su(){return su=(0,Ye.Z)(function*(s){const e=ou(s);for(const t of s.Eu)e.uu(t.mutations)}),su.apply(this,arguments)}function e_(s,e,t){return xc.apply(this,arguments)}function xc(){return xc=(0,Ye.Z)(function*(s,e,t){const l=s.Eu.shift(),h=_.from(l,e,t);yield Ey(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield zh(s)}),xc.apply(this,arguments)}function $p(s,e){return na.apply(this,arguments)}function na(){return na=(0,Ye.Z)(function*(s,e){var t;e&&ou(s).ou&&(yield(t=(0,Ye.Z)(function*(l,h){if(Vt(m=h.code)&&m!==kt.ABORTED){const w=l.Eu.shift();ou(l).Qo(),yield Ey(l,()=>l.remoteSyncer.rejectFailedWrite(w.batchId,h)),yield zh(l)}var m}),function(l,h){return t.apply(this,arguments)})(s,e)),Jd(s)&&Bi(s)}),na.apply(this,arguments)}function jf(s,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,Ye.Z)(function*(s,e){const t=Ln(s);t.asyncQueue.verifyOperationInProgress(),_n("RemoteStore","RemoteStore received new credentials");const l=Cu(t);t.vu.add(3),yield Hh(t),l&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Tu(t)}),Vm.apply(this,arguments)}function Bm(s,e){return t_.apply(this,arguments)}function t_(){return t_=(0,Ye.Z)(function*(s,e){const t=Ln(s);e?(t.vu.delete(2),yield Tu(t)):e||(t.vu.add(2),yield Hh(t),t.bu.set("Unknown"))}),t_.apply(this,arguments)}function Xd(s){return s.Su||(s.Su=function(e,t,l){const h=Ln(e);return h.fu(),new _y(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:iI.bind(null,s),ao:vy.bind(null,s),nu:Gh.bind(null,s)}),s.Ru.push(function(){var e=(0,Ye.Z)(function*(t){t?(s.Su.Qo(),nu(s)?Dl(s):s.bu.set("Unknown")):(yield s.Su.stop(),ru(s))});return function(t){return e.apply(this,arguments)}}())),s.Su}function ou(s){return s.Du||(s.Du=function(e,t,l){const h=Ln(e);return h.fu(),new Fm(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Xg.bind(null,s),ao:$p.bind(null,s),au:wy.bind(null,s),cu:e_.bind(null,s)}),s.Ru.push(function(){var e=(0,Ye.Z)(function*(t){t?(s.Du.Qo(),yield zh(s)):(yield s.Du.stop(),s.Eu.length>0&&(_n("RemoteStore",`Stopping write stream with ${s.Eu.length} pending writes`),s.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Du}class jm{constructor(e,t,l,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=h,this.removalCallback=m,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,l,h,m){const w=Date.now()+l,F=new jm(e,t,w,h,m);return F.start(l),F}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new an(kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(s,e){if(Js("AsyncQueue",`${e}: ${s}`),Do(s))return new an(kt.UNAVAILABLE,`${e}: ${s}`);throw s}class eh{constructor(e){this.comparator=e?(t,l)=>e(t,l)||xn.comparator(t.key,l.key):(t,l)=>xn.comparator(t.key,l.key),this.keyedMap=Fl(),this.sortedSet=new as(this.comparator)}static emptySet(e){return new eh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new eh;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class Wh{constructor(){this.Cu=new as(xn.comparator)}track(e){const t=e.doc.key,l=this.Cu.get(t);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(t):1===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,l)=>{e.push(l)}),e}}class th{constructor(e,t,l,h,m,w,F,J,ce){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=m,this.fromCache=w,this.syncStateChanged=F,this.excludesMetadataChanges=J,this.hasCachedResults=ce}static fromInitialDocuments(e,t,l,h,m){const w=[];return t.forEach(F=>{w.push({type:0,doc:F})}),new th(e,t,eh.emptySet(t),w,l,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==l[h].type||!t[h].doc.isEqual(l[h].doc))return!1;return!0}}class Xv{constructor(){this.Nu=void 0,this.listeners=[]}}class e0{constructor(){this.queries=new hl(e=>pn(e),zt),this.onlineState="Unknown",this.ku=new Set}}function _o(s,e){return by.apply(this,arguments)}function by(){return by=(0,Ye.Z)(function*(s,e){const t=Ln(s),l=e.query;let h=!1,m=t.queries.get(l);if(m||(h=!0,m=new Xv),h)try{m.Nu=yield t.onListen(l)}catch(w){const F=wd(w,`Initialization of query '${$n(e.query)}' failed`);return void e.onError(F)}t.queries.set(l,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&Qu(t)}),by.apply(this,arguments)}function Ty(s,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Ye.Z)(function*(s,e){const t=Ln(s),l=e.query;let h=!1;const m=t.queries.get(l);if(m){const w=m.listeners.indexOf(e);w>=0&&(m.listeners.splice(w,1),h=0===m.listeners.length)}if(h)return t.queries.delete(l),t.onUnlisten(l)}),Gp.apply(this,arguments)}function n_(s,e){const t=Ln(s);let l=!1;for(const h of e){const w=t.queries.get(h.query);if(w){for(const F of w.listeners)F.$u(h)&&(l=!0);w.Nu=h}}l&&Qu(t)}function Hm(s,e,t){const l=Ln(s),h=l.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);l.queries.delete(e)}function Qu(s){s.ku.forEach(e=>{e.next()})}class zp{constructor(e,t,l){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new th(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ni{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Cy{constructor(e){this.serializer=e}rr(e){return gc(this.serializer,e)}ur(e){return e.metadata.exists?Dg(this.serializer,e.document,!1):Gi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ha(e)}}class Wp{constructor(e,t,l){this.ju=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_E(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const l=Ci.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,l=new Cy(this.serializer);for(const h of e)if(h.metadata.queries){const m=l.rr(h.metadata.name);for(const w of h.metadata.queries){const F=(t.get(w)||ni()).add(m);t.set(w,F)}}return t}complete(){var e=this;return(0,Ye.Z)(function*(){const t=yield function zg(s,e,t,l){return Wg.apply(this,arguments)}(e.localStore,new Cy(e.serializer),e.documents,e.ju.id),l=e.Wu(e.documents);for(const h of e.queries)yield hE(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function _E(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class $o{constructor(e){this.key=e}}class Hf{constructor(e){this.key=e}}class Dy{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ni(),this.mutatedKeys=ni(),this.tc=Ll(e),this.ec=new eh(this.tc)}get nc(){return this.Yu}sc(e,t){const l=t?t.ic:new Wh,h=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,w=h,F=!1;const J="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ce="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Ie,Ze)=>{const Ht=h.get(Ie),rn=wr(this.query,Ze)?Ze:null,Tn=!!Ht&&this.mutatedKeys.has(Ht.key),Yn=!!rn&&(rn.hasLocalMutations||this.mutatedKeys.has(rn.key)&&rn.hasCommittedMutations);let Xn=!1;Ht&&rn?Ht.data.isEqual(rn.data)?Tn!==Yn&&(l.track({type:3,doc:rn}),Xn=!0):this.rc(Ht,rn)||(l.track({type:2,doc:rn}),Xn=!0,(J&&this.tc(rn,J)>0||ce&&this.tc(rn,ce)<0)&&(F=!0)):!Ht&&rn?(l.track({type:0,doc:rn}),Xn=!0):Ht&&!rn&&(l.track({type:1,doc:Ht}),Xn=!0,(J||ce)&&(F=!0)),Xn&&(rn?(w=w.add(rn),m=Yn?m.add(Ie):m.delete(Ie)):(w=w.delete(Ie),m=m.delete(Ie)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const Ie="F"===this.query.limitType?w.last():w.first();w=w.delete(Ie.key),m=m.delete(Ie.key),l.track({type:1,doc:Ie})}return{ec:w,ic:l,zi:F,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((ce,Ie)=>function(Ze,Ht){const rn=Tn=>{switch(Tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return rn(Ze)-rn(Ht)}(ce.type,Ie.type)||this.tc(ce.doc,Ie.doc)),this.oc(l);const w=t?this.uc():[],F=0===this.Zu.size&&this.current?1:0,J=F!==this.Xu;return this.Xu=F,0!==m.length||J?{snapshot:new th(this.query,e.ec,h,m,e.mutatedKeys,0===F,J,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:w}:{cc:w}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Wh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ni(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const t=[];return e.forEach(l=>{this.Zu.has(l)||t.push(new Hf(l))}),this.Zu.forEach(l=>{e.has(l)||t.push(new $o(l))}),t}hc(e){this.Yu=e.ir,this.Zu=ni();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return th.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class r_{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class Sy{constructor(e){this.key=e,this.fc=!1}}class ri{constructor(e,t,l,h,m,w){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=w,this.dc={},this.wc=new hl(F=>pn(F),zt),this._c=new Map,this.mc=new Set,this.gc=new as(xn.comparator),this.yc=new Map,this.Ic=new kh,this.Tc={},this.Ec=new Map,this.Ac=Tl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Kp(s,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,Ye.Z)(function*(s,e){const t=sh(s);let l,h;const m=t.wc.get(e);if(m)l=m.targetId,t.sharedClientState.addLocalQueryTarget(l),h=m.view.lc();else{const w=yield Np(t.localStore,he(e)),F=t.sharedClientState.addLocalQueryTarget(w.targetId);l=w.targetId,h=yield qh(t,e,l,"current"===F,w.resumeToken),t.isPrimaryClient&&$h(t.remoteStore,w)}return h}),Kh.apply(this,arguments)}function qh(s,e,t,l,h){return qp.apply(this,arguments)}function qp(){return qp=(0,Ye.Z)(function*(s,e,t,l,h){s.Rc=(Ze,Ht,rn)=>{return(Tn=(0,Ye.Z)(function*(Yn,Xn,gi,cs){let _i=Xn.view.sc(gi);_i.zi&&(_i=yield Gg(Yn.localStore,Xn.query,!1).then(({documents:oo})=>Xn.view.sc(oo,_i)));const sa=cs&&cs.targetChanges.get(Xn.targetId),vo=Xn.view.applyChanges(_i,Yn.isPrimaryClient,sa);return c_(Yn,Xn.targetId,vo.cc),vo.snapshot}),function(Yn,Xn,gi,cs){return Tn.apply(this,arguments)})(s,Ze,Ht,rn);var Tn};const m=yield Gg(s.localStore,e,!0),w=new Dy(e,m.ir),F=w.sc(m.documents),J=Gd.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==s.onlineState,h),ce=w.applyChanges(F,s.isPrimaryClient,J);c_(s,t,ce.cc);const Ie=new r_(e,t,w);return s.wc.set(e,Ie),s._c.has(t)?s._c.get(t).push(e):s._c.set(t,[e]),ce.snapshot}),qp.apply(this,arguments)}function $m(s,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ye.Z)(function*(s,e){const t=Ln(s),l=t.wc.get(e),h=t._c.get(l.targetId);if(h.length>1)return t._c.set(l.targetId,h.filter(m=>!zt(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Vh(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),Hp(t.remoteStore,l.targetId),Qh(t,l.targetId)}).catch(or))):(Qh(t,l.targetId),yield Vh(t.localStore,l.targetId,!0))}),Zp.apply(this,arguments)}function Gm(){return Gm=(0,Ye.Z)(function*(s,e,t){const l=em(s);try{const h=yield function(m,w){const F=Ln(m),J=gs.now(),ce=w.reduce((Ht,rn)=>Ht.add(rn.key),ni());let Ie,Ze;return F.persistence.runTransaction("Locally write mutations","readwrite",Ht=>{let rn=La(),Tn=ni();return F.Zi.getEntries(Ht,ce).next(Yn=>{rn=Yn,rn.forEach((Xn,gi)=>{gi.isValidDocument()||(Tn=Tn.add(Xn))})}).next(()=>F.localDocuments.getOverlayedDocuments(Ht,rn)).next(Yn=>{Ie=Yn;const Xn=[];for(const gi of w){const cs=Jc(gi,Ie.get(gi.key).overlayedDocument);null!=cs&&Xn.push(new Jl(gi.key,cs,uc(cs.value.mapValue),ls.exists(!0)))}return F.mutationQueue.addMutationBatch(Ht,J,Xn,w)}).next(Yn=>{Ze=Yn;const Xn=Yn.applyToLocalDocumentSet(Ie,Tn);return F.documentOverlayCache.saveOverlays(Ht,Yn.batchId,Xn)})}).then(()=>({batchId:Ze.batchId,changes:fc(Ie)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(m,w,F){let J=m.Tc[m.currentUser.toKey()];J||(J=new as(Dr)),J=J.insert(w,F),m.Tc[m.currentUser.toKey()]=J}(l,h.batchId,t),yield rh(l,h.changes),yield zh(l.remoteStore)}catch(h){const m=wd(h,"Failed to persist write");t.reject(m)}}),Gm.apply(this,arguments)}function Yp(s,e){return i_.apply(this,arguments)}function i_(){return i_=(0,Ye.Z)(function*(s,e){const t=Ln(s);try{const l=yield function ly(s,e){const t=Ln(s),l=e.snapshotVersion;let h=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const w=t.Zi.newChangeBuffer({trackRemovals:!0});h=t.Ji;const F=[];e.targetChanges.forEach((Ie,Ze)=>{const Ht=h.get(Ze);if(!Ht)return;F.push(t.Bs.removeMatchingKeys(m,Ie.removedDocuments,Ze).next(()=>t.Bs.addMatchingKeys(m,Ie.addedDocuments,Ze)));let rn=Ht.withSequenceNumber(m.currentSequenceNumber);var Tn,Yn,Xn;null!==e.targetMismatches.get(Ze)?rn=rn.withResumeToken(Ws.EMPTY_BYTE_STRING,gr.min()).withLastLimboFreeSnapshotVersion(gr.min()):Ie.resumeToken.approximateByteSize()>0&&(rn=rn.withResumeToken(Ie.resumeToken,l)),h=h.insert(Ze,rn),Yn=rn,Xn=Ie,(0===(Tn=Ht).resumeToken.approximateByteSize()||Yn.snapshotVersion.toMicroseconds()-Tn.snapshotVersion.toMicroseconds()>=3e8||Xn.addedDocuments.size+Xn.modifiedDocuments.size+Xn.removedDocuments.size>0)&&F.push(t.Bs.updateTargetData(m,rn))});let J=La(),ce=ni();if(e.documentUpdates.forEach(Ie=>{e.resolvedLimboDocuments.has(Ie)&&F.push(t.persistence.referenceDelegate.updateLimboDocument(m,Ie))}),F.push(xm(m,w,e.documentUpdates).next(Ie=>{J=Ie.nr,ce=Ie.sr})),!l.isEqual(gr.min())){const Ie=t.Bs.getLastRemoteSnapshotVersion(m).next(Ze=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,l));F.push(Ie)}return Ct.waitFor(F).next(()=>w.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,J,ce)).next(()=>J)}).then(m=>(t.Ji=h,m))}(t.localStore,e);e.targetChanges.forEach((h,m)=>{const w=t.yc.get(m);w&&(wn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?w.fc=!0:h.modifiedDocuments.size>0?wn(w.fc):h.removedDocuments.size>0&&(wn(w.fc),w.fc=!1))}),yield rh(t,l,e)}catch(l){yield or(l)}}),i_.apply(this,arguments)}function Qp(s,e,t){const l=Ln(s);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const h=[];l.wc.forEach((m,w)=>{const F=w.view.Mu(e);F.snapshot&&h.push(F.snapshot)}),function(m,w){const F=Ln(m);F.onlineState=w;let J=!1;F.queries.forEach((ce,Ie)=>{for(const Ze of Ie.listeners)Ze.Mu(w)&&(J=!0)}),J&&Qu(F)}(l.eventManager,e),h.length&&l.dc.nu(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Ay(s,e,t){return $f.apply(this,arguments)}function $f(){return $f=(0,Ye.Z)(function*(s,e,t){const l=Ln(s);l.sharedClientState.updateQueryState(e,"rejected",t);const h=l.yc.get(e),m=h&&h.key;if(m){let w=new as(xn.comparator);w=w.insert(m,Gi.newNoDocument(m,gr.min()));const F=ni().add(m),J=new yd(gr.min(),new Map,new as(Dr),w,F);yield Yp(l,J),l.gc=l.gc.remove(m),l.yc.delete(e),u_(l)}else yield Vh(l.localStore,e,!1).then(()=>Qh(l,e,t)).catch(or)}),$f.apply(this,arguments)}function t0(s,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,Ye.Z)(function*(s,e){const t=Ln(s),l=e.batch.batchId;try{const h=yield function $g(s,e){const t=Ln(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(w,F,J,ce){const Ie=J.batch,Ze=Ie.keys();let Ht=Ct.resolve();return Ze.forEach(rn=>{Ht=Ht.next(()=>ce.getEntry(F,rn)).next(Tn=>{const Yn=J.docVersions.get(rn);wn(null!==Yn),Tn.version.compareTo(Yn)<0&&(Ie.applyToRemoteDocument(Tn,J),Tn.isValidDocument()&&(Tn.setReadTime(J.commitVersion),ce.addEntry(Tn)))})}),Ht.next(()=>w.mutationQueue.removeMutationBatch(F,Ie))}(t,l,e,m).next(()=>m.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(w){let F=ni();for(let J=0;J<w.mutationResults.length;++J)w.mutationResults[J].transformResults.length>0&&(F=F.add(w.batch.mutations[J].key));return F}(e))).next(()=>t.localDocuments.getDocuments(l,h))})}(t.localStore,e);Yh(t,l,null),Jp(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield rh(t,h)}catch(h){yield or(h)}}),Zh.apply(this,arguments)}function n0(s,e,t){return s_.apply(this,arguments)}function s_(){return s_=(0,Ye.Z)(function*(s,e,t){const l=Ln(s);try{const h=yield function(m,w){const F=Ln(m);return F.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let ce;return F.mutationQueue.lookupMutationBatch(J,w).next(Ie=>(wn(null!==Ie),ce=Ie.keys(),F.mutationQueue.removeMutationBatch(J,Ie))).next(()=>F.mutationQueue.performConsistencyCheck(J)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(J,ce,w)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(J,ce)).next(()=>F.localDocuments.getDocuments(J,ce))})}(l.localStore,e);Yh(l,e,t),Jp(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield rh(l,h)}catch(h){yield or(h)}}),s_.apply(this,arguments)}function a_(){return a_=(0,Ye.Z)(function*(s,e){const t=Ln(s);Cu(t.remoteStore)||_n("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(m){const w=Ln(m);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>w.mutationQueue.getHighestUnacknowledgedBatchId(F))}(t.localStore);if(-1===l)return void e.resolve();const h=t.Ec.get(l)||[];h.push(e),t.Ec.set(l,h)}catch(l){const h=wd(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),a_.apply(this,arguments)}function Jp(s,e){(s.Ec.get(e)||[]).forEach(t=>{t.resolve()}),s.Ec.delete(e)}function Yh(s,e,t){const l=Ln(s);let h=l.Tc[l.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),l.Tc[l.currentUser.toKey()]=h}}function Qh(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s._c.get(e))s.wc.delete(l),t&&s.dc.Pc(l,t);s._c.delete(e),s.isPrimaryClient&&s.Ic.Is(e).forEach(l=>{s.Ic.containsKey(l)||l_(s,l)})}function l_(s,e){s.mc.delete(e.path.canonicalString());const t=s.gc.get(e);null!==t&&(Hp(s.remoteStore,t),s.gc=s.gc.remove(e),s.yc.delete(t),u_(s))}function c_(s,e,t){for(const l of t)l instanceof $o?(s.Ic.addReference(l.key,e),r0(s,l)):l instanceof Hf?(_n("SyncEngine","Document no longer in limbo: "+l.key),s.Ic.removeReference(l.key,e),s.Ic.containsKey(l.key)||l_(s,l.key)):pt()}function r0(s,e){const t=e.key,l=t.path.canonicalString();s.gc.get(t)||s.mc.has(l)||(_n("SyncEngine","New document in limbo: "+t),s.mc.add(l),u_(s))}function u_(s){for(;s.mc.size>0&&s.gc.size<s.maxConcurrentLimboResolutions;){const e=s.mc.values().next().value;s.mc.delete(e);const t=new xn(Ci.fromString(e)),l=s.Ac.next();s.yc.set(l,new Sy(t)),s.gc=s.gc.insert(t,l),$h(s.remoteStore,new Wd(he(Pc(t.path)),l,"TargetPurposeLimboResolution",Xs.ct))}}function rh(s,e,t){return _c.apply(this,arguments)}function _c(){return _c=(0,Ye.Z)(function*(s,e,t){const l=Ln(s),h=[],m=[],w=[];var F;l.wc.isEmpty()||(l.wc.forEach((F,J)=>{w.push(l.Rc(J,e,t).then(ce=>{if((ce||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(J.targetId,ce?.fromCache?"not-current":"current"),ce){h.push(ce);const Ie=Lf.Li(J.targetId,ce);m.push(Ie)}}))}),yield Promise.all(w),l.dc.nu(h),yield(F=(0,Ye.Z)(function*(J,ce){const Ie=Ln(J);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>Ct.forEach(ce,Ht=>Ct.forEach(Ht.Fi,rn=>Ie.persistence.referenceDelegate.addReference(Ze,Ht.targetId,rn)).next(()=>Ct.forEach(Ht.Bi,rn=>Ie.persistence.referenceDelegate.removeReference(Ze,Ht.targetId,rn)))))}catch(Ze){if(!Do(Ze))throw Ze;_n("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of ce){const Ht=Ze.targetId;if(!Ze.fromCache){const rn=Ie.Ji.get(Ht),Yn=rn.withLastLimboFreeSnapshotVersion(rn.snapshotVersion);Ie.Ji=Ie.Ji.insert(Ht,Yn)}}}),function(J,ce){return F.apply(this,arguments)})(l.localStore,m))}),_c.apply(this,arguments)}function yE(s,e){return Du.apply(this,arguments)}function Du(){return Du=(0,Ye.Z)(function*(s,e){const t=Ln(s);if(!t.currentUser.isEqual(e)){_n("SyncEngine","User change. New user:",e.toKey());const l=yield Hg(t.localStore,e);t.currentUser=e,(h=t).Ec.forEach(w=>{w.forEach(F=>{F.reject(new an(kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield rh(t,l.er)}var h}),Du.apply(this,arguments)}function s0(s,e){const t=Ln(s),l=t.yc.get(e);if(l&&l.fc)return ni().add(l.key);{let h=ni();const m=t._c.get(e);if(!m)return h;for(const w of m){const F=t.wc.get(w);h=h.unionWith(F.view.nc)}return h}}function zm(s,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Ye.Z)(function*(s,e){const t=Ln(s),l=yield Gg(t.localStore,e.query,!0),h=e.view.hc(l);return t.isPrimaryClient&&c_(t,e.targetId,h.cc),h}),Xp.apply(this,arguments)}function d_(s,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Ye.Z)(function*(s,e){const t=Ln(s);return Jv(t.localStore,e).then(l=>rh(t,l))}),Gf.apply(this,arguments)}function zf(s,e,t,l){return ih.apply(this,arguments)}function ih(){return ih=(0,Ye.Z)(function*(s,e,t,l){const h=Ln(s),m=yield function(w,F){const J=Ln(w),ce=Ln(J.mutationQueue);return J.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ce.Sn(Ie,F).next(Ze=>Ze?J.localDocuments.getDocuments(Ie,Ze):Ct.resolve(null)))}(h.localStore,e);var F;null!==m?("pending"===t?yield zh(h.remoteStore):"acknowledged"===t||"rejected"===t?(Yh(h,e,l||null),Jp(h,e),F=e,Ln(Ln(h.localStore).mutationQueue).Cn(F)):pt(),yield rh(h,m)):_n("SyncEngine","Cannot apply mutation batch with id: "+e)}),ih.apply(this,arguments)}function Ry(){return Ry=(0,Ye.Z)(function*(s,e){const t=Ln(s);if(sh(t),em(t),!0===e&&!0!==t.vc){const l=t.sharedClientState.getAllActiveQueryTargets(),h=yield h_(t,l.toArray());t.vc=!0,yield Bm(t.remoteStore,!0);for(const m of h)$h(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const l=[];let h=Promise.resolve();t._c.forEach((m,w)=>{t.sharedClientState.isLocalQueryTarget(w)?l.push(w):h=h.then(()=>(Qh(t,w),Vh(t.localStore,w,!0))),Hp(t.remoteStore,w)}),yield h,yield h_(t,l),function(m){const w=Ln(m);w.yc.forEach((F,J)=>{Hp(w.remoteStore,J)}),w.Ic.Ts(),w.yc=new Map,w.gc=new as(xn.comparator)}(t),t.vc=!1,yield Bm(t.remoteStore,!1)}}),Ry.apply(this,arguments)}function h_(s,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,Ye.Z)(function*(s,e,t){const l=Ln(s),h=[],m=[];for(const w of e){let F;const J=l._c.get(w);if(J&&0!==J.length){F=yield Np(l.localStore,he(J[0]));for(const ce of J){const Ie=l.wc.get(ce),Ze=yield zm(l,Ie);Ze.snapshot&&m.push(Ze.snapshot)}}else{const ce=yield cy(l.localStore,w);F=yield Np(l.localStore,ce),yield qh(l,o0(ce),w,!1,F.resumeToken)}h.push(F)}return l.dc.nu(m),h}),Wf.apply(this,arguments)}function o0(s){return mp(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function vE(s){const e=Ln(s);return Ln(Ln(e.localStore).persistence).$i()}function f_(s,e,t,l){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,Ye.Z)(function*(s,e,t,l){const h=Ln(s);if(h.vc)return void _n("SyncEngine","Ignoring unexpected query state notification.");const m=h._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const w=yield Jv(h.localStore,Vi(m[0])),F=yd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ws.EMPTY_BYTE_STRING);yield rh(h,w,F);break}case"rejected":yield Vh(h.localStore,e,!0),Qh(h,e,l);break;default:pt()}}),Kf.apply(this,arguments)}function Ju(s,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,Ye.Z)(function*(s,e,t){const l=sh(s);if(l.vc){for(const h of e){if(l._c.has(h)){_n("SyncEngine","Adding an already active target "+h);continue}const m=yield cy(l.localStore,h),w=yield Np(l.localStore,m);yield qh(l,o0(m),w.targetId,!1,w.resumeToken),$h(l.remoteStore,w)}for(const h of t)l._c.has(h)&&(yield Vh(l.localStore,h,!1).then(()=>{Hp(l.remoteStore,h),Qh(l,h)}).catch(or))}}),Xh.apply(this,arguments)}function sh(s){const e=Ln(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ay.bind(null,e),e.dc.nu=n_.bind(null,e.eventManager),e.dc.Pc=Hm.bind(null,e.eventManager),e}function em(s){const e=Ln(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n0.bind(null,e),e}class Ns{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ye.Z)(function*(){t.serializer=Lm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return jg(this.persistence,new xp,e.initialUser,this.serializer)}createPersistence(e){return new Lg(kf.zs,this.serializer)}createSharedClientState(e){return new fy}terminate(){var e=this;return(0,Ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bd extends Ns{constructor(e,t,l){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,Ye.Z)(function*(){yield t().call(l,e),yield l.Vc.initialize(l,e),yield em(l.Vc.syncEngine),yield zh(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jg(this.persistence,new xp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Ed(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new xl(t,this.persistence);return new xd(e.asyncQueue,l)}createPersistence(e){const t=ay(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?bl.withCacheSize(this.cacheSizeBytes):bl.DEFAULT;return new Vg(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,my(),jp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fy}}class tm extends bd{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,Ye.Z)(function*(){yield t().call(l,e);const h=l.Vc.syncEngine;l.sharedClientState instanceof hy&&(l.sharedClientState.syncEngine={jr:zf.bind(null,h),zr:f_.bind(null,h),Wr:Ju.bind(null,h),$i:vE.bind(null,h),Qr:d_.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ii(function(){var m=(0,Ye.Z)(function*(w){yield function Jh(s,e){return Ry.apply(this,arguments)}(l.Vc.syncEngine,w),l.gcScheduler&&(w&&!l.gcScheduler.started?l.gcScheduler.start():w||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(w&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():w||l.indexBackfillerScheduler.stop())});return function(w){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=my();if(!hy.D(t))throw new an(kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=ay(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hy(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class nm{initialize(e,t){var l=this;return(0,Ye.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>Qp(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=yE.bind(null,l.syncEngine),yield Bm(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new e0}createDatastore(e){const t=Lm(e.databaseInfo.databaseId),l=new Bp(e.databaseInfo);return new Yg(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,h=e.asyncQueue,m=F=>Qp(this.syncEngine,F,0),w=km.D()?new km:new fE,new Wi(t,l,h,m,w);var t,l,h,m,w}createSyncEngine(e,t){return function(l,h,m,w,F,J,ce){const Ie=new ri(l,h,m,w,F,J);return ce&&(Ie.vc=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ye.Z)(function*(t){const l=Ln(t);_n("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield Hh(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wm(s,e=10240){let t=0;return{read:()=>(0,Ye.Z)(function*(){if(t<s.byteLength){const l={value:s.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,Ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Xu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class My{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ci,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(l=>{l&&l.Qu()?this.metadata.resolve(l.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.Gu)}`))},l=>this.metadata.reject(l))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ye.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ye.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ye.Z)(function*(){const t=yield e.kc();if(null===t)return null;const l=e.xc.decode(t),h=Number(l);isNaN(h)&&e.Mc(`length string (${l}) is not valid number`);const m=yield e.$c(h);return new Ni(JSON.parse(m),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}$c(e){var t=this;return(0,Ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const l=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ye.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class oh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new an(kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,Ye.Z)(function*(m,w){const F=Ln(m),J=Cm(F.serializer)+"/documents",ce={documents:w.map(rn=>Sf(F.serializer,rn))},Ie=yield F.vo("BatchGetDocuments",J,ce,w.length),Ze=new Map;Ie.forEach(rn=>{const Tn=function $_(s,e){return"found"in e?function(t,l){wn(!!l.found);const h=gc(t,l.found.name),m=ha(l.found.updateTime),w=l.found.createTime?ha(l.found.createTime):gr.min(),F=new zr({mapValue:{fields:l.found.fields}});return Gi.newFoundDocument(h,m,w,F)}(s,e):"missing"in e?function(t,l){wn(!!l.missing),wn(!!l.readTime);const h=gc(t,l.missing),m=ha(l.readTime);return Gi.newNoDocument(h,m)}(s,e):pt()}(F.serializer,rn);Ze.set(Tn.key.toString(),Tn)});const Ht=[];return w.forEach(rn=>{const Tn=Ze.get(rn.toString());wn(!!Tn),Ht.push(Tn)}),Ht}),function(m,w){return h.apply(this,arguments)})(t.datastore,e);var h;return l.forEach(h=>t.recordVersion(h)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,h)=>{const m=xn.fromPath(h);e.mutations.push(new Tf(m,e.precondition(m)))}),yield(l=(0,Ye.Z)(function*(h,m){const w=Ln(h),F=Cm(w.serializer)+"/documents",J={writes:m.map(ce=>bp(w.serializer,ce))};yield w.Io("Commit",F,J)}),function(h,m){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=gr.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new an(kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gr.min())?ls.exists(!1):ls.updateTime(t):ls.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gr.min()))throw new an(kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ls.updateTime(t)}return ls.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Km{constructor(e,t,l,h,m){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=h,this.deferred=m,this.Bc=l.maxAttempts,this.qo=new Zg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ye.Z)(function*(){const t=new oh(e.datastore),l=e.qc(t);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Uc(m)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const t=this.updateFunction(e);return!po(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Vt(t)}return!1}}class Nc{constructor(e,t,l,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=h,this.user=ns.UNAUTHENTICATED,this.clientId=No.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var w=(0,Ye.Z)(function*(F){_n("FirestoreClient","Received user=",F.uid),yield m.authCredentialListener(F),m.user=F});return function(F){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(l,w=>(_n("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,Ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new an(kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const h=wd(l,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function qm(s,e){return rm.apply(this,arguments)}function rm(){return rm=(0,Ye.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),_n("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let l=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,Ye.Z)(function*(m){l.isEqual(m)||(yield Hg(e.localStore,m),l=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),rm.apply(this,arguments)}function Zm(s,e){return Py.apply(this,arguments)}function Py(){return Py=(0,Ye.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield xy(s);_n("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(t,l),s.setCredentialChangeListener(h=>jf(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>jf(e.remoteStore,m)),s._onlineComponents=e}),Py.apply(this,arguments)}function Oy(s){return"FirebaseError"===s.name?s.code===kt.FAILED_PRECONDITION||s.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function xy(s){return im.apply(this,arguments)}function im(){return im=(0,Ye.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){_n("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qm(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Oy(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),yield qm(s,new Ns)}}else _n("FirestoreClient","Using default OfflineComponentProvider"),yield qm(s,new Ns);return s._offlineComponents}),im.apply(this,arguments)}function ef(s){return p_.apply(this,arguments)}function p_(){return p_=(0,Ye.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(_n("FirestoreClient","Using user provided OnlineComponentProvider"),yield Zm(s,s._uninitializedComponentsProvider._online)):(_n("FirestoreClient","Using default OnlineComponentProvider"),yield Zm(s,new nm))),s._onlineComponents}),p_.apply(this,arguments)}function sm(s){return xy(s).then(e=>e.persistence)}function m_(s){return xy(s).then(e=>e.localStore)}function a0(s){return ef(s).then(e=>e.remoteStore)}function g_(s){return ef(s).then(e=>e.syncEngine)}function om(s){return ky.apply(this,arguments)}function ky(){return ky=(0,Ye.Z)(function*(s){const e=yield ef(s),t=e.eventManager;return t.onListen=Kp.bind(null,e.syncEngine),t.onUnlisten=$m.bind(null,e.syncEngine),t}),ky.apply(this,arguments)}function Ly(s,e,t={}){const l=new ci;return s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(h,m,w,F,J){const ce=new Xu({next:Ze=>{m.enqueueAndForget(()=>Ty(h,Ie));const Ht=Ze.docs.has(w);!Ht&&Ze.fromCache?J.reject(new an(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ht&&Ze.fromCache&&F&&"server"===F.source?J.reject(new an(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(Ze)},error:Ze=>J.reject(Ze)}),Ie=new zp(Pc(w.path),ce,{includeMetadataChanges:!0,Ku:!0});return _o(h,Ie)}(yield om(s),s.asyncQueue,e,t,l)})),l.promise}function Fy(s,e,t={}){const l=new ci;return s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(h,m,w,F,J){const ce=new Xu({next:Ze=>{m.enqueueAndForget(()=>Ty(h,Ie)),Ze.fromCache&&"server"===F.source?J.reject(new an(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(Ze)},error:Ze=>J.reject(Ze)}),Ie=new zp(w,ce,{includeMetadataChanges:!0,Ku:!0});return _o(h,Ie)}(yield om(s),s.asyncQueue,e,t,l)})),l.promise}function u0(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const Vy=new Map;function Jm(s,e,t){if(!t)throw new an(kt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function d0(s,e,t,l){if(!0===e&&!0===l)throw new an(kt.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function h0(s){if(!xn.isDocumentKey(s))throw new an(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function f0(s){if(xn.isDocumentKey(s))throw new an(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function __(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":pt()}function Yi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new an(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=__(s);throw new an(kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function Zf(s,e){if(e<=0)throw new an(kt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class y_{constructor(e){var t,l;if(void 0===e.host){if(void 0!==e.ssl)throw new an(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new an(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=u0(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new an(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new an(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new an(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,t,l,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new an(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new an(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Xo;switch(t.type){case"firstParty":return new hu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new an(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vy.get(e);t&&(_n("ComponentProvider","Removing Datastore"),Vy.delete(e),t.terminate())}(this),Promise.resolve()}}class ko{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Td(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ko(this.firestore,e,this._key)}}class fl{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class Td extends fl{constructor(e,t,l){super(e,t,Pc(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ko(this.firestore,null,new xn(e))}withConverter(e){return new Td(this.firestore,e,this._path)}}function m0(s,e,...t){if(s=(0,He.m9)(s),Jm("collection","path",e),s instanceof ah){const l=Ci.fromString(e,...t);return f0(l),new Td(s,null,l)}{if(!(s instanceof ko||s instanceof Td))throw new an(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(Ci.fromString(e,...t));return f0(l),new Td(s.firestore,null,l)}}function Xm(s,e,...t){if(s=(0,He.m9)(s),1===arguments.length&&(e=No.A()),Jm("doc","path",e),s instanceof ah){const l=Ci.fromString(e,...t);return h0(l),new ko(s,null,new xn(l))}{if(!(s instanceof ko||s instanceof Td))throw new an(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(Ci.fromString(e,...t));return h0(l),new ko(s.firestore,s instanceof Td?s.converter:null,new xn(l))}}function By(s,e){return s=(0,He.m9)(s),e=(0,He.m9)(e),(s instanceof ko||s instanceof Td)&&(e instanceof ko||e instanceof Td)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function v_(s,e){return s=(0,He.m9)(s),e=(0,He.m9)(e),s instanceof fl&&e instanceof fl&&s.firestore===e.firestore&&zt(s._query,e._query)&&s.converter===e.converter}class bE{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Zg(this,"async_queue_retry"),this.Xc=()=>{const t=jp();t&&_n("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Do(t))throw t;_n("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,Js("INTERNAL UNHANDLED ERROR: ",function(m){let w=m.message||"";return m.stack&&(w=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),w}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=t,t}enqueueAfterDelay(e,t,l){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const h=jm.createAndSchedule(this,e,t,l,m=>this.na(m));return this.zc.push(h),h}Zc(){this.Wc&&pt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function jy(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(s)}class g0{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Go extends ah{constructor(e,t,l,h){super(e,t,l,h),this.type="firestore",this._queue=new bE,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eg(this),this._firestoreClient.terminate()}}function ra(s){return s._firestoreClient||eg(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function eg(s){var e,t,l;const h=s._freezeSettings(),m=(F=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new cp(s._databaseId,F,s._persistenceKey,(ce=h).host,ce.ssl,ce.experimentalForceLongPolling,ce.experimentalAutoDetectLongPolling,u0(ce.experimentalLongPollingOptions),ce.useFetchStreams));var F,ce;s._firestoreClient=new Nc(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(l=h.cache)&&void 0!==l&&l._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function lm(s,e,t){const l=new ci;return s.asyncQueue.enqueue((0,Ye.Z)(function*(){try{yield qm(s,t),yield Zm(s,e),l.resolve()}catch(h){const m=h;if(!Oy(m))throw m;za("Error enabling indexeddb cache. Falling back to memory cache: "+m),l.reject(m)}})).then(()=>l.promise)}function nf(s){if(s._initialized||s._terminated)throw new an(kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(Ws.fromBase64String(e))}catch(t){throw new an(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Al(Ws.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new an(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ru{constructor(e){this._methodName=e}}class cm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new an(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new an(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dr(this._lat,e._lat)||Dr(this._long,e._long)}}const I_=/^__.*__$/;class _0{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bd(e,this.data,t,this.fieldTransforms)}}class Dd{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Qf(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class ng{constructor(e,t,l,h,m,w){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=w||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.fa(e),h}da(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ig(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Qf(this.ca)&&I_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class y0{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||Lm(e)}ya(e,t,l,h=!1){return new ng({ca:e,methodName:t,ga:l,path:$s.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(s){const e=s._freezeSettings(),t=Lm(s._databaseId);return new y0(s._databaseId,!!e.ignoreUndefinedProperties,t)}function sf(s,e,t,l,h,m={}){const w=s.ya(m.merge||m.mergeFields?2:0,e,t,h);Jf("Data must be an object, but it was:",w,l);const F=rg(l,w);let J,ce;if(m.merge)J=new ea(w.fieldMask),ce=w.fieldTransforms;else if(m.mergeFields){const Ie=[];for(const Ze of m.mergeFields){const Ht=td(e,Ze,t);if(!w.contains(Ht))throw new an(kt.INVALID_ARGUMENT,`Field '${Ht}' is specified in your field mask but missing from your input data.`);dm(Ie,Ht)||Ie.push(Ht)}J=new ea(Ie),ce=w.fieldTransforms.filter(Ze=>J.covers(Ze.field))}else J=null,ce=w.fieldTransforms;return new _0(new zr(F),J,ce)}class af extends Ru{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function v0(s,e,t){return new ng({ca:3,ga:e.settings.ga,methodName:s._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class w_ extends Ru{_toFieldTransform(e){return new Vd(e.path,new bh)}isEqual(e){return e instanceof w_}}class zy extends Ru{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=v0(this,e,!0),l=this.pa.map(m=>ed(m,t)),h=new go(l);return new Vd(e.path,h)}isEqual(e){return this===e}}class DE extends Ru{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=v0(this,e,!0),l=this.pa.map(m=>ed(m,t)),h=new _d(l);return new Vd(e.path,h)}isEqual(e){return this===e}}class um extends Ru{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new da(e.serializer,yp(e.serializer,this.Ia));return new Vd(e.path,t)}isEqual(e){return this===e}}function Wy(s,e,t,l){const h=s.ya(1,e,t);Jf("Data must be an object, but it was:",h,l);const m=[],w=zr.empty();ca(l,(J,ce)=>{const Ie=nd(e,J,t);ce=(0,He.m9)(ce);const Ze=h.da(Ie);if(ce instanceof af)m.push(Ie);else{const Ht=ed(ce,Ze);null!=Ht&&(m.push(Ie),w.set(Ie,Ht))}});const F=new ea(m);return new Dd(w,F,h.fieldTransforms)}function b_(s,e,t,l,h,m){const w=s.ya(1,e,t),F=[td(e,l,t)],J=[h];if(m.length%2!=0)throw new an(kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ht=0;Ht<m.length;Ht+=2)F.push(td(e,m[Ht])),J.push(m[Ht+1]);const ce=[],Ie=zr.empty();for(let Ht=F.length-1;Ht>=0;--Ht)if(!dm(ce,F[Ht])){const rn=F[Ht];let Tn=J[Ht];Tn=(0,He.m9)(Tn);const Yn=w.da(rn);if(Tn instanceof af)ce.push(rn);else{const Xn=ed(Tn,Yn);null!=Xn&&(ce.push(rn),Ie.set(rn,Xn))}}const Ze=new ea(ce);return new Dd(Ie,Ze,w.fieldTransforms)}function E0(s,e,t,l=!1){return ed(t,s.ya(l?4:3,e))}function ed(s,e){if(T_(s=(0,He.m9)(s)))return Jf("Unsupported field value:",e,s),rg(s,e);if(s instanceof Ru)return function(t,l){if(!Qf(l.ca))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,l){const h=[];let m=0;for(const w of t){let F=ed(w,l.wa(m));null==F&&(F={nullValue:"NULL_VALUE"}),h.push(F),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,l){if(null===(t=(0,He.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yp(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=gs.fromDate(t);return{timestampValue:zd(l.serializer,h)}}if(t instanceof gs){const h=new gs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zd(l.serializer,h)}}if(t instanceof cm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Al)return{bytesValue:wp(l.serializer,t._byteString)};if(t instanceof ko){const h=l.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw l._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Df(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${__(t)}`)}(s,e)}function rg(s,e){const t={};return yf(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(s,(l,h)=>{const m=ed(h,e.ha(l));null!=m&&(t[l]=m)}),{mapValue:{fields:t}}}function T_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof gs||s instanceof cm||s instanceof Al||s instanceof ko||s instanceof Ru)}function Jf(s,e,t){if(!T_(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=__(t);throw e._a("an object"===l?s+" a custom object":s+" "+l)}var l}function td(s,e,t){if((e=(0,He.m9)(e))instanceof kc)return e._internalPath;if("string"==typeof e)return nd(s,e);throw ig("Field path arguments must be of type string or ",s,!1,void 0,t)}const Ky=new RegExp("[~\\*/\\[\\]]");function nd(s,e,t){if(e.search(Ky)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new kc(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function ig(s,e,t,l,h){const m=l&&!l.isEmpty(),w=void 0!==h;let F=`Function ${e}() called with invalid data`;t&&(F+=" (via `toFirestore()`)"),F+=". ";let J="";return(m||w)&&(J+=" (found",m&&(J+=` in field ${l}`),w&&(J+=` in document ${h}`),J+=")"),new an(kt.INVALID_ARGUMENT,F+s+J)}function dm(s,e){return s.some(t=>t.isEqual(e))}class hm{constructor(e,t,l,h,m){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qy extends hm{data(){return super.data()}}function Sd(s,e){return"string"==typeof e?nd(s,e):e instanceof kc?e._internalPath:e._delegate._internalPath}function I0(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new an(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C_{}class sg extends C_{}function lf(s,e,...t){let l=[];e instanceof C_&&l.push(e),l=l.concat(t),function(h){const m=h.filter(F=>F instanceof rd).length,w=h.filter(F=>F instanceof cf).length;if(m>1||m>0&&w>0)throw new an(kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)s=h._apply(s);return s}class cf extends sg{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new cf(e,t,l)}_apply(e){const t=this._parse(e);return ug(e._query,t),new fl(e.firestore,e.converter,we(e._query,t))}_parse(e){const t=rf(e.firestore);return function(h,m,w,F,J,ce,Ie){let Ze;if(J.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new an(kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on documentId().`);if("in"===ce||"not-in"===ce){ep(Ie,ce);const Ht=[];for(const rn of Ie)Ht.push(cg(F,h,rn));Ze={arrayValue:{values:Ht}}}else Ze=cg(F,h,Ie)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||ep(Ie,ce),Ze=E0(w,"where",Ie,"in"===ce||"not-in"===ce);return xi.create(J,ce,Ze)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class rd extends C_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rd(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:zi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,h){let m=l;const w=h.getFlattenedFilters();for(const F of w)ug(m,F),m=we(m,F)}(e._query,t),new fl(e.firestore,e.converter,we(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ch extends sg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ch(e,t)}_apply(e){const t=function(l,h,m){if(null!==l.startAt)throw new an(kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new an(kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new Zc(h,m);return function(F,J){if(null===x(F)){const ce=v(F);null!==ce&&C0(0,ce,J.field)}}(l,w),w}(e._query,this._field,this._direction);return new fl(e.firestore,e.converter,function(l,h){const m=l.explicitOrderBy.concat([h]);return new Mc(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}class ag extends sg{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new ag(e,t,l)}_apply(e){return new fl(e.firestore,e.converter,mt(e._query,this._limit,this._limitType))}}class lg extends sg{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new lg(e,t,l)}_apply(e){const t=T0(e,this.type,this._docOrFields,this._inclusive);return new fl(e.firestore,e.converter,(h=t,new Mc((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}class Xf extends sg{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Xf(e,t,l)}_apply(e){const t=T0(e,this.type,this._docOrFields,this._inclusive);return new fl(e.firestore,e.converter,(h=t,new Mc((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function T0(s,e,t,l){if(t[0]=(0,He.m9)(t[0]),t[0]instanceof hm)return function(h,m,w,F,J){if(!F)throw new an(kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ce=[];for(const Ie of U(h))if(Ie.field.isKeyField())ce.push(G(m,F.key));else{const Ze=F.data.field(Ie.field);if(Eu(Ze))throw new an(kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const Ht=Ie.field.canonicalString();throw new an(kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ht}' (used as the orderBy) does not exist.`)}ce.push(Ze)}return new ka(ce,J)}(s._query,s.firestore._databaseId,e,t[0]._document,l);{const h=rf(s.firestore);return function(m,w,F,J,ce,Ie){const Ze=m.explicitOrderBy;if(ce.length>Ze.length)throw new an(kt.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ht=[];for(let rn=0;rn<ce.length;rn++){const Tn=ce[rn];if(Ze[rn].field.isKeyField()){if("string"!=typeof Tn)throw new an(kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof Tn}`);if(!D(m)&&-1!==Tn.indexOf("/"))throw new an(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${Tn}' contains a slash.`);const Yn=m.path.child(Ci.fromString(Tn));if(!xn.isDocumentKey(Yn))throw new an(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${Yn}' is not because it contains an odd number of segments.`);const Xn=new xn(Yn);Ht.push(G(w,Xn))}else{const Yn=E0(F,J,Tn);Ht.push(Yn)}}return new ka(Ht,Ie)}(s._query,s.firestore._databaseId,h,e,t,l)}}function cg(s,e,t){if("string"==typeof(t=(0,He.m9)(t))){if(""===t)throw new an(kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D(e)&&-1!==t.indexOf("/"))throw new an(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(Ci.fromString(t));if(!xn.isDocumentKey(l))throw new an(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return G(s,new xn(l))}if(t instanceof ko)return G(s,t._key);throw new an(kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__(t)}.`)}function ep(s,e){if(!Array.isArray(s)||0===s.length)throw new an(kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ug(s,e){if(e.isInequality()){const l=v(s),h=e.field;if(null!==l&&!l.isEqual(h))throw new an(kt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${h.toString()}'`);const m=x(s);null!==m&&C0(0,h,m)}const t=function(l,h){for(const m of l)for(const w of m.getFlattenedFilters())if(h.indexOf(w.op)>=0)return w.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new an(kt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function C0(s,e,t){if(!t.isEqual(e))throw new an(kt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yc{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _s(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return ca(e,(h,m)=>{l[h]=this.convertValue(m,t)}),l}convertGeoPoint(e){return new cm(_s(e.latitude),_s(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=ll(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const t=ba(e);return new gs(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=Ci.fromString(e);wn(jv(l));const h=new Dc(l.get(1),l.get(3)),m=new xn(l.popFirst(5));return h.isEqual(t)||Js(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Ad(s,e,t){let l;return l=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,l}class D0 extends yc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ko(this.firestore,null,t)}}class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends hm{constructor(e,t,l,h,m,w){super(e,t,l,h,w),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(Sd("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class hg extends id{data(e={}){return super.data(e)}}class sd{constructor(e,t,l,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Qa(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new hg(this._firestore,this._userDataWriter,l.key,l,new Qa(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new an(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(w=>({type:"added",doc:new hg(l._firestore,l._userDataWriter,w.doc.key,w.doc,new Qa(l._snapshot.mutatedKeys.has(w.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(w=>h||3!==w.type).map(w=>{const F=new hg(l._firestore,l._userDataWriter,w.doc.key,w.doc,new Qa(l._snapshot.mutatedKeys.has(w.doc.key),l._snapshot.fromCache),l.query.converter);let J=-1,ce=-1;return 0!==w.type&&(J=m.indexOf(w.doc.key),m=m.delete(w.doc.key)),1!==w.type&&(m=m.add(w.doc),ce=m.indexOf(w.doc.key)),{type:Qy(w.type),doc:F,oldIndex:J,newIndex:ce}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qy(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function tc(s,e){return s instanceof id&&e instanceof id?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof sd&&e instanceof sd&&s._firestore===e._firestore&&v_(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class Rd extends yc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ko(this.firestore,null,t)}}function np(s,e,t){s=Yi(s,ko);const l=Yi(s.firestore,Go),h=Ad(s.converter,e,t);return ip(l,[sf(rf(l),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,ls.none())])}function tv(s,e,t,...l){s=Yi(s,ko);const h=Yi(s.firestore,Go),m=rf(h);let w;return w="string"==typeof(e=(0,He.m9)(e))||e instanceof kc?b_(m,"updateDoc",s._key,e,t,l):Wy(m,"updateDoc",s._key,e),ip(h,[w.toMutation(s._key,ls.exists(!0))])}function mm(s,...e){var t,l,h;s=(0,He.m9)(s);let m={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||jy(e[w])||(m=e[w],w++);const F={includeMetadataChanges:m.includeMetadataChanges};if(jy(e[w])){const Ze=e[w];e[w]=null===(t=Ze.next)||void 0===t?void 0:t.bind(Ze),e[w+1]=null===(l=Ze.error)||void 0===l?void 0:l.bind(Ze),e[w+2]=null===(h=Ze.complete)||void 0===h?void 0:h.bind(Ze)}let J,ce,Ie;if(s instanceof ko)ce=Yi(s.firestore,Go),Ie=Pc(s._key.path),J={next:Ze=>{e[w]&&e[w](gm(ce,s,Ze))},error:e[w+1],complete:e[w+2]};else{const Ze=Yi(s,fl);ce=Yi(Ze.firestore,Go),Ie=Ze._query;const Ht=new Rd(ce);J={next:rn=>{e[w]&&e[w](new sd(ce,Ht,Ze,rn))},error:e[w+1],complete:e[w+2]},I0(s._query)}return function(Ze,Ht,rn,Tn){const Yn=new Xu(Tn),Xn=new zp(Ht,Yn,rn);return Ze.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return _o(yield om(Ze),Xn)})),()=>{Yn.Dc(),Ze.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return Ty(yield om(Ze),Xn)}))}}(ra(ce),Ie,F,J)}function ip(s,e){return function(t,l){const h=new ci;return t.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function nh(s,e,t){return Gm.apply(this,arguments)}(yield g_(t),l,h)})),h.promise}(ra(s),e)}function gm(s,e,t){const l=t.docs.get(e._key),h=new Rd(s);return new id(s,h,e._key,l,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}const _m={maxAttempts:5};class NE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rf(e)}set(e,t,l){this._verifyNotCommitted();const h=Mu(e,this._firestore),m=Ad(h.converter,t,l),w=sf(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,l);return this._mutations.push(w.toMutation(h._key,ls.none())),this}update(e,t,l,...h){this._verifyNotCommitted();const m=Mu(e,this._firestore);let w;return w="string"==typeof(t=(0,He.m9)(t))||t instanceof kc?b_(this._dataReader,"WriteBatch.update",m._key,t,l,h):Wy(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(w.toMutation(m._key,ls.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mu(e,this._firestore);return this._mutations=this._mutations.concat(new jd(t._key,ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new an(kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mu(s,e){if((s=(0,He.m9)(s)).firestore!==e)throw new an(kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class kE extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rf(e)}get(e){const t=Mu(e,this._firestore),l=new D0(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return pt();const m=h[0];if(m.isFoundDocument())return new hm(this._firestore,l,m.key,m,t.converter);if(m.isNoDocument())return new hm(this._firestore,l,t._key,null,t.converter);throw pt()})}set(e,t,l){const h=Mu(e,this._firestore),m=Ad(h.converter,t,l),w=sf(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,l);return this._transaction.set(h._key,w),this}update(e,t,l,...h){const m=Mu(e,this._firestore);let w;return w="string"==typeof(t=(0,He.m9)(t))||t instanceof kc?b_(this._dataReader,"Transaction.update",m._key,t,l,h):Wy(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,w),this}delete(e){const t=Mu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mu(e,this._firestore),l=new Rd(this._firestore);return super.get(e).then(h=>new id(this._firestore,l,t._key,h._document,new Qa(!1,!1),t.converter))}}function df(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new an("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function cv(){if(typeof Uint8Array>"u")throw new an("unimplemented","Uint8Arrays are not available in this environment.")}function uv(){if(!function kd(){return typeof atob<"u"}())throw new an("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){Qs=Qt.SDK_VERSION,(0,Qt._registerComponent)(new Le.wA("firestore",(t,{instanceIdentifier:l,options:h})=>{const m=t.getProvider("app").getImmediate(),w=new Go(new ku(t.getProvider("auth-internal")),new il(t.getProvider("app-check-internal")),function(F,J){if(!Object.prototype.hasOwnProperty.apply(F.options,["projectId"]))throw new an(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(F.options.projectId,J)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),w._setSettings(h),w},"PUBLIC").setMultipleInstances(!0)),(0,Qt.registerVersion)(Bc,"3.13.0",s),(0,Qt.registerVersion)(Bc,"3.13.0","esm2017")}();class hf{constructor(e){this._delegate=e}static fromBase64String(e){return uv(),new hf(Al.fromBase64String(e))}static fromUint8Array(e){return cv(),new hf(Al.fromUint8Array(e))}toBase64(){return uv(),this._delegate.toBase64()}toUint8Array(){return cv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function R_(s){return function vc(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const l of e)if(l in t&&"function"==typeof t[l])return!0;return!1}(s,["next","error","complete"])}class dv{enableIndexedDbPersistence(e,t){return function CE(s,e){nf(s=Yi(s,Go));const t=ra(s);if(t._uninitializedComponentsProvider)throw new an(kt.FAILED_PRECONDITION,"SDK cache is already specified.");za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=s._freezeSettings(),h=new nm;return lm(t,h,new bd(h,l.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cd(s){nf(s=Yi(s,Go));const e=ra(s);if(e._uninitializedComponentsProvider)throw new an(kt.FAILED_PRECONDITION,"SDK cache is already specified.");za("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings(),l=new nm;return lm(e,l,new tm(l,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Sl(s){if(s._initialized&&!s._terminated)throw new an(kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{yield(t=(0,Ye.Z)(function*(l){if(!os.D())return Promise.resolve();const h=l+"main";yield os.delete(h)}),function(l){return t.apply(this,arguments)})(ay(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class od{constructor(e,t,l){this._delegate=t,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&za("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,l={}){!function p0(s,e,t,l={}){var h;const m=(s=Yi(s,ah))._getSettings(),w=`${e}:${t}`;if("firestore.googleapis.com"!==m.host&&m.host!==w&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},m),{host:w,ssl:!1})),l.mockUserToken){let F,J;if("string"==typeof l.mockUserToken)F=l.mockUserToken,J=ns.MOCK_USER;else{F=(0,He.Sg)(l.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const ce=l.mockUserToken.sub||l.mockUserToken.user_id;if(!ce)throw new an(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");J=new ns(ce)}s._authCredentials=new ms(new Jo(F,J))}}(this._delegate,e,t,l)}enableNetwork(){return function E_(s){return function l0(s){return s.asyncQueue.enqueue((0,Ye.Z)(function*(){const e=yield sm(s),t=yield a0(s);return e.setNetworkEnabled(!0),function(l){const h=Ln(l);return h.vu.delete(0),Tu(h)}(t)}))}(ra(s=Yi(s,Go)))}(this._delegate)}disableNetwork(){return function Au(s){return function Ym(s){return s.asyncQueue.enqueue((0,Ye.Z)(function*(){const e=yield sm(s),t=yield a0(s);return e.setNetworkEnabled(!1),(l=(0,Ye.Z)(function*(h){const m=Ln(h);m.vu.add(0),yield Hh(m),m.bu.set("Offline")}),function(h){return l.apply(this,arguments)})(t);var l}))}(ra(s=Yi(s,Go)))}(this._delegate)}enablePersistence(e){let t=!1,l=!1;return e&&(t=!!e.synchronizeTabs,l=!!e.experimentalForceOwningTab,d0("synchronizeTabs",t,"experimentalForceOwningTab",l)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tf(s){return function(e){const t=new ci;return e.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function o_(s,e){return a_.apply(this,arguments)}(yield g_(e),t)})),t.promise}(ra(s=Yi(s,Go)))}(this._delegate)}onSnapshotsInSync(e){return function rp(s,e){return function Uy(s,e){const t=new Xu(e);return s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return l=yield om(s),h=t,Ln(l).ku.add(h),void h.next();var l,h})),()=>{t.Dc(),s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return l=yield om(s),h=t,void Ln(l).ku.delete(h);var l,h}))}}(ra(s=Yi(s,Go)),jy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new an("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fc(this,m0(this._delegate,e))}catch(t){throw ia(t,"collection()","Firestore.collection()")}}doc(e){try{return new yo(this,Xm(this._delegate,e))}catch(t){throw ia(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ec(this,function wE(s,e){if(s=Yi(s,ah),Jm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new an(kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fl(s,null,(t=e,new Mc(Ci.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ia(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function L0(s,e,t){s=Yi(s,Go);const l=Object.assign(Object.assign({},_m),t);return function(h){if(h.maxAttempts<1)throw new an(kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(h,m,w){const F=new ci;return h.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){const J=yield function Ny(s){return ef(s).then(e=>e.datastore)}(h);new Km(h.asyncQueue,J,w,m,F).run()})),F.promise}(ra(s),h=>e(new kE(s,h)),l)}(this._delegate,t=>e(new ff(this,t)))}batch(){return ra(this._delegate),new M_(new NE(this._delegate,e=>ip(this._delegate,e)))}loadBundle(e){return function au(s,e){const t=ra(s=Yi(s,Go)),l=new g0;return function c0(s,e,t,l){const h=function(m,w){let F;return F="string"==typeof m?Jn().encode(m):m,J=function(J,ce){if(J instanceof Uint8Array)return Wm(J,void 0);if(J instanceof ArrayBuffer)return Wm(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new My(J,w);var J}(t,Lm(e));s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){!function EE(s,e,t){const l=Ln(s);var h;(h=(0,Ye.Z)(function*(m,w,F){try{const J=yield w.getMetadata();if(yield function(Ht,rn){const Tn=Ln(Ht),Yn=ha(rn.createTime);return Tn.persistence.runTransaction("hasNewerBundle","readonly",Xn=>Tn.qs.getBundleMetadata(Xn,rn.id)).then(Xn=>!!Xn&&Xn.createTime.compareTo(Yn)>=0)}(m.localStore,J))return yield w.close(),F._completeWith({taskState:"Success",documentsLoaded:(Ht=J).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);F._updateProgress(_E(J));const ce=new Wp(J,m.localStore,w.serializer);let Ie=yield w.bc();for(;Ie;){const Ht=yield ce.zu(Ie);Ht&&F._updateProgress(Ht),Ie=yield w.bc()}const Ze=yield ce.complete();return yield rh(m,Ze.Ju,void 0),yield function(Ht,rn){const Tn=Ln(Ht);return Tn.persistence.runTransaction("Save bundle","readwrite",Yn=>Tn.qs.saveBundleMetadata(Yn,rn))}(m.localStore,J),F._completeWith(Ze.progress),Promise.resolve(Ze.Hu)}catch(J){return za("SyncEngine",`Loading bundle failed with ${J}`),F._failWith(J),Promise.resolve(new Set)}var Ht}),function(m,w,F){return h.apply(this,arguments)})(l,e,t).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield g_(s),h,l)}))}(t,s._databaseId,e,l),l}(this._delegate,e)}namedQuery(e){return function Yf(s,e){return function am(s,e){return s.asyncQueue.enqueue((0,Ye.Z)(function*(){return function(t,l){const h=Ln(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.qs.getNamedQuery(m,l))}(yield m_(s),e)}))}(ra(s=Yi(s,Go)),e).then(t=>t?new fl(s,null,t.query):null)}(this._delegate,e).then(t=>t?new Ec(this,t):null)}}class hh extends yc{constructor(e){super(),this.firestore=e}convertBytes(e){return new hf(new Al(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yo.forKey(t,this.firestore,null)}}class ff{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hh(e)}get(e){const t=Md(e);return this._delegate.get(t).then(l=>new sp(this._firestore,new id(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,t.converter)))}set(e,t,l){const h=Md(e);return l?(df("Transaction.set",l),this._delegate.set(h,t,l)):this._delegate.set(h,t),this}update(e,t,l,...h){const m=Md(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,l,...h),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}}class M_{constructor(e){this._delegate=e}set(e,t,l){const h=Md(e);return l?(df("WriteBatch.set",l),this._delegate.set(h,t,l)):this._delegate.set(h,t),this}update(e,t,l,...h){const m=Md(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,l,...h),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bl{constructor(e,t,l){this._firestore=e,this._userDataWriter=t,this._delegate=l}fromFirestore(e,t){const l=new hg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fg(this._firestore,l),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const l=Bl.INSTANCES;let h=l.get(e);h||(h=new WeakMap,l.set(e,h));let m=h.get(t);return m||(m=new Bl(e,new hh(e),t),h.set(t,m)),m}}Bl.INSTANCES=new WeakMap;class yo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hh(e)}static forPath(e,t,l){if(e.length%2!=0)throw new an("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yo(t,new ko(t._delegate,l,new xn(e)))}static forKey(e,t,l){return new yo(t,new ko(t._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new Fc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fc(this.firestore,m0(this._delegate,e))}catch(t){throw ia(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,He.m9)(e))instanceof ko&&By(this._delegate,e)}set(e,t){t=df("DocumentReference.set",t);try{return t?np(this._delegate,e,t):np(this._delegate,e)}catch(l){throw ia(l,"setDoc()","DocumentReference.set()")}}update(e,t,...l){try{return 1===arguments.length?tv(this._delegate,e):tv(this._delegate,e,t,...l)}catch(h){throw ia(h,"updateDoc()","DocumentReference.update()")}}delete(){return function nv(s){return ip(Yi(s.firestore,Go),[new jd(s._key,ls.none())])}(this._delegate)}onSnapshot(...e){const t=hv(e),l=fv(e,h=>new sp(this.firestore,new id(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return mm(this._delegate,t,l)}get(e){let t;return t="cache"===e?.source?function Xy(s){s=Yi(s,ko);const e=Yi(s.firestore,Go),t=ra(e),l=new Rd(e);return function qf(s,e){const t=new ci;return s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return(l=(0,Ye.Z)(function*(h,m,w){try{const F=yield function(J,ce){const Ie=Ln(J);return Ie.persistence.runTransaction("read document","readonly",Ze=>Ie.localDocuments.getDocument(Ze,ce))}(h,m);F.isFoundDocument()?w.resolve(F):F.isNoDocument()?w.resolve(null):w.reject(new an(kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const J=wd(F,`Failed to get document '${m} from cache`);w.reject(J)}}),function(h,m,w){return l.apply(this,arguments)})(yield m_(s),e,t);var l})),t.promise}(t,s._key).then(h=>new id(e,l,s._key,h,new Qa(null!==h&&h.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function PE(s){s=Yi(s,ko);const e=Yi(s.firestore,Go);return Ly(ra(e),s._key,{source:"server"}).then(t=>gm(e,s,t))}(this._delegate):function Jy(s){s=Yi(s,ko);const e=Yi(s.firestore,Go);return Ly(ra(e),s._key).then(t=>gm(e,s,t))}(this._delegate),t.then(l=>new sp(this.firestore,new id(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new yo(this.firestore,this._delegate.withConverter(e?Bl.getInstance(this.firestore,e):null))}}function ia(s,e,t){return s.message=s.message.replace(e,t),s}function hv(s){for(const e of s)if("object"==typeof e&&!R_(e))return e;return{}}function fv(s,e){var t,l;let h;return h=R_(s[0])?s[0]:R_(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(l=h.complete)||void 0===l?void 0:l.bind(h)}}class sp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tc(this._delegate,e._delegate)}}class fg extends sp{data(e){const t=this._delegate.data(e);return function jc(s,e){s||pt()}(void 0!==t),t}}class Ec{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hh(e)}where(e,t,l){try{return new Ec(this.firestore,lf(this._delegate,function fm(s,e,t){const l=e,h=Sd("where",s);return cf._create(h,l,t)}(e,t,l)))}catch(h){throw ia(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ec(this.firestore,lf(this._delegate,function og(s,e="asc"){const t=e,l=Sd("orderBy",s);return ch._create(l,t)}(e,t)))}catch(l){throw ia(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ec(this.firestore,lf(this._delegate,function w0(s){return Zf("limit",s),ag._create("limit",s,"F")}(e)))}catch(t){throw ia(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ec(this.firestore,lf(this._delegate,function D_(s){return Zf("limitToLast",s),ag._create("limitToLast",s,"L")}(e)))}catch(t){throw ia(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ec(this.firestore,lf(this._delegate,function b0(...s){return lg._create("startAt",s,!0)}(...e)))}catch(t){throw ia(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ec(this.firestore,lf(this._delegate,function pm(...s){return lg._create("startAfter",s,!1)}(...e)))}catch(t){throw ia(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ec(this.firestore,lf(this._delegate,function AE(...s){return Xf._create("endBefore",s,!1)}(...e)))}catch(t){throw ia(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ec(this.firestore,lf(this._delegate,function RE(...s){return Xf._create("endAt",s,!0)}(...e)))}catch(t){throw ia(t,"endAt()","Query.endAt()")}}isEqual(e){return v_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function R0(s){s=Yi(s,fl);const e=Yi(s.firestore,Go),t=ra(e),l=new Rd(e);return function Qm(s,e){const t=new ci;return s.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return(l=(0,Ye.Z)(function*(h,m,w){try{const F=yield Gg(h,m,!0),J=new Dy(m,F.ir),ce=J.sc(F.documents),Ie=J.applyChanges(ce,!1);w.resolve(Ie.snapshot)}catch(F){const J=wd(F,`Failed to execute query '${m} against cache`);w.reject(J)}}),function(h,m,w){return l.apply(this,arguments)})(yield m_(s),e,t);var l})),t.promise}(t,s._query).then(h=>new sd(e,l,s,h))}(this._delegate):"server"===e?.source?function ev(s){s=Yi(s,fl);const e=Yi(s.firestore,Go),t=ra(e),l=new Rd(e);return Fy(t,s._query,{source:"server"}).then(h=>new sd(e,l,s,h))}(this._delegate):function A0(s){s=Yi(s,fl);const e=Yi(s.firestore,Go),t=ra(e),l=new Rd(e);return I0(s._query),Fy(t,s._query).then(h=>new sd(e,l,s,h))}(this._delegate),t.then(l=>new pg(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const t=hv(e),l=fv(e,h=>new pg(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return mm(this._delegate,t,l)}withConverter(e){return new Ec(this.firestore,this._delegate.withConverter(e?Bl.getInstance(this.firestore,e):null))}}class FE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ec(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new FE(this._firestore,t))}forEach(e,t){this._delegate.forEach(l=>{e.call(t,new fg(this._firestore,l))})}isEqual(e){return tc(this._delegate,e._delegate)}}class Fc extends Ec{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yo(this.firestore,e):null}doc(e){try{return new yo(this.firestore,void 0===e?Xm(this._delegate):Xm(this._delegate,e))}catch(t){throw ia(t,"doc()","CollectionReference.doc()")}}add(e){return function M0(s,e){const t=Yi(s.firestore,Go),l=Xm(s),h=Ad(s.converter,e);return ip(t,[sf(rf(s.firestore),"addDoc",l._key,h,null!==s.converter,{}).toMutation(l._key,ls.exists(!1))]).then(()=>l)}(this._delegate,e).then(t=>new yo(this.firestore,t))}isEqual(e){return By(this._delegate,e._delegate)}withConverter(e){return new Fc(this.firestore,this._delegate.withConverter(e?Bl.getInstance(this.firestore,e):null))}}function Md(s){return Yi(s,ko)}class pf{constructor(...e){this._delegate=new kc(...e)}static documentId(){return new pf($s.keyField().canonicalString())}isEqual(e){return(e=(0,He.m9)(e))instanceof kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class fh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function F0(){return new w_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fh(e)}static delete(){const e=function ov(){return new af("deleteField")}();return e._methodName="FieldValue.delete",new fh(e)}static arrayUnion(...e){const t=function Ra(...s){return new zy("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new fh(t)}static arrayRemove(...e){const t=function S_(...s){return new DE("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new fh(t)}static increment(e){const t=function av(s){return new um("increment",s)}(e);return t._methodName="FieldValue.increment",new fh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const V0={Firestore:od,GeoPoint:cm,Timestamp:gs,Blob:hf,Transaction:ff,WriteBatch:M_,DocumentReference:yo,DocumentSnapshot:sp,Query:Ec,QueryDocumentSnapshot:fg,QuerySnapshot:pg,CollectionReference:Fc,FieldPath:pf,FieldValue:fh,setLogLevel:function Fa(s){!function bc(s){xo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function mv(s){(function pv(s,e){s.INTERNAL.registerComponent(new Le.wA("firestore-compat",t=>{const l=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(l,h)},"PUBLIC").setServiceProps(Object.assign({},V0)))})(s,(e,t)=>new od(e,t,new dv)),s.registerVersion("@firebase/firestore-compat","0.3.12")}(Ft.Z);var Pu=k(7046),B0=k(14),Ou=k(120);function _v(s,e){return function gv(s,e=z.z){return new H.y(t=>{let l;return null!=e?e.schedule(()=>{l=s.onSnapshot({includeMetadataChanges:!0},t)}):l=s.onSnapshot({includeMetadataChanges:!0},t),()=>{l?.()}})}(s,e)}function yv(s,e){return _v(s,e).pipe((0,Se.U)(t=>({payload:t,type:"query"})))}function op(s,e){return yv(s,e).pipe((0,Ue.O)(void 0),ye(),(0,Se.U)(([t,l])=>{const h=l.payload.docChanges(),m=h.map(w=>({type:w.type,payload:w}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((w,F)=>{const J=h.find(Ie=>Ie.doc.ref.isEqual(w.ref)),ce=t?.payload.docs.find(Ie=>Ie.ref.isEqual(w.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(w.metadata)||!J&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(w.metadata)||m.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:w}})}),m}))}function mg(s,e,t){return op(s,t).pipe((0,Be.R)((l,h)=>function vv(s,e,t){return e.forEach(l=>{t.indexOf(l.type)>-1&&(s=function j0(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return P_(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return P_(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return P_(s,e.oldIndex,1)}return s}(s,l))}),s}(l,h.map(m=>m.payload),e),[]),(0,ut.x)(),(0,Se.U)(l=>l.map(h=>({type:h.type,payload:h}))))}function P_(s,e,t,...l){const h=s.slice();return h.splice(e,t,...l),h}function Ev(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class Iv{constructor(e,t,l){this.ref=e,this.query=t,this.afs=l}stateChanges(e){let t=op(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Se.U)(l=>l.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,Ue.O)(void 0),ye(),(0,ct.h)(([l,h])=>h.length>0||!l),(0,Se.U)(([l,h])=>h),De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Be.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Ev(e);return mg(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return yv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(t=>t.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),De.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(De.iC)}add(e){return this.ref.add(e)}doc(e){return new wv(this.ref.doc(e),this.afs)}}class wv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const l=this.ref.collection(e),{ref:h,query:m}=z0(l,t);return new Iv(h,m,this.afs)}snapshotChanges(){return function UE(s,e){return _v(s,e).pipe((0,Ue.O)(void 0),ye(),(0,Se.U)(([t,l])=>l.exists?t?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ae.D)(this.ref.get(e)).pipe(De.iC)}}class H0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?op(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(t=>t.filter(l=>e.indexOf(l.type)>-1)),(0,ct.h)(t=>t.length>0),De.iC):op(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Be.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Ev(e);return mg(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return yv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(l=>l.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),De.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(De.iC)}}const bv=new g.OlP("angularfire2.enableFirestorePersistence"),$0=new g.OlP("angularfire2.firestore.persistenceSettings"),VE=new g.OlP("angularfire2.firestore.settings"),G0=new g.OlP("angularfire2.firestore.use-emulator");function z0(s,e=(t=>t)){return{query:e(s),ref:s}}let W0=(()=>{class s{constructor(t,l,h,m,w,F,J,ce,Ie,Ze,Ht,rn,Tn,Yn,Xn,gi,cs){this.schedulers=J;const _i=(0,wt.on)(t,F,l),sa=Ie;Ze&&(0,Pu.nw)(_i,F,Ht,Tn,Yn,Xn,rn,gi),[this.firestore,this.persistenceEnabled$]=(0,wt.cc)(`${_i.name}.firestore`,"AngularFirestore",_i.name,()=>{const vo=F.runOutsideAngular(()=>_i.firestore());if(m&&vo.settings(m),sa&&vo.useEmulator(...sa),h&&!(0,ft.PM)(w)){const oo=()=>{try{return(0,Ae.D)(vo.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(Ma){return typeof console<"u"&&console.warn(Ma),(0,Ce.of)(!1)}};return[vo,F.runOutsideAngular(oo)]}return[vo,(0,Ce.of)(!1)]},[m,sa,h])}collection(t,l){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:w}=z0(h,l),F=this.schedulers.ngZone.run(()=>m);return new Iv(F,w,this)}collectionGroup(t,l){const h=l||(w=>w),m=this.firestore.collectionGroup(t);return new H0(h(m),this)}doc(t){let l;l="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>l);return new wv(h,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(t){return new(t||s)(g.LFG(wt.Dh),g.LFG(wt.xv,8),g.LFG(bv,8),g.LFG(VE,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(De.HU),g.LFG($0,8),g.LFG(G0,8),g.LFG(Pu.zQ,8),g.LFG(Pu.Qv,8),g.LFG(Pu.L6,8),g.LFG(Pu._Q,8),g.LFG(Pu.rT,8),g.LFG(Pu.lh,8),g.LFG(Pu.f7,8),g.LFG(B0.nm,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),BE=(()=>{class s{constructor(){Ou.Z.registerVersion("angularfire",De.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:s,providers:[{provide:bv,useValue:!0},{provide:$0,useValue:t}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[W0]}),s})()},6304:(un,it,k)=>{k.d(it,{Dh:()=>ke,GT:()=>De,cc:()=>ct,hO:()=>ut,on:()=>ye,pX:()=>Ce,xv:()=>Oe});var g=k(5879),z=k(120),H=k(2793);un=k.hmd(un);const Ae=["ngOnDestroy"],Ce=(Ft,Ye,Qt,Le={})=>new Proxy(Ft,{get:(Qe,He)=>Qt.runOutsideAngular(()=>{var vt;if(Ft[He])return!(null===(vt=Le?.spy)||void 0===vt)&&vt.get&&Le.spy.get(He,Ft[He]),Ft[He];if(Ae.indexOf(He)>-1)return()=>{};const Pt=Ye.toPromise().then(Ge=>{const Ke=Ge&&Ge[He];return"function"==typeof Ke?Ke.bind(Ge):Ke&&Ke.then?Ke.then(Bt=>Qt.run(()=>Bt)):Qt.run(()=>Ke)});return new Proxy(()=>{},{get:(Ge,Ke)=>Pt[Ke],apply:(Ge,Ke,Bt)=>Pt.then(Et=>{var Nn;const yn=Et&&Et(...Bt);return!(null===(Nn=Le?.spy)||void 0===Nn)&&Nn.apply&&Le.spy.apply(He,Bt,yn),yn})})})}),De=(Ft,Ye)=>{Ye.forEach(Qt=>{Object.getOwnPropertyNames(Qt.prototype||Qt).forEach(Le=>{Object.defineProperty(Ft.prototype,Le,Object.getOwnPropertyDescriptor(Qt.prototype||Qt,Le))})})};class Ue{constructor(Ye){return Ye}}const ke=new g.OlP("angularfire2.app.options"),Oe=new g.OlP("angularfire2.app.name");function ye(Ft,Ye,Qt){const Qe="object"==typeof Qt&&Qt||{};Qe.name=Qe.name||"string"==typeof Qt&&Qt||"[DEFAULT]";const vt=z.Z.apps.filter(Pt=>Pt&&Pt.name===Qe.name)[0]||Ye.runOutsideAngular(()=>z.Z.initializeApp(Ft,Qe));try{JSON.stringify(Ft)!==JSON.stringify(vt.options)&&Se("error",`${vt.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ue(vt)}const Se=(Ft,...Ye)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ft](...Ye)},Be={provide:Ue,useFactory:ye,deps:[ke,g.R0b,[new g.FiY,Oe]]};let ut=(()=>{class Ft{constructor(Qt){z.Z.registerVersion("angularfire",H.q4.full,"core"),z.Z.registerVersion("angularfire",H.q4.full,"app-compat"),z.Z.registerVersion("angular",g.q4F.full,Qt.toString())}static initializeApp(Qt,Le){return{ngModule:Ft,providers:[{provide:ke,useValue:Qt},{provide:Oe,useValue:Le}]}}}return Ft.\u0275fac=function(Qt){return new(Qt||Ft)(g.LFG(g.Lbi))},Ft.\u0275mod=g.oAB({type:Ft}),Ft.\u0275inj=g.cJS({providers:[Be]}),Ft})();function ct(Ft,Ye,Qt,Le,Qe){const[,He,vt]=globalThis.\u0275AngularfireInstanceCache.find(Pt=>Pt[0]===Ft)||[];if(He)return function wt(Ft,Ye){try{return Ft.toString()===Ye.toString()}catch{return Ft===Ye}}(Qe,vt)||(Ut("error",`${Ye} was already initialized on the ${Qt} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),Ut("warn",{is:Qe,was:vt})),He;{const Pt=Le();return globalThis.\u0275AngularfireInstanceCache.push([Ft,Pt,Qe]),Pt}}const ft=!!un.hot,Ut=(Ft,...Ye)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ft](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(un,it,k)=>{k.d(it,{q4:()=>xs,iC:()=>ul,fc:()=>vl,HU:()=>Dc,vb:()=>Eu,JM:()=>ta});var g=k(5879),z=k(4097),H=k(5861),Ae=k(4303),Ce=k(9058),De=k(4537),Ue=k(7879);const ke=(b,G)=>G.some(le=>b instanceof le);let Oe,ye;const ut=new WeakMap,ct=new WeakMap,wt=new WeakMap,ft=new WeakMap,Ut=new WeakMap;let Qt={get(b,G,le){if(b instanceof IDBTransaction){if("done"===G)return ct.get(b);if("objectStoreNames"===G)return b.objectStoreNames||wt.get(b);if("store"===G)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return vt(b[G])},set:(b,G,le)=>(b[G]=le,!0),has:(b,G)=>b instanceof IDBTransaction&&("done"===G||"store"===G)||G in b};function He(b){return"function"==typeof b?function Qe(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...G){return b.apply(Pt(this),G),vt(ut.get(this))}:function(...G){return vt(b.apply(Pt(this),G))}:function(G,...le){const Fe=b.call(Pt(this),G,...le);return wt.set(Fe,G.sort?G.sort():[G]),vt(Fe)}}(b):(b instanceof IDBTransaction&&function Ye(b){if(ct.has(b))return;const G=new Promise((le,Fe)=>{const at=()=>{b.removeEventListener("complete",Tt),b.removeEventListener("error",Yt),b.removeEventListener("abort",Yt)},Tt=()=>{le(),at()},Yt=()=>{Fe(b.error||new DOMException("AbortError","AbortError")),at()};b.addEventListener("complete",Tt),b.addEventListener("error",Yt),b.addEventListener("abort",Yt)});ct.set(b,G)}(b),ke(b,function Se(){return Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Qt):b)}function vt(b){if(b instanceof IDBRequest)return function Ft(b){const G=new Promise((le,Fe)=>{const at=()=>{b.removeEventListener("success",Tt),b.removeEventListener("error",Yt)},Tt=()=>{le(vt(b.result)),at()},Yt=()=>{Fe(b.error),at()};b.addEventListener("success",Tt),b.addEventListener("error",Yt)});return G.then(le=>{le instanceof IDBCursor&&ut.set(le,b)}).catch(()=>{}),Ut.set(G,b),G}(b);if(ft.has(b))return ft.get(b);const G=He(b);return G!==b&&(ft.set(b,G),Ut.set(G,b)),G}const Pt=b=>Ut.get(b),Bt=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],Nn=new Map;function yn(b,G){if(!(b instanceof IDBDatabase)||G in b||"string"!=typeof G)return;if(Nn.get(G))return Nn.get(G);const le=G.replace(/FromIndex$/,""),Fe=G!==le,at=Et.includes(le);if(!(le in(Fe?IDBIndex:IDBObjectStore).prototype)||!at&&!Bt.includes(le))return;const Tt=function(){var Yt=(0,H.Z)(function*(On,...An){const _r=this.transaction(On,at?"readwrite":"readonly");let Hr=_r.store;return Fe&&(Hr=Hr.index(An.shift())),(yield Promise.all([Hr[le](...An),at&&_r.done]))[0]});return function(An){return Yt.apply(this,arguments)}}();return Nn.set(G,Tt),Tt}!function Le(b){Qt=b(Qt)}(b=>({...b,get:(G,le,Fe)=>yn(G,le)||b.get(G,le,Fe),has:(G,le)=>!!yn(G,le)||b.has(G,le)}));const er="@firebase/installations",rr="0.6.4",Nr=1e4,Sr=`w:${rr}`,ht="FIS_v2",Dt="https://firebaseinstallations.googleapis.com/v1",rt=36e5,Ve=new Ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(b){return b instanceof Ce.ZR&&b.code.includes("request-failed")}function qe({projectId:b}){return`${Dt}/projects/${b}/installations`}function jt(b){return{token:b.token,requestStatus:2,expiresIn:Er(b.expiresIn),creationTime:Date.now()}}function en(b,G){return hn.apply(this,arguments)}function hn(){return(hn=(0,H.Z)(function*(b,G){const Fe=(yield G.json()).error;return Ve.create("request-failed",{requestName:b,serverCode:Fe.code,serverMessage:Fe.message,serverStatus:Fe.status})})).apply(this,arguments)}function Cn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function xr(b){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,H.Z)(function*(b){const G=yield b();return G.status>=500&&G.status<600?b():G})).apply(this,arguments)}function Er(b){return Number(b.replace("s","000"))}function Kn(){return(Kn=(0,H.Z)(function*({appConfig:b,heartbeatServiceProvider:G},{fid:le}){const Fe=qe(b),at=Cn(b),Tt=G.getImmediate({optional:!0});if(Tt){const _r=yield Tt.getHeartbeatsHeader();_r&&at.append("x-firebase-client",_r)}const On={method:"POST",headers:at,body:JSON.stringify({fid:le,authVersion:ht,appId:b.appId,sdkVersion:Sr})},An=yield xr(()=>fetch(Fe,On));if(An.ok){const _r=yield An.json();return{fid:_r.fid||le,registrationStatus:2,refreshToken:_r.refreshToken,authToken:jt(_r.authToken)}}throw yield en("Create Installation",An)})).apply(this,arguments)}function hr(b){return new Promise(G=>{setTimeout(G,b)})}const yi=/^[cdef][\w-]{21}$/,kn="";function Wn(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const le=function Gn(b){return function Ei(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return yi.test(le)?le:kn}catch{return kn}}function Tr(b){return`${b.appName}!${b.appId}`}const ir=new Map;function ai(b,G){const le=Tr(b);qt(le,G),function ur(b,G){const le=function yr(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=b=>{qt(b.data.key,b.data.fid)}),Qr}();le&&le.postMessage({key:b,fid:G}),function nr(){0===ir.size&&Qr&&(Qr.close(),Qr=null)}()}(le,G)}function qt(b,G){const le=ir.get(b);if(le)for(const Fe of le)Fe(G)}let Qr=null;const Si="firebase-installations-database",di=1,$r="firebase-installations-store";let Jr=null;function $t(){return Jr||(Jr=function Ge(b,G,{blocked:le,upgrade:Fe,blocking:at,terminated:Tt}={}){const Yt=indexedDB.open(b,G),On=vt(Yt);return Fe&&Yt.addEventListener("upgradeneeded",An=>{Fe(vt(Yt.result),An.oldVersion,An.newVersion,vt(Yt.transaction))}),le&&Yt.addEventListener("blocked",()=>le()),On.then(An=>{Tt&&An.addEventListener("close",()=>Tt()),at&&An.addEventListener("versionchange",()=>at())}).catch(()=>{}),On}(Si,di,{upgrade:(b,G)=>{0===G&&b.createObjectStore($r)}})),Jr}function Je(b,G){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,H.Z)(function*(b,G){const le=Tr(b),at=(yield $t()).transaction($r,"readwrite"),Tt=at.objectStore($r),Yt=yield Tt.get(le);return yield Tt.put(G,le),yield at.done,(!Yt||Yt.fid!==G.fid)&&ai(b,G.fid),G})).apply(this,arguments)}function Nt(b){return vn.apply(this,arguments)}function vn(){return(vn=(0,H.Z)(function*(b){const G=Tr(b),Fe=(yield $t()).transaction($r,"readwrite");yield Fe.objectStore($r).delete(G),yield Fe.done})).apply(this,arguments)}function Vn(b,G){return pr.apply(this,arguments)}function pr(){return(pr=(0,H.Z)(function*(b,G){const le=Tr(b),at=(yield $t()).transaction($r,"readwrite"),Tt=at.objectStore($r),Yt=yield Tt.get(le),On=G(Yt);return void 0===On?yield Tt.delete(le):yield Tt.put(On,le),yield at.done,On&&(!Yt||Yt.fid!==On.fid)&&ai(b,On.fid),On})).apply(this,arguments)}function ve(b){return Q.apply(this,arguments)}function Q(){return Q=(0,H.Z)(function*(b){let G;const le=yield Vn(b.appConfig,Fe=>{const at=function X(b){return dn(b||{fid:Wn(),registrationStatus:0})}(Fe),Tt=function pe(b,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(Ve.create("app-offline"))};const le={fid:G.fid,registrationStatus:1,registrationTime:Date.now()},Fe=function de(b,G){return je.apply(this,arguments)}(b,le);return{installationEntry:le,registrationPromise:Fe}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:St(b)}:{installationEntry:G}}(b,at);return G=Tt.registrationPromise,Tt.installationEntry});return le.fid===kn?{installationEntry:yield G}:{installationEntry:le,registrationPromise:G}}),Q.apply(this,arguments)}function je(){return je=(0,H.Z)(function*(b,G){try{const le=yield function ui(b,G){return Kn.apply(this,arguments)}(b,G);return Je(b.appConfig,le)}catch(le){throw Te(le)&&409===le.customData.serverCode?yield Nt(b.appConfig):yield Je(b.appConfig,{fid:G.fid,registrationStatus:0}),le}}),je.apply(this,arguments)}function St(b){return tn.apply(this,arguments)}function tn(){return(tn=(0,H.Z)(function*(b){let G=yield Un(b.appConfig);for(;1===G.registrationStatus;)yield hr(100),G=yield Un(b.appConfig);if(0===G.registrationStatus){const{installationEntry:le,registrationPromise:Fe}=yield ve(b);return Fe||le}return G})).apply(this,arguments)}function Un(b){return Vn(b,G=>{if(!G)throw Ve.create("installation-not-found");return dn(G)})}function dn(b){return function Rn(b){return 1===b.registrationStatus&&b.registrationTime+Nr<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Yr(){return(Yr=(0,H.Z)(function*({appConfig:b,heartbeatServiceProvider:G},le){const Fe=function dt(b,{fid:G}){return`${qe(b)}/${G}/authTokens:generate`}(b,le),at=function Bn(b,{refreshToken:G}){const le=Cn(b);return le.append("Authorization",function kr(b){return`${ht} ${b}`}(G)),le}(b,le),Tt=G.getImmediate({optional:!0});if(Tt){const _r=yield Tt.getHeartbeatsHeader();_r&&at.append("x-firebase-client",_r)}const On={method:"POST",headers:at,body:JSON.stringify({installation:{sdkVersion:Sr,appId:b.appId}})},An=yield xr(()=>fetch(Fe,On));if(An.ok)return jt(yield An.json());throw yield en("Generate Auth Token",An)})).apply(this,arguments)}function ze(b){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,H.Z)(function*(b,G=!1){let le;const Fe=yield Vn(b.appConfig,Tt=>{if(!Pr(Tt))throw Ve.create("not-registered");const Yt=Tt.authToken;if(!G&&function Rr(b){return 2===b.requestStatus&&!function Ai(b){const G=Date.now();return G<b.creationTime||b.creationTime+b.expiresIn<G+rt}(b)}(Yt))return Tt;if(1===Yt.requestStatus)return le=function Ot(b,G){return fn.apply(this,arguments)}(b,G),Tt;{if(!navigator.onLine)throw Ve.create("app-offline");const On=function ks(b){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:G})}(Tt);return le=function Hn(b,G){return gn.apply(this,arguments)}(b,On),On}});return le?yield le:Fe.authToken}),Rt.apply(this,arguments)}function fn(){return(fn=(0,H.Z)(function*(b,G){let le=yield sn(b.appConfig);for(;1===le.authToken.requestStatus;)yield hr(100),le=yield sn(b.appConfig);const Fe=le.authToken;return 0===Fe.requestStatus?ze(b,G):Fe})).apply(this,arguments)}function sn(b){return Vn(b,G=>{if(!Pr(G))throw Ve.create("not-registered");return function Kr(b){return 1===b.requestStatus&&b.requestTime+Nr<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function gn(){return gn=(0,H.Z)(function*(b,G){try{const le=yield function qn(b,G){return Yr.apply(this,arguments)}(b,G),Fe=Object.assign(Object.assign({},G),{authToken:le});return yield Je(b.appConfig,Fe),le}catch(le){if(!Te(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Fe=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield Je(b.appConfig,Fe)}else yield Nt(b.appConfig);throw le}}),gn.apply(this,arguments)}function Pr(b){return void 0!==b&&2===b.registrationStatus}function ao(){return(ao=(0,H.Z)(function*(b){const G=b,{installationEntry:le,registrationPromise:Fe}=yield ve(G);return Fe?Fe.catch(console.error):ze(G).catch(console.error),le.fid})).apply(this,arguments)}function fr(){return fr=(0,H.Z)(function*(b,G=!1){const le=b;return yield function ii(b){return Ri.apply(this,arguments)}(le),(yield ze(le,G)).token}),fr.apply(this,arguments)}function Ri(){return(Ri=(0,H.Z)(function*(b){const{registrationPromise:G}=yield ve(b);G&&(yield G)})).apply(this,arguments)}function Fs(b){return Ve.create("missing-app-config-values",{valueName:b})}const Eo="installations",Xa=b=>{const G=b.getProvider("app").getImmediate(),le=function Zi(b){if(!b||!b.options)throw Fs("App Configuration");if(!b.name)throw Fs("App Name");const G=["projectId","apiKey","appId"];for(const le of G)if(!b.options[le])throw Fs(le);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(G);return{app:G,appConfig:le,heartbeatServiceProvider:(0,Ae._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},lo=b=>{const G=b.getProvider("app").getImmediate(),le=(0,Ae._getProvider)(G,Eo).getImmediate();return{getId:()=>function vi(b){return ao.apply(this,arguments)}(le),getToken:at=>function Ds(b){return fr.apply(this,arguments)}(le,at)}};(function fa(){(0,Ae._registerComponent)(new De.wA(Eo,Xa,"PUBLIC")),(0,Ae._registerComponent)(new De.wA("installations-internal",lo,"PRIVATE"))})(),(0,Ae.registerVersion)(er,rr),(0,Ae.registerVersion)(er,rr,"esm2017");const Hi="@firebase/remote-config",hi=new Ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qn{constructor(G,le,Fe,at){this.client=G,this.storage=le,this.storageCache=Fe,this.logger=at}isCachedDataFresh(G,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Fe=Date.now()-le,at=Fe<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${at}.`),at}fetch(G){var le=this;return(0,H.Z)(function*(){const[Fe,at]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(at&&le.isCachedDataFresh(G.cacheMaxAgeMillis,Fe))return at;G.eTag=at&&at.eTag;const Tt=yield le.client.fetch(G),Yt=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&Yt.push(le.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(Yt),Tt})()}}function si(b=navigator){return b.languages&&b.languages[0]||b.language}class Zn{constructor(G,le,Fe,at,Tt,Yt){this.firebaseInstallations=G,this.sdkVersion=le,this.namespace=Fe,this.projectId=at,this.apiKey=Tt,this.appId=Yt}fetch(G){var le=this;return(0,H.Z)(function*(){const[Fe,at]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),Yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},An={sdk_version:le.sdkVersion,app_instance_id:Fe,app_instance_id_token:at,app_id:le.appId,language_code:si()},_r={method:"POST",headers:On,body:JSON.stringify(An)},Hr=fetch(Yt,_r),qr=new Promise((dl,Zl)=>{G.signal.addEventListener(()=>{const Zc=new Error("The operation was aborted.");Zc.name="AbortError",Zl(Zc)})});let Il;try{yield Promise.race([Hr,qr]),Il=yield Hr}catch(dl){let Zl="fetch-client-network";throw"AbortError"===dl?.name&&(Zl="fetch-timeout"),hi.create(Zl,{originalErrorMessage:dl?.message})}let zr=Il.status;const uc=Il.headers.get("ETag")||void 0;let Gi,ka;if(200===Il.status){let dl;try{dl=yield Il.json()}catch(Zl){throw hi.create("fetch-client-parse",{originalErrorMessage:Zl?.message})}Gi=dl.entries,ka=dl.state}if("INSTANCE_STATE_UNSPECIFIED"===ka?zr=500:"NO_CHANGE"===ka?zr=304:("NO_TEMPLATE"===ka||"EMPTY_CONFIG"===ka)&&(Gi={}),304!==zr&&200!==zr)throw hi.create("fetch-status",{httpStatus:zr});return{status:zr,eTag:uc,config:Gi}})()}}class is{constructor(G,le){this.client=G,this.storage=le}fetch(G){var le=this;return(0,H.Z)(function*(){const Fe=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(G,Fe)})()}attemptFetch(G,{throttleEndTimeMillis:le,backoffCount:Fe}){var at=this;return(0,H.Z)(function*(){yield function Ro(b,G){return new Promise((le,Fe)=>{const at=Math.max(G-Date.now(),0),Tt=setTimeout(le,at);b.addEventListener(()=>{clearTimeout(Tt),Fe(hi.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,le);try{const Tt=yield at.client.fetch(G);return yield at.storage.deleteThrottleMetadata(),Tt}catch(Tt){if(!function ki(b){if(!(b instanceof Ce.ZR&&b.customData))return!1;const G=Number(b.customData.httpStatus);return 429===G||500===G||503===G||504===G}(Tt))throw Tt;const Yt={throttleEndTimeMillis:Date.now()+(0,Ce.$s)(Fe),backoffCount:Fe+1};return yield at.storage.setThrottleMetadata(Yt),at.attemptFetch(G,Yt)}})()}}class oa{constructor(G,le,Fe,at,Tt){this.app=G,this._client=le,this._storageCache=Fe,this._storage=at,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sr(b,G){const le=b.target.error||void 0;return hi.create(G,{originalErrorMessage:le&&le?.message})}const li="app_namespace_store";class Vr{constructor(G,le,Fe,at=function bi(){return new Promise((b,G)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=Fe=>{G(sr(Fe,"storage-open"))},le.onsuccess=Fe=>{b(Fe.target.result)},le.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(le){G(hi.create("storage-open",{originalErrorMessage:le?.message}))}})}()){this.appId=G,this.appName=le,this.namespace=Fe,this.openDbPromise=at}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var le=this;return(0,H.Z)(function*(){const Fe=yield le.openDbPromise;return new Promise((at,Tt)=>{const On=Fe.transaction([li],"readonly").objectStore(li),An=le.createCompositeKey(G);try{const _r=On.get(An);_r.onerror=Hr=>{Tt(sr(Hr,"storage-get"))},_r.onsuccess=Hr=>{const qr=Hr.target.result;at(qr?qr.value:void 0)}}catch(_r){Tt(hi.create("storage-get",{originalErrorMessage:_r?.message}))}})})()}set(G,le){var Fe=this;return(0,H.Z)(function*(){const at=yield Fe.openDbPromise;return new Promise((Tt,Yt)=>{const An=at.transaction([li],"readwrite").objectStore(li),_r=Fe.createCompositeKey(G);try{const Hr=An.put({compositeKey:_r,value:le});Hr.onerror=qr=>{Yt(sr(qr,"storage-set"))},Hr.onsuccess=()=>{Tt()}}catch(Hr){Yt(hi.create("storage-set",{originalErrorMessage:Hr?.message}))}})})()}delete(G){var le=this;return(0,H.Z)(function*(){const Fe=yield le.openDbPromise;return new Promise((at,Tt)=>{const On=Fe.transaction([li],"readwrite").objectStore(li),An=le.createCompositeKey(G);try{const _r=On.delete(An);_r.onerror=Hr=>{Tt(sr(Hr,"storage-delete"))},_r.onsuccess=()=>{at()}}catch(_r){Tt(hi.create("storage-delete",{originalErrorMessage:_r?.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class Ss{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,H.Z)(function*(){const le=G.storage.getLastFetchStatus(),Fe=G.storage.getLastSuccessfulFetchTimestampMillis(),at=G.storage.getActiveConfig(),Tt=yield le;Tt&&(G.lastFetchStatus=Tt);const Yt=yield Fe;Yt&&(G.lastSuccessfulFetchTimestampMillis=Yt);const On=yield at;On&&(G.activeConfig=On)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function Zo(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,H.Z)(function*(){if(!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Fr(){(0,Ae._registerComponent)(new De.wA("remote-config",function b(G,{instanceIdentifier:le}){const Fe=G.getProvider("app").getImmediate(),at=G.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hi.create("registration-window");if(!(0,Ce.hl)())throw hi.create("indexed-db-unavailable");const{projectId:Tt,apiKey:Yt,appId:On}=Fe.options;if(!Tt)throw hi.create("registration-project-id");if(!Yt)throw hi.create("registration-api-key");if(!On)throw hi.create("registration-app-id");const An=new Vr(On,Fe.name,le=le||"firebase"),_r=new Ss(An),Hr=new Ue.Yd(Hi);Hr.logLevel=Ue.in.ERROR;const qr=new Zn(at,Ae.SDK_VERSION,le,Tt,Yt,On),Il=new is(qr,An),zr=new Qn(Il,An,_r,Hr),uc=new oa(Fe,zr,_r,An,Hr);return function lr(b){const G=(0,Ce.m9)(b);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(uc),uc},"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(Hi,"0.4.4"),(0,Ae.registerVersion)(Hi,"0.4.4","esm2017")}();const ws=(b,G)=>G.some(le=>b instanceof le);let bo,Cr;const Vs=new WeakMap,ps=new WeakMap,bs=new WeakMap,Xi=new WeakMap,ho=new WeakMap;let $i={get(b,G,le){if(b instanceof IDBTransaction){if("done"===G)return ps.get(b);if("objectStoreNames"===G)return b.objectStoreNames||bs.get(b);if("store"===G)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return es(b[G])},set:(b,G,le)=>(b[G]=le,!0),has:(b,G)=>b instanceof IDBTransaction&&("done"===G||"store"===G)||G in b};function js(b){return"function"==typeof b?function Yo(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Us(){return Cr||(Cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...G){return b.apply(Or(this),G),es(Vs.get(this))}:function(...G){return es(b.apply(Or(this),G))}:function(G,...le){const Fe=b.call(Or(this),G,...le);return bs.set(Fe,G.sort?G.sort():[G]),es(Fe)}}(b):(b instanceof IDBTransaction&&function Ba(b){if(ps.has(b))return;const G=new Promise((le,Fe)=>{const at=()=>{b.removeEventListener("complete",Tt),b.removeEventListener("error",Yt),b.removeEventListener("abort",Yt)},Tt=()=>{le(),at()},Yt=()=>{Fe(b.error||new DOMException("AbortError","AbortError")),at()};b.addEventListener("complete",Tt),b.addEventListener("error",Yt),b.addEventListener("abort",Yt)});ps.set(b,G)}(b),ws(b,function Va(){return bo||(bo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,$i):b)}function es(b){if(b instanceof IDBRequest)return function Bs(b){const G=new Promise((le,Fe)=>{const at=()=>{b.removeEventListener("success",Tt),b.removeEventListener("error",Yt)},Tt=()=>{le(es(b.result)),at()},Yt=()=>{Fe(b.error),at()};b.addEventListener("success",Tt),b.addEventListener("error",Yt)});return G.then(le=>{le instanceof IDBCursor&&Vs.set(le,b)}).catch(()=>{}),ho.set(G,b),G}(b);if(Xi.has(b))return Xi.get(b);const G=js(b);return G!==b&&(Xi.set(b,G),ho.set(G,b)),G}const Or=b=>ho.get(b);function pa(b,G,{blocked:le,upgrade:Fe,blocking:at,terminated:Tt}={}){const Yt=indexedDB.open(b,G),On=es(Yt);return Fe&&Yt.addEventListener("upgradeneeded",An=>{Fe(es(Yt.result),An.oldVersion,An.newVersion,es(Yt.transaction))}),le&&Yt.addEventListener("blocked",()=>le()),On.then(An=>{Tt&&An.addEventListener("close",()=>Tt()),at&&An.addEventListener("versionchange",()=>at())}).catch(()=>{}),On}function Mo(b,{blocked:G}={}){const le=indexedDB.deleteDatabase(b);return G&&le.addEventListener("blocked",()=>G()),es(le).then(()=>{})}const ja=["get","getKey","getAll","getAllKeys","count"],Hl=["put","add","delete","clear"],Qo=new Map;function Fo(b,G){if(!(b instanceof IDBDatabase)||G in b||"string"!=typeof G)return;if(Qo.get(G))return Qo.get(G);const le=G.replace(/FromIndex$/,""),Fe=G!==le,at=Hl.includes(le);if(!(le in(Fe?IDBIndex:IDBObjectStore).prototype)||!at&&!ja.includes(le))return;const Tt=function(){var Yt=(0,H.Z)(function*(On,...An){const _r=this.transaction(On,at?"readwrite":"readonly");let Hr=_r.store;return Fe&&(Hr=Hr.index(An.shift())),(yield Promise.all([Hr[le](...An),at&&_r.done]))[0]});return function(An){return Yt.apply(this,arguments)}}();return Qo.set(G,Tt),Tt}!function fi(b){$i=b($i)}(b=>({...b,get:(G,le,Fe)=>Fo(G,le)||b.get(G,le,Fe),has:(G,le)=>!!Fo(G,le)||b.has(G,le)}));const ne="/firebase-messaging-sw.js",q="/firebase-cloud-messaging-push-scope",be="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$="https://fcmregistrations.googleapis.com/v1",ie="google.c.a.c_id",Xe="google.c.a.c_l",et="google.c.a.ts";var Ir=function(b){return b.PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",b}(Ir||{});function oi(b){const G=new Uint8Array(b);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ps(b){const le=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Fe=atob(le),at=new Uint8Array(Fe.length);for(let Tt=0;Tt<Fe.length;++Tt)at[Tt]=Fe.charCodeAt(Tt);return at}const Po="fcm_token_details_db",ma=5,Rl="fcm_token_object_Store";function Pa(){return Pa=(0,H.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(Po))return null;let G=null;return(yield pa(Po,ma,{upgrade:(Fe=(0,H.Z)(function*(at,Tt,Yt,On){var An;if(Tt<2||!at.objectStoreNames.contains(Rl))return;const _r=On.objectStore(Rl),Hr=yield _r.index("fcmSenderId").get(b);if(yield _r.clear(),Hr)if(2===Tt){const qr=Hr;if(!qr.auth||!qr.p256dh||!qr.endpoint)return;G={token:qr.fcmToken,createTime:null!==(An=qr.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:qr.auth,p256dh:qr.p256dh,endpoint:qr.endpoint,swScope:qr.swScope,vapidKey:"string"==typeof qr.vapidKey?qr.vapidKey:oi(qr.vapidKey)}}}else if(3===Tt){const qr=Hr;G={token:qr.fcmToken,createTime:qr.createTime,subscriptionOptions:{auth:oi(qr.auth),p256dh:oi(qr.p256dh),endpoint:qr.endpoint,swScope:qr.swScope,vapidKey:oi(qr.vapidKey)}}}else if(4===Tt){const qr=Hr;G={token:qr.fcmToken,createTime:qr.createTime,subscriptionOptions:{auth:oi(qr.auth),p256dh:oi(qr.p256dh),endpoint:qr.endpoint,swScope:qr.swScope,vapidKey:oi(qr.vapidKey)}}}}),function(Tt,Yt,On,An){return Fe.apply(this,arguments)})})).close(),yield Mo(Po),yield Mo("fcm_vapid_details_db"),yield Mo("undefined"),function Os(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:G}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}(G)?G:null;var Fe}),Pa.apply(this,arguments)}const Ha="firebase-messaging-database",ga=1,As="firebase-messaging-store";let Uo=null;function _a(){return Uo||(Uo=pa(Ha,ga,{upgrade:(b,G)=>{0===G&&b.createObjectStore(As)}})),Uo}function el(b){return tl.apply(this,arguments)}function tl(){return tl=(0,H.Z)(function*(b){const G=hs(b),Fe=yield(yield _a()).transaction(As).objectStore(As).get(G);if(Fe)return Fe;{const at=yield function $l(b){return Pa.apply(this,arguments)}(b.appConfig.senderId);if(at)return yield pl(b,at),at}}),tl.apply(this,arguments)}function pl(b,G){return ml.apply(this,arguments)}function ml(){return(ml=(0,H.Z)(function*(b,G){const le=hs(b),at=(yield _a()).transaction(As,"readwrite");return yield at.objectStore(As).put(G,le),yield at.done,G})).apply(this,arguments)}function Oa(){return(Oa=(0,H.Z)(function*(b){const G=hs(b),Fe=(yield _a()).transaction(As,"readwrite");yield Fe.objectStore(As).delete(G),yield Fe.done})).apply(this,arguments)}function hs({appConfig:b}){return b.appId}const Zs=new Ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ya(b,G){return $a.apply(this,arguments)}function $a(){return($a=(0,H.Z)(function*(b,G){const le=yield Ea(b),Fe=Gl(G),at={method:"POST",headers:le,body:JSON.stringify(Fe)};let Tt;try{Tt=yield(yield fetch(gl(b.appConfig),at)).json()}catch(Yt){throw Zs.create("token-subscribe-failed",{errorInfo:Yt?.toString()})}if(Tt.error)throw Zs.create("token-subscribe-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Zs.create("token-subscribe-no-token");return Tt.token})).apply(this,arguments)}function ic(){return(ic=(0,H.Z)(function*(b,G){const le=yield Ea(b),Fe=Gl(G.subscriptionOptions),at={method:"PATCH",headers:le,body:JSON.stringify(Fe)};let Tt;try{Tt=yield(yield fetch(`${gl(b.appConfig)}/${G.token}`,at)).json()}catch(Yt){throw Zs.create("token-update-failed",{errorInfo:Yt?.toString()})}if(Tt.error)throw Zs.create("token-update-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Zs.create("token-update-no-token");return Tt.token})).apply(this,arguments)}function Ga(b,G){return Co.apply(this,arguments)}function Co(){return(Co=(0,H.Z)(function*(b,G){const Fe={method:"DELETE",headers:yield Ea(b)};try{const Tt=yield(yield fetch(`${gl(b.appConfig)}/${G}`,Fe)).json();if(Tt.error)throw Zs.create("token-unsubscribe-failed",{errorInfo:Tt.error.message})}catch(at){throw Zs.create("token-unsubscribe-failed",{errorInfo:at?.toString()})}})).apply(this,arguments)}function gl({projectId:b}){return`${$}/projects/${b}/registrations`}function Ea(b){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,H.Z)(function*({appConfig:b,installations:G}){const le=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function Gl({p256dh:b,auth:G,endpoint:le,vapidKey:Fe}){const at={web:{endpoint:le,auth:G,p256dh:b}};return Fe!==be&&(at.web.applicationPubKey=Fe),at}const Ml=6048e5;function nl(){return nl=(0,H.Z)(function*(b){const G=yield function la(b,G){return Ti.apply(this,arguments)}(b.swRegistration,b.vapidKey),le={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:G.endpoint,auth:oi(G.getKey("auth")),p256dh:oi(G.getKey("p256dh"))},Fe=yield el(b.firebaseDependencies);if(Fe){if(function N(b,G){return G.vapidKey===b.vapidKey&&G.endpoint===b.endpoint&&G.auth===b.auth&&G.p256dh===b.p256dh}(Fe.subscriptionOptions,le))return Date.now()>=Fe.createTime+Ml?function zl(b,G){return aa.apply(this,arguments)}(b,{token:Fe.token,createTime:Date.now(),subscriptionOptions:le}):Fe.token;try{yield Ga(b.firebaseDependencies,Fe.token)}catch(at){console.warn(at)}return wc(b.firebaseDependencies,le)}return wc(b.firebaseDependencies,le)}),nl.apply(this,arguments)}function Vc(){return Vc=(0,H.Z)(function*(b){const G=yield el(b.firebaseDependencies);G&&(yield Ga(b.firebaseDependencies,G.token),yield function To(b){return Oa.apply(this,arguments)}(b.firebaseDependencies));const le=yield b.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()}),Vc.apply(this,arguments)}function aa(){return aa=(0,H.Z)(function*(b,G){try{const le=yield function va(b,G){return ic.apply(this,arguments)}(b.firebaseDependencies,G),Fe=Object.assign(Object.assign({},G),{token:le,createTime:Date.now()});return yield pl(b.firebaseDependencies,Fe),le}catch(le){throw yield function Oo(b){return Vc.apply(this,arguments)}(b),le}}),aa.apply(this,arguments)}function wc(b,G){return fo.apply(this,arguments)}function fo(){return(fo=(0,H.Z)(function*(b,G){const Fe={token:yield ya(b,G),createTime:Date.now(),subscriptionOptions:G};return yield pl(b,Fe),Fe.token})).apply(this,arguments)}function Ti(){return(Ti=(0,H.Z)(function*(b,G){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ps(G)})})).apply(this,arguments)}function re(b){const G={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Ne(b,G){if(!G.notification)return;b.notification={};const le=G.notification.title;le&&(b.notification.title=le);const Fe=G.notification.body;Fe&&(b.notification.body=Fe);const at=G.notification.image;at&&(b.notification.image=at);const Tt=G.notification.icon;Tt&&(b.notification.icon=Tt)}(G,b),function Y(b,G){G.data&&(b.data=G.data)}(G,b),function M(b,G){var le,Fe,at,Tt,Yt;if(!(G.fcmOptions||null!==(le=G.notification)&&void 0!==le&&le.click_action))return;b.fcmOptions={};const On=null!==(at=null===(Fe=G.fcmOptions)||void 0===Fe?void 0:Fe.link)&&void 0!==at?at:null===(Tt=G.notification)||void 0===Tt?void 0:Tt.click_action;On&&(b.fcmOptions.link=On);const An=null===(Yt=G.fcmOptions)||void 0===Yt?void 0:Yt.analytics_label;An&&(b.fcmOptions.analyticsLabel=An)}(G,b),G}function ae(b,G){const le=[];for(let Fe=0;Fe<b.length;Fe++)le.push(b.charAt(Fe)),Fe<G.length&&le.push(G.charAt(Fe));return le.join("")}function Me(b){return Zs.create("missing-app-config-values",{valueName:b})}ae("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ae("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class st{constructor(G,le,Fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const at=function fe(b){if(!b||!b.options)throw Me("App Configuration Object");if(!b.name)throw Me("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:le}=b;for(const Fe of G)if(!le[Fe])throw Me(Fe);return{appName:b.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:at,installations:le,analyticsProvider:Fe}}_delete(){return Promise.resolve()}}function At(){return(At=(0,H.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(ne,{scope:q}),b.swRegistration.update().catch(()=>{})}catch(G){throw Zs.create("failed-service-worker-registration",{browserErrorMessage:G?.message})}})).apply(this,arguments)}function mn(){return(mn=(0,H.Z)(function*(b,G){if(!G&&!b.swRegistration&&(yield function nt(b){return At.apply(this,arguments)}(b)),G||!b.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw Zs.create("invalid-sw-registration");b.swRegistration=G}})).apply(this,arguments)}function jn(){return(jn=(0,H.Z)(function*(b,G){G?b.vapidKey=G:b.vapidKey||(b.vapidKey=be)})).apply(this,arguments)}function Ur(){return Ur=(0,H.Z)(function*(b,G){if(!navigator)throw Zs.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zs.create("permission-blocked");return yield function on(b,G){return jn.apply(this,arguments)}(b,G?.vapidKey),yield function Jt(b,G){return mn.apply(this,arguments)}(b,G?.serviceWorkerRegistration),function sc(b){return nl.apply(this,arguments)}(b)}),Ur.apply(this,arguments)}function ts(){return(ts=(0,H.Z)(function*(b,G,le){const Fe=function Ui(b){switch(b){case Ir.NOTIFICATION_CLICKED:return"notification_open";case Ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(G);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(Fe,{message_id:le[ie],message_name:le[Xe],message_time:le[et],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ss(){return ss=(0,H.Z)(function*(b,G){const le=G.data;if(!le.isFirebaseMessaging)return;b.onMessageHandler&&le.messageType===Ir.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(re(le)):b.onMessageHandler.next(re(le)));const Fe=le.data;(function K(b){return"object"==typeof b&&!!b&&ie in b})(Fe)&&"1"===Fe["google.c.a.e"]&&(yield function ei(b,G,le){return ts.apply(this,arguments)}(b,le.messageType,Fe))}),ss.apply(this,arguments)}const Pi="@firebase/messaging",cr=b=>{const G=new st(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function Ys(b,G){return ss.apply(this,arguments)}(G,le)),G},wa=b=>{const G=b.getProvider("messaging").getImmediate();return{getToken:Fe=>function mr(b,G){return Ur.apply(this,arguments)}(G,Fe)}};function Bc(){return ns.apply(this,arguments)}function ns(){return(ns=(0,H.Z)(function*(){try{yield(0,Ce.eu)()}catch{return!1}return typeof window<"u"&&(0,Ce.hl)()&&(0,Ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rl(){(0,Ae._registerComponent)(new De.wA("messaging",cr,"PUBLIC")),(0,Ae._registerComponent)(new De.wA("messaging-internal",wa,"PRIVATE")),(0,Ae.registerVersion)(Pi,"0.12.4"),(0,Ae.registerVersion)(Pi,"0.12.4","esm2017")}();const pt="analytics",wn="firebase_id",jc="origin",Ln=6e4,kt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",an="https://www.googletagmanager.com/gtag/js",ci=new Ue.Yd("@firebase/analytics"),Xo=new Ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ms(b){if(!b.startsWith(an)){const G=Xo.create("invalid-gtag-resource",{gtagURL:b});return ci.warn(G.message),""}return b}function ku(b){return Promise.all(b.map(G=>G.catch(le=>le)))}function Lu(){return(Lu=(0,H.Z)(function*(b,G,le,Fe,at,Tt){const Yt=Fe[at];try{if(Yt)yield G[Yt];else{const An=(yield ku(le)).find(_r=>_r.measurementId===at);An&&(yield G[An.appId])}}catch(On){ci.error(On)}b("config",at,Tt)})).apply(this,arguments)}function No(){return(No=(0,H.Z)(function*(b,G,le,Fe,at){try{let Tt=[];if(at&&at.send_to){let Yt=at.send_to;Array.isArray(Yt)||(Yt=[Yt]);const On=yield ku(le);for(const An of Yt){const _r=On.find(qr=>qr.measurementId===An),Hr=_r&&G[_r.appId];if(!Hr){Tt=[];break}Tt.push(Hr)}}0===Tt.length&&(Tt=Object.values(G)),yield Promise.all(Tt),b("event",Fe,at||{})}catch(Tt){ci.error(Tt)}})).apply(this,arguments)}const gs=30,Ci=new class xa{constructor(G={},le=1e3){this.throttleMetadata=G,this.intervalMillis=le}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,le){this.throttleMetadata[G]=le}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function fu(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function xn(){return(xn=(0,H.Z)(function*(b){var G;const{appId:le,apiKey:Fe}=b,at={method:"GET",headers:fu(Fe)},Tt=kt.replace("{app-id}",le),Yt=yield fetch(Tt,at);if(200!==Yt.status&&304!==Yt.status){let On="";try{const An=yield Yt.json();null!==(G=An.error)&&void 0!==G&&G.message&&(On=An.error.message)}catch{}throw Xo.create("config-fetch-failed",{httpStatus:Yt.status,responseMessage:On})}return Yt.json()})).apply(this,arguments)}function Ol(){return(Ol=(0,H.Z)(function*(b,G=Ci,le){const{appId:Fe,apiKey:at,measurementId:Tt}=b.options;if(!Fe)throw Xo.create("no-app-id");if(!at){if(Tt)return{measurementId:Tt,appId:Fe};throw Xo.create("no-api-key")}const Yt=G.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new L;return setTimeout((0,H.Z)(function*(){On.abort()}),void 0!==le?le:Ln),_l({appId:Fe,apiKey:at,measurementId:Tt},Yt,On,G)})).apply(this,arguments)}function _l(b,G,le){return O.apply(this,arguments)}function O(){return O=(0,H.Z)(function*(b,{throttleEndTimeMillis:G,backoffCount:le},Fe,at=Ci){var Tt;const{appId:Yt,measurementId:On}=b;try{yield function B(b,G){return new Promise((le,Fe)=>{const at=Math.max(G-Date.now(),0),Tt=setTimeout(le,at);b.addEventListener(()=>{clearTimeout(Tt),Fe(Xo.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(Fe,G)}catch(An){if(On)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${On} provided in the "measurementId" field in the local Firebase config. [${An?.message}]`),{appId:Yt,measurementId:On};throw An}try{const An=yield function $s(b){return xn.apply(this,arguments)}(b);return at.deleteThrottleMetadata(Yt),An}catch(An){const _r=An;if(!function W(b){if(!(b instanceof Ce.ZR&&b.customData))return!1;const G=Number(b.customData.httpStatus);return 429===G||500===G||503===G||504===G}(_r)){if(at.deleteThrottleMetadata(Yt),On)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${On} provided in the "measurementId" field in the local Firebase config. [${_r?.message}]`),{appId:Yt,measurementId:On};throw An}const Hr=503===Number(null===(Tt=_r?.customData)||void 0===Tt?void 0:Tt.httpStatus)?(0,Ce.$s)(le,at.intervalMillis,gs):(0,Ce.$s)(le,at.intervalMillis),qr={throttleEndTimeMillis:Date.now()+Hr,backoffCount:le+1};return at.setThrottleMetadata(Yt,qr),ci.debug(`Calling attemptFetch again in ${Hr} millis`),_l(b,qr,Fe,at)}}),O.apply(this,arguments)}class L{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}let ee,Do;function Re(){return(Re=(0,H.Z)(function*(b,G,le,Fe,at){if(at&&at.global)b("event",le,Fe);else{const Tt=yield G;b("event",le,Object.assign(Object.assign({},Fe),{send_to:Tt}))}})).apply(this,arguments)}function lc(){return(lc=(0,H.Z)(function*(){if(!(0,Ce.hl)())return ci.warn(Xo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ce.eu)()}catch(b){return ci.warn(Xo.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function xl(){return xl=(0,H.Z)(function*(b,G,le,Fe,at,Tt,Yt){var On;const An=function ac(b){return Ol.apply(this,arguments)}(b);An.then(zr=>{le[zr.measurementId]=zr.appId,b.options.measurementId&&zr.measurementId!==b.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zr=>ci.error(zr)),G.push(An);const _r=function pu(){return lc.apply(this,arguments)}().then(zr=>{if(zr)return Fe.getId()}),[Hr,qr]=yield Promise.all([An,_r]);(function Wl(b){const G=window.document.getElementsByTagName("script");for(const le of Object.values(G))if(le.src&&le.src.includes(an)&&le.src.includes(b))return le;return null})(Tt)||function hu(b,G){const le=function du(b,G){let le;return window.trustedTypes&&(le=window.trustedTypes.createPolicy(b,G)),le}("firebase-js-sdk-policy",{createScriptURL:ms}),Fe=document.createElement("script"),at=`${an}?l=${b}&id=${G}`;Fe.src=le?le?.createScriptURL(at):at,Fe.async=!0,document.head.appendChild(Fe)}(Tt,Hr.measurementId),Do&&(at("consent","default",Do),function Kl(b){Do=b}(void 0)),at("js",new Date);const Il=null!==(On=Yt?.config)&&void 0!==On?On:{};return Il[jc]="firebase",Il.update=!0,null!=qr&&(Il[wn]=qr),at("config",Hr.measurementId,Il),ee&&(at("set",ee),function Na(b){ee=b}(void 0)),Hr.measurementId}),xl.apply(this,arguments)}class Xs{constructor(G){this.app=G}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},Fu=[];const ud={};let al,eo,Gs="dataLayer",mu=!1;function Hc(b,G,le){!function gu(){const b=[];if((0,Ce.ru)()&&b.push("This is a browser extension environment."),(0,Ce.zI)()||b.push("Cookies are not available."),b.length>0){const G=b.map((Fe,at)=>`(${at+1}) ${Fe}`).join(" "),le=Xo.create("invalid-analytics-context",{errorInfo:G});ci.warn(le.message)}}();const Fe=b.options.appId;if(!Fe)throw Xo.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Xo.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=po[Fe])throw Xo.create("already-exists",{id:Fe});if(!mu){!function Vo(b){let G=[];Array.isArray(window[b])?G=window[b]:window[b]=G}(Gs);const{wrappedGtag:Tt,gtagCore:Yt}=function sl(b,G,le,Fe,at){let Tt=function(...Yt){window[Fe].push(arguments)};return window[at]&&"function"==typeof window[at]&&(Tt=window[at]),window[at]=function Dr(b,G,le,Fe){function Tt(){return Tt=(0,H.Z)(function*(Yt,...On){try{if("event"===Yt){const[An,_r]=On;yield function Pl(b,G,le,Fe,at){return No.apply(this,arguments)}(b,G,le,An,_r)}else if("config"===Yt){const[An,_r]=On;yield function il(b,G,le,Fe,at,Tt){return Lu.apply(this,arguments)}(b,G,le,Fe,An,_r)}else if("consent"===Yt){const[An]=On;b("consent","update",An)}else if("get"===Yt){const[An,_r,Hr]=On;b("get",An,_r,Hr)}else if("set"===Yt){const[An]=On;b("set",An)}else b(Yt,...On)}catch(An){ci.error(An)}}),Tt.apply(this,arguments)}return function at(Yt){return Tt.apply(this,arguments)}}(Tt,b,G,le),{gtagCore:Tt,wrappedGtag:window[at]}}(po,Fu,ud,Gs,"gtag");eo=Tt,al=Yt,mu=!0}return po[Fe]=function xd(b,G,le,Fe,at,Tt,Yt){return xl.apply(this,arguments)}(b,Fu,ud,G,al,Gs,le),new Xs(b)}function Gc(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,H.Z)(function*(){if((0,Ce.ru)()||!(0,Ce.zI)()||!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}const ql="@firebase/analytics";!function dd(){(0,Ae._registerComponent)(new De.wA(pt,(G,{options:le})=>Hc(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,Ae._registerComponent)(new De.wA("analytics-internal",function b(G){try{const le=G.getProvider(pt).getImmediate();return{logEvent:(Fe,at,Tt)=>function Wc(b,G,le,Fe){b=(0,Ce.m9)(b),function _e(b,G,le,Fe,at){return Re.apply(this,arguments)}(eo,po[b.app.options.appId],G,le,Fe).catch(at=>ci.error(at))}(le,Fe,at,Tt)}}catch(le){throw Xo.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,Ae.registerVersion)(ql,"0.10.0"),(0,Ae.registerVersion)(ql,"0.10.0","esm2017")}();var Kc=k(1954),vu=k(2631);const Bo=new class ju extends vu.v{}(class Bu extends Kc.o{constructor(G,le){super(G,le),this.scheduler=G,this.work=le}schedule(G,le=0){return le>0?super.schedule(G,le):(this.delay=le,this.state=G,this.scheduler.flush(this),this)}execute(G,le){return le>0||this.closed?super.execute(G,le):this._execute(G,le)}requestAsyncId(G,le,Fe=0){return null!=Fe&&Fe>0||null==Fe&&this.delay>0?super.requestAsyncId(G,le,Fe):(G.flush(this),0)}});var ca=k(6321),yf=k(9397),as=k(3093),Nl=k(5137);const xs=new g.GfV("7.6.1"),fs="__angularfire_symbol__analyticsIsSupportedValue",mo="__angularfire_symbol__analyticsIsSupported",Cc="__angularfire_symbol__remoteConfigIsSupportedValue",ea="__angularfire_symbol__remoteConfigIsSupported",cc="__angularfire_symbol__messagingIsSupportedValue",kd="__angularfire_symbol__messagingIsSupported";function ta(b,G,le){if(G){if(1===G.length)return G[0];const Tt=G.filter(Yt=>Yt.app===le);if(1===Tt.length)return Tt[0]}return le.container.getProvider(b).getImmediate({optional:!0})}globalThis[mo]||(globalThis[mo]=Gc().then(b=>globalThis[fs]=b).catch(()=>globalThis[fs]=!1)),globalThis[kd]||(globalThis[kd]=Bc().then(b=>globalThis[cc]=b).catch(()=>globalThis[cc]=!1)),globalThis[ea]||(globalThis[ea]=Zo().then(b=>globalThis[Cc]=b).catch(()=>globalThis[Cc]=!1));const Eu=(b,G)=>{const le=G?[G]:(0,z.C6)(),Fe=[];return le.forEach(at=>{at.container.getProvider(b).instances.forEach(Yt=>{Fe.includes(Yt)||Fe.push(Yt)})}),Fe};function ll(){}class kl{constructor(G,le=Bo){this.zone=G,this.delegate=le}now(){return this.delegate.now()}schedule(G,le,Fe){const at=this.zone;return this.delegate.schedule(function(Yt){at.runGuarded(()=>{G.apply(this,[Yt])})},le,Fe)}}class cp{constructor(G){this.zone=G,this.task=null}call(G,le){const Fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ll,{},ll,ll)),le.pipe((0,yf.b)({next:Fe,complete:Fe,error:Fe})).subscribe(G).add(Fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dc=(()=>{class b{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new kl(Zone.current)),this.insideAngular=le.run(()=>new kl(Zone.current,ca.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(le){return new(le||b)(g.LFG(g.R0b))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function cl(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function vl(b){return b.pipe((0,as.Q)(cl().outsideAngular))}function ul(b){return cl(),function qc(b){return function(le){return(le=le.lift(new cp(b.ngZone))).pipe((0,Nl.R)(b.outsideAngular),(0,as.Q)(b.insideAngular))}}(cl())(b)}},9058:(un,it,k)=>{k.d(it,{$s:()=>Nt,BH:()=>He,DV:()=>Er,Dv:()=>qt,G6:()=>Sr,GJ:()=>xr,L:()=>Oe,LL:()=>Ee,Pz:()=>Qe,Sg:()=>vt,UG:()=>Ke,UI:()=>ui,US:()=>De,Wj:()=>yr,Wl:()=>jt,Yr:()=>Nr,ZB:()=>Be,ZR:()=>tt,aH:()=>Le,b$:()=>Nn,cI:()=>qe,dS:()=>Si,eu:()=>Dt,g5:()=>H,gK:()=>ur,gQ:()=>Gn,h$:()=>ke,hl:()=>ht,hu:()=>z,jU:()=>Bt,lb:()=>nr,m9:()=>pr,ne:()=>Tr,p$:()=>Se,pd:()=>Wn,r3:()=>Fn,ru:()=>Et,tV:()=>ye,uI:()=>Ge,ug:()=>di,vZ:()=>Kn,w1:()=>er,w9:()=>Bn,xO:()=>yi,xb:()=>kr,z$:()=>Pt,zI:()=>rt,zd:()=>kn});const g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},z=function(ve,Q){if(!ve)throw H(Q)},H=function(ve){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ve)},Ae=function(ve){const Q=[];let X=0;for(let pe=0;pe<ve.length;pe++){let de=ve.charCodeAt(pe);de<128?Q[X++]=de:de<2048?(Q[X++]=de>>6|192,Q[X++]=63&de|128):55296==(64512&de)&&pe+1<ve.length&&56320==(64512&ve.charCodeAt(pe+1))?(de=65536+((1023&de)<<10)+(1023&ve.charCodeAt(++pe)),Q[X++]=de>>18|240,Q[X++]=de>>12&63|128,Q[X++]=de>>6&63|128,Q[X++]=63&de|128):(Q[X++]=de>>12|224,Q[X++]=de>>6&63|128,Q[X++]=63&de|128)}return Q},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,Q){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let de=0;de<ve.length;de+=3){const je=ve[de],St=de+1<ve.length,tn=St?ve[de+1]:0,Un=de+2<ve.length,dn=Un?ve[de+2]:0;let Yr=(15&tn)<<2|dn>>6,dt=63&dn;Un||(dt=64,St||(Yr=64)),pe.push(X[je>>2],X[(3&je)<<4|tn>>4],X[Yr],X[dt])}return pe.join("")},encodeString(ve,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(ve):this.encodeByteArray(Ae(ve),Q)},decodeString(ve,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(ve):function(ve){const Q=[];let X=0,pe=0;for(;X<ve.length;){const de=ve[X++];if(de<128)Q[pe++]=String.fromCharCode(de);else if(de>191&&de<224){const je=ve[X++];Q[pe++]=String.fromCharCode((31&de)<<6|63&je)}else if(de>239&&de<365){const Un=((7&de)<<18|(63&ve[X++])<<12|(63&ve[X++])<<6|63&ve[X++])-65536;Q[pe++]=String.fromCharCode(55296+(Un>>10)),Q[pe++]=String.fromCharCode(56320+(1023&Un))}else{const je=ve[X++],St=ve[X++];Q[pe++]=String.fromCharCode((15&de)<<12|(63&je)<<6|63&St)}}return Q.join("")}(this.decodeStringToByteArray(ve,Q))},decodeStringToByteArray(ve,Q){this.init_();const X=Q?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let de=0;de<ve.length;){const je=X[ve.charAt(de++)],tn=de<ve.length?X[ve.charAt(de)]:0;++de;const dn=de<ve.length?X[ve.charAt(de)]:64;++de;const qn=de<ve.length?X[ve.charAt(de)]:64;if(++de,null==je||null==tn||null==dn||null==qn)throw new Ue;pe.push(je<<2|tn>>4),64!==dn&&(pe.push(tn<<4&240|dn>>2),64!==qn&&pe.push(dn<<6&192|qn))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(ve){const Q=Ae(ve);return De.encodeByteArray(Q,!0)},Oe=function(ve){return ke(ve).replace(/\./g,"")},ye=function(ve){try{return De.decodeString(ve,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function Se(ve){return Be(void 0,ve)}function Be(ve,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return Q}for(const X in Q)!Q.hasOwnProperty(X)||!ut(X)||(ve[X]=Be(ve[X],Q[X]));return ve}function ut(ve){return"__proto__"!==ve}const Ft=()=>{try{return function ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=ve&&ye(ve[1]);return Q&&JSON.parse(Q)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},Le=()=>{var ve;return null===(ve=Ft())||void 0===ve?void 0:ve.config},Qe=ve=>{var Q;return null===(Q=Ft())||void 0===Q?void 0:Q[`_${ve}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,X)=>{this.resolve=Q,this.reject=X})}wrapCallback(Q){return(X,pe)=>{X?this.reject(X):this.resolve(pe),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(X):Q(X,pe))}}}function vt(ve,Q){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=Q||"demo-project",de=ve.iat||0,je=ve.sub||ve.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:de,exp:de+3600,auth_time:de,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(St)),""].join(".")}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function Ke(){var ve;const Q=null===(ve=Ft())||void 0===ve?void 0:ve.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Bt(){return"object"==typeof self&&self.self===self}function Et(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function er(){const ve=Pt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function Nr(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN}function Sr(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ht(){try{return"object"==typeof indexedDB}catch{return!1}}function Dt(){return new Promise((ve,Q)=>{try{let X=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(pe);de.onsuccess=()=>{de.result.close(),X||self.indexedDB.deleteDatabase(pe),ve(!0)},de.onupgradeneeded=()=>{X=!1},de.onerror=()=>{var je;Q((null===(je=de.error)||void 0===je?void 0:je.message)||"")}}catch(X){Q(X)}})}function rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(Q,X,pe){super(X),this.code=Q,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(Q,X,pe){this.service=Q,this.serviceName=X,this.errors=pe}create(Q,...X){const pe=X[0]||{},de=`${this.service}/${Q}`,je=this.errors[Q],St=je?function Ve(ve,Q){return ve.replace(Te,(X,pe)=>{const de=Q[pe];return null!=de?String(de):`<${pe}?>`})}(je,pe):"Error";return new tt(de,`${this.serviceName}: ${St} (${de}).`,pe)}}const Te=/\{\$([^}]+)}/g;function qe(ve){return JSON.parse(ve)}function jt(ve){return JSON.stringify(ve)}const en=function(ve){let Q={},X={},pe={},de="";try{const je=ve.split(".");Q=qe(ye(je[0])||""),X=qe(ye(je[1])||""),de=je[2],pe=X.d||{},delete X.d}catch{}return{header:Q,claims:X,data:pe,signature:de}},Bn=function(ve){const X=en(ve).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},xr=function(ve){const Q=en(ve).claims;return"object"==typeof Q&&!0===Q.admin};function Fn(ve,Q){return Object.prototype.hasOwnProperty.call(ve,Q)}function Er(ve,Q){if(Object.prototype.hasOwnProperty.call(ve,Q))return ve[Q]}function kr(ve){for(const Q in ve)if(Object.prototype.hasOwnProperty.call(ve,Q))return!1;return!0}function ui(ve,Q,X){const pe={};for(const de in ve)Object.prototype.hasOwnProperty.call(ve,de)&&(pe[de]=Q.call(X,ve[de],de,ve));return pe}function Kn(ve,Q){if(ve===Q)return!0;const X=Object.keys(ve),pe=Object.keys(Q);for(const de of X){if(!pe.includes(de))return!1;const je=ve[de],St=Q[de];if(hr(je)&&hr(St)){if(!Kn(je,St))return!1}else if(je!==St)return!1}for(const de of pe)if(!X.includes(de))return!1;return!0}function hr(ve){return null!==ve&&"object"==typeof ve}function yi(ve){const Q=[];for(const[X,pe]of Object.entries(ve))Array.isArray(pe)?pe.forEach(de=>{Q.push(encodeURIComponent(X)+"="+encodeURIComponent(de))}):Q.push(encodeURIComponent(X)+"="+encodeURIComponent(pe));return Q.length?"&"+Q.join("&"):""}function kn(ve){const Q={};return ve.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[de,je]=pe.split("=");Q[decodeURIComponent(de)]=decodeURIComponent(je)}}),Q}function Wn(ve){const Q=ve.indexOf("?");if(!Q)return"";const X=ve.indexOf("#",Q);return ve.substring(Q,X>0?X:void 0)}class Gn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Q,X){X||(X=0);const pe=this.W_;if("string"==typeof Q)for(let qn=0;qn<16;qn++)pe[qn]=Q.charCodeAt(X)<<24|Q.charCodeAt(X+1)<<16|Q.charCodeAt(X+2)<<8|Q.charCodeAt(X+3),X+=4;else for(let qn=0;qn<16;qn++)pe[qn]=Q[X]<<24|Q[X+1]<<16|Q[X+2]<<8|Q[X+3],X+=4;for(let qn=16;qn<80;qn++){const Yr=pe[qn-3]^pe[qn-8]^pe[qn-14]^pe[qn-16];pe[qn]=4294967295&(Yr<<1|Yr>>>31)}let dn,Rn,de=this.chain_[0],je=this.chain_[1],St=this.chain_[2],tn=this.chain_[3],Un=this.chain_[4];for(let qn=0;qn<80;qn++){qn<40?qn<20?(dn=tn^je&(St^tn),Rn=1518500249):(dn=je^St^tn,Rn=1859775393):qn<60?(dn=je&St|tn&(je|St),Rn=2400959708):(dn=je^St^tn,Rn=3395469782);const Yr=(de<<5|de>>>27)+dn+Un+Rn+pe[qn]&4294967295;Un=tn,tn=St,St=4294967295&(je<<30|je>>>2),je=de,de=Yr}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+St&4294967295,this.chain_[3]=this.chain_[3]+tn&4294967295,this.chain_[4]=this.chain_[4]+Un&4294967295}update(Q,X){if(null==Q)return;void 0===X&&(X=Q.length);const pe=X-this.blockSize;let de=0;const je=this.buf_;let St=this.inbuf_;for(;de<X;){if(0===St)for(;de<=pe;)this.compress_(Q,de),de+=this.blockSize;if("string"==typeof Q){for(;de<X;)if(je[St]=Q.charCodeAt(de),++St,++de,St===this.blockSize){this.compress_(je),St=0;break}}else for(;de<X;)if(je[St]=Q[de],++St,++de,St===this.blockSize){this.compress_(je),St=0;break}}this.inbuf_=St,this.total_+=X}digest(){const Q=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&X,X/=256;this.compress_(this.buf_);let pe=0;for(let de=0;de<5;de++)for(let je=24;je>=0;je-=8)Q[pe]=this.chain_[de]>>je&255,++pe;return Q}}function Tr(ve,Q){const X=new ir(ve,Q);return X.subscribe.bind(X)}class ir{constructor(Q,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{Q(this)}).catch(pe=>{this.error(pe)})}next(Q){this.forEachObserver(X=>{X.next(Q)})}error(Q){this.forEachObserver(X=>{X.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,X,pe){let de;if(void 0===Q&&void 0===X&&void 0===pe)throw new Error("Missing Observer.");de=function Ar(ve,Q){if("object"!=typeof ve||null===ve)return!1;for(const X of Q)if(X in ve&&"function"==typeof ve[X])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:X,complete:pe},void 0===de.next&&(de.next=Lr),void 0===de.error&&(de.error=Lr),void 0===de.complete&&(de.complete=Lr);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),je}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,Q)}sendOne(Q,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{X(this.observers[Q])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lr(){}const qt=function(ve,Q,X,pe){let de;if(pe<Q?de="at least "+Q:pe>X&&(de=0===X?"none":"no more than "+X),de)throw new Error(ve+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+de+".")};function ur(ve,Q){return`${ve} failed: ${Q} argument `}function yr(ve,Q,X,pe){if((!pe||X)&&"function"!=typeof X)throw new Error(ur(ve,Q)+"must be a valid function.")}function nr(ve,Q,X,pe){if((!pe||X)&&("object"!=typeof X||null===X))throw new Error(ur(ve,Q)+"must be a valid context object.")}const Si=function(ve){const Q=[];let X=0;for(let pe=0;pe<ve.length;pe++){let de=ve.charCodeAt(pe);if(de>=55296&&de<=56319){const je=de-55296;pe++,z(pe<ve.length,"Surrogate pair missing trail surrogate."),de=65536+(je<<10)+(ve.charCodeAt(pe)-56320)}de<128?Q[X++]=de:de<2048?(Q[X++]=de>>6|192,Q[X++]=63&de|128):de<65536?(Q[X++]=de>>12|224,Q[X++]=de>>6&63|128,Q[X++]=63&de|128):(Q[X++]=de>>18|240,Q[X++]=de>>12&63|128,Q[X++]=de>>6&63|128,Q[X++]=63&de|128)}return Q},di=function(ve){let Q=0;for(let X=0;X<ve.length;X++){const pe=ve.charCodeAt(X);pe<128?Q++:pe<2048?Q+=2:pe>=55296&&pe<=56319?(Q+=4,X++):Q+=3}return Q},Jr=1e3,$t=2,Je=144e5,Gt=.5;function Nt(ve,Q=Jr,X=$t){const pe=Q*Math.pow(X,ve),de=Math.round(Gt*pe*(Math.random()-.5)*2);return Math.min(Je,pe+de)}function pr(ve){return ve&&ve._delegate?ve._delegate:ve}},8968:(un,it,k)=>{k.d(it,{b:()=>Ue});var g=k(5619),z=k(2096),H=k(9397),Ae=k(6328),Ce=k(4716),De=k(5879);let Ue=(()=>{var ke;class Oe{constructor(){this.loadingSubject=new g.X(!1),this.loading$=this.loadingSubject.asObservable(),console.log("Loading service created ...")}showLoaderUntilCompleted(Se){return(0,z.of)(null).pipe((0,H.b)(()=>this.loadingOn()),(0,Ae.b)(()=>Se),(0,Ce.x)(()=>this.loadingOff()))}loadingOn(){this.loadingSubject.next(!0)}loadingOff(){this.loadingSubject.next(!1)}}return(ke=Oe).\u0275fac=function(Se){return new(Se||ke)},ke.\u0275prov=De.Yz7({token:ke,factory:ke.\u0275fac}),Oe})()},1806:(un,it,k)=>{k.d(it,{N:()=>g});const g={production:!1,apiUrl:"http://localhost:8080",firebaseConfig:{apiKey:"AIzaSyC88F5b2MuA0T3-Z118s-vGK3MTjdc70D8",authDomain:"disertation-recipes-app.firebaseapp.com",projectId:"disertation-recipes-app",storageBucket:"disertation-recipes-app.appspot.com",messagingSenderId:"767009823356",appId:"1:767009823356:web:efc82aeada7a4c3fe007f9"},openaiConfig:{apiKey:"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"}}},5869:(un,it,k)=>{k.d(it,{g:()=>H});var g=k(5879),z=k(2425);let H=(()=>{var Ae;class Ce{constructor(Ue){this.toastr=Ue,this.toastClass={timeOut:7e3,progressBar:!0,titleClass:"small"}}showSuccess(Ue,ke){console.log("In showSuccess"),this.toastr.success(ke,Ue,this.toastClass)}showError(Ue,ke){this.toastr.error(ke,Ue,this.toastClass)}showWarning(Ue,ke){this.toastr.warning(ke,Ue,this.toastClass)}showInfo(Ue,ke){this.toastr.info(ke,Ue,this.toastClass)}}return(Ae=Ce).\u0275fac=function(Ue){return new(Ue||Ae)(g.LFG(z._W))},Ae.\u0275prov=g.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ce})()},3465:(un,it,k)=>{k.d(it,{G:()=>Se});var g=k(6223),z=k(5879),H=k(5777),Ae=k(6814),Ce=k(1662);function De(Be,ut){1&Be&&(z.TgZ(0,"div"),z._uU(1," Email is required "),z.qZA())}function Ue(Be,ut){if(1&Be&&(z.TgZ(0,"div",37),z.YNc(1,De,2,0,"div",38),z.qZA()),2&Be){const ct=z.oxw();z.xp6(1),z.Q6J("ngIf",ct.form.controls.email.errors.required)}}function ke(Be,ut){1&Be&&(z.TgZ(0,"div"),z._uU(1," Password is required "),z.qZA())}function Oe(Be,ut){if(1&Be&&(z.TgZ(0,"div",37),z.YNc(1,ke,2,0,"div",38),z.qZA()),2&Be){const ct=z.oxw();z.xp6(1),z.Q6J("ngIf",ct.form.controls.password.errors.required)}}const ye=function(Be){return{"is-invalid":Be}};let Se=(()=>{var Be;class ut{constructor(wt){this.authService=wt,this.form=new g.cw({email:new g.NI("andreea.apriotese11@gmail.com",[g.kI.required]),password:new g.NI("Concordia12#",[g.kI.required])})}ngOnInit(){}isNotValid(){return!(this.form.controls.email.valid&&this.form.controls.password.valid)}onSubmit(){this.form.invalid||this.authService.SignIn(this.form.controls.email.value,this.form.controls.password.value)}googleLogin(){this.authService.GoogleAuth()}facebookLogin(){this.authService.FacebookAuth()}}return(Be=ut).\u0275fac=function(wt){return new(wt||Be)(z.Y36(H.e))},Be.\u0275cmp=z.Xpm({type:Be,selectors:[["app-login"]],decls:57,vars:10,consts:[[1,"main-container"],["src","../../../assets/images/login.jpg",1,"blur-sm"],[1,"login-container","flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],[1,"w-full","bg-white","rounded-lg","shadow-2xl","md:mt-0","sm:max-w-md","xl:p-0"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl"],["action","#",1,"space-y-4","md:space-y-6",3,"formGroup","ngSubmit"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","email","name","email","id","email","placeholder","name@company.com","formControlName","email","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","formControlName","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"ngClass"],[1,"flex","items-center","justify-between","my-4"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","aria-describedby","remember","type","checkbox","required","",1,"w-4","h-4","border","border-gray-300","rounded","bg-gray-50","focus:ring-3","focus:ring-primary-300"],[1,"ml-3","text-sm"],["for","remember",1,"text-gray-500"],["routerLink","/auth/forgot-password",1,"text-sm","font-medium","text-amber-500","hover:underline"],["type","submit",1,"my-4","w-full","text-white","bg-amber-500","text-gray-500","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center",3,"disabled"],[1,"d-flex","justify-content-center"],[1,"small"],[1,"d-flex","flex-row","justify-content-around"],[1,"flex","items-center","bg-white","border","border-gray-300","rounded-lg","shadow-md","max-w-xs","px-6","py-2","text-sm","font-medium","text-gray-800","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","-0.5 0 48 48","version","1.1",1,"h-6","w-6","mr-2"],["id","Icons","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Color-","transform","translate(-401.000000, -860.000000)"],["id","Google","transform","translate(401.000000, 860.000000)"],["d","M9.82727273,24 C9.82727273,22.4757333 10.0804318,21.0144 10.5322727,19.6437333 L2.62345455,13.6042667 C1.08206818,16.7338667 0.213636364,20.2602667 0.213636364,24 C0.213636364,27.7365333 1.081,31.2608 2.62025,34.3882667 L10.5247955,28.3370667 C10.0772273,26.9728 9.82727273,25.5168 9.82727273,24","id","Fill-1","fill","#FBBC05"],["d","M23.7136364,10.1333333 C27.025,10.1333333 30.0159091,11.3066667 32.3659091,13.2266667 L39.2022727,6.4 C35.0363636,2.77333333 29.6954545,0.533333333 23.7136364,0.533333333 C14.4268636,0.533333333 6.44540909,5.84426667 2.62345455,13.6042667 L10.5322727,19.6437333 C12.3545909,14.112 17.5491591,10.1333333 23.7136364,10.1333333","id","Fill-2","fill","#EB4335"],["d","M23.7136364,37.8666667 C17.5491591,37.8666667 12.3545909,33.888 10.5322727,28.3562667 L2.62345455,34.3946667 C6.44540909,42.1557333 14.4268636,47.4666667 23.7136364,47.4666667 C29.4455,47.4666667 34.9177955,45.4314667 39.0249545,41.6181333 L31.5177727,35.8144 C29.3995682,37.1488 26.7323182,37.8666667 23.7136364,37.8666667","id","Fill-3","fill","#34A853"],["d","M46.1454545,24 C46.1454545,22.6133333 45.9318182,21.12 45.6113636,19.7333333 L23.7136364,19.7333333 L23.7136364,28.8 L36.3181818,28.8 C35.6879545,31.8912 33.9724545,34.2677333 31.5177727,35.8144 L39.0249545,41.6181333 C43.3393409,37.6138667 46.1454545,31.6490667 46.1454545,24","id","Fill-4","fill","#4285F4"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 48 48","version","1.1",1,"h-6","w-6","mr-2"],["id","Color-","transform","translate(-200.000000, -160.000000)","fill","#4460A0"],["d","M225.638355,208 L202.649232,208 C201.185673,208 200,206.813592 200,205.350603 L200,162.649211 C200,161.18585 201.185859,160 202.649232,160 L245.350955,160 C246.813955,160 248,161.18585 248,162.649211 L248,205.350603 C248,206.813778 246.813769,208 245.350955,208 L233.119305,208 L233.119305,189.411755 L239.358521,189.411755 L240.292755,182.167586 L233.119305,182.167586 L233.119305,177.542641 C233.119305,175.445287 233.701712,174.01601 236.70929,174.01601 L240.545311,174.014333 L240.545311,167.535091 C239.881886,167.446808 237.604784,167.24957 234.955552,167.24957 C229.424834,167.24957 225.638355,170.625526 225.638355,176.825209 L225.638355,182.167586 L219.383122,182.167586 L219.383122,189.411755 L225.638355,189.411755 L225.638355,208 L225.638355,208 Z","id","Facebook"],[1,"text-sm","font-light","text-gray-500","text-center"],["routerLink","/auth/register",1,"font-medium","text-amber-500","hover:underline"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(wt,ft){1&wt&&(z.TgZ(0,"div",0),z._UZ(1,"img",1),z.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),z._uU(6," Sign in to your account "),z.qZA(),z.TgZ(7,"form",6),z.NdJ("ngSubmit",function(){return ft.onSubmit()}),z.TgZ(8,"div")(9,"label",7),z._uU(10,"Your email"),z.qZA(),z._UZ(11,"input",8),z.YNc(12,Ue,2,1,"div",9),z.qZA(),z.TgZ(13,"div")(14,"label",10),z._uU(15,"Password"),z.qZA(),z._UZ(16,"input",11),z.YNc(17,Oe,2,1,"div",9),z.qZA(),z.TgZ(18,"div",12)(19,"div",13)(20,"div",14),z._UZ(21,"input",15),z.qZA(),z.TgZ(22,"div",16)(23,"label",17),z._uU(24,"Remember me"),z.qZA()()(),z.TgZ(25,"a",18),z._uU(26,"Forgot password?"),z.qZA()(),z.TgZ(27,"button",19),z._uU(28," Sign in "),z.qZA(),z.TgZ(29,"div",20),z._UZ(30,"hr"),z.TgZ(31,"p",21),z._uU(32,"Or continue with"),z.qZA(),z._UZ(33,"hr"),z.qZA(),z.TgZ(34,"div",22)(35,"button",23),z.NdJ("click",function(){return ft.googleLogin()}),z.O4$(),z.TgZ(36,"svg",24)(37,"g",25)(38,"g",26)(39,"g",27),z._UZ(40,"path",28)(41,"path",29)(42,"path",30)(43,"path",31),z.qZA()()()(),z.kcU(),z.TgZ(44,"span"),z._uU(45,"Google"),z.qZA()(),z.TgZ(46,"button",23),z.NdJ("click",function(){return ft.facebookLogin()}),z.O4$(),z.TgZ(47,"svg",32)(48,"g",25)(49,"g",33),z._UZ(50,"path",34),z.qZA()()(),z.kcU(),z.TgZ(51,"span"),z._uU(52,"Facebook"),z.qZA()()(),z.TgZ(53,"p",35),z._uU(54," Don\u2019t have an account yet? "),z.TgZ(55,"a",36),z._uU(56,"Sign up"),z.qZA()()()()()()()),2&wt&&(z.xp6(7),z.Q6J("formGroup",ft.form),z.xp6(4),z.Q6J("ngClass",z.VKq(6,ye,ft.form.controls.email)),z.xp6(1),z.Q6J("ngIf",ft.form.controls.email.invalid&&(ft.form.controls.email.touched||ft.form.controls.email.dirty)),z.xp6(4),z.Q6J("ngClass",z.VKq(8,ye,ft.form.controls.password.errors)),z.xp6(1),z.Q6J("ngIf",ft.form.controls.password.invalid&&(ft.form.controls.password.touched||ft.form.controls.password.dirty)),z.xp6(10),z.Q6J("disabled",ft.isNotValid()))},dependencies:[Ae.mk,Ae.O5,g._Y,g.Fj,g.JJ,g.JL,g.Q7,Ce.rH,g.sg,g.u],styles:[".main-container[_ngcontent-%COMP%]{height:100vh;background-color:#fafafa}.main-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center center;position:absolute;top:0;left:0}.main-container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{z-index:1000;position:relative;height:100%;display:flex}button[_ngcontent-%COMP%]:disabled{background-color:gray}"]}),ut})()},5658:(un,it,k)=>{k.d(it,{B:()=>ke});var g=k(5619),z=k(7398),H=k(1806),Ae=k(5879),Ce=k(1662),De=k(9862),Ue=k(1890);let ke=(()=>{var Oe;class ye{constructor(Be,ut,ct){this.router=Be,this.http=ut,this.fridgeService=ct,this.userSubject=new g.X(JSON.parse(localStorage.getItem("user"))),this.user=this.userSubject.asObservable(),this.loggedUser=new g.X(JSON.parse(localStorage.getItem("loggedUser"))),this.loggedUser$=this.loggedUser.asObservable()}get userValue(){return this.userSubject.value}get loggedUserValue(){return this.loggedUser.value}updateUserIngredientCollection(){return this.fridgeService.getAllIngredientsByUserId(this.loggedUserValue.id)}updateUser(Be){console.log(Be),this.loggedUser.next(Be),console.log(this.loggedUser.value)}getUserByEmail(Be){return this.http.get(`${H.N.apiUrl}/users?email=${Be}`)}logout(){localStorage.removeItem("user"),localStorage.removeItem("loggedUser"),this.userSubject.next(null),this.loggedUser.next(null),this.router.navigate(["/account/login"])}register(Be){return this.http.post(`${H.N.apiUrl}/users/register`,Be)}getAll(){return this.http.get(`${H.N.apiUrl}/users`)}getById(Be){return this.http.get(`${H.N.apiUrl}/users/${Be}`)}delete(Be){return this.http.delete(`${H.N.apiUrl}/users/${Be}`).pipe((0,z.U)(ut=>(Be==this.loggedUserValue?.id&&this.logout(),ut)))}}return(Oe=ye).\u0275fac=function(Be){return new(Be||Oe)(Ae.LFG(Ce.F0),Ae.LFG(De.eN),Ae.LFG(Ue.f))},Oe.\u0275prov=Ae.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),ye})()},5777:(un,it,k)=>{k.d(it,{e:()=>gp});var g=k(5861),z=k(9058),H=k(4303),Ae=k(7879),Ce=k(7582),De=k(4537);const Ft=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new Ae.Yd("@firebase/auth");function He(x,...v){Le.logLevel<=Ae.in.ERROR&&Le.error(`Auth (${H.SDK_VERSION}): ${x}`,...v)}function vt(x,...v){throw Bt(x,...v)}function Pt(x,...v){return Bt(x,...v)}function Bt(x,...v){if("string"!=typeof x){const D=v[0],U=[...v.slice(1)];return U[0]&&(U[0].appName=x.name),x._errorFactory.create(D,...U)}return Ye.create(x,...v)}function Et(x,v,...D){if(!x)throw Bt(v,...D)}function Nn(x){const v="INTERNAL ASSERTION FAILED: "+x;throw He(v),new Error(v)}function yn(x,v){x||Nn(v)}function Nr(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Dt{constructor(v,D){this.shortDelay=v,this.longDelay=D,yn(D>v,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Sr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rr(){return"http:"===Nr()||"https:"===Nr()}()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class It{static initialize(v,D,U){this.fetchImpl=v,D&&(this.headersImpl=D),U&&(this.responseImpl=U)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new Dt(3e4,6e4);function Ve(x,v){return x.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:x.tenantId}):v}function Te(x,v,D,U){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(x,v,D,U,he={}){return jt(x,he,(0,g.Z)(function*(){let we={},mt={};U&&("GET"===v?mt=U:we={body:JSON.stringify(U)});const zt=(0,z.xO)(Object.assign({key:x.config.apiKey},mt)).slice(1),pn=yield x._getAdditionalHeaders();return pn["Content-Type"]="application/json",x.languageCode&&(pn["X-Firebase-Locale"]=x.languageCode),It.fetch()(Bn(x,x.config.apiHost,D,zt),Object.assign({method:v,headers:pn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function jt(x,v,D){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(x,v,D){x._canInitEmulator=!1;const U=Object.assign(Object.assign({},tt),v);try{const he=new xr(x),we=yield Promise.race([D(),he.promise]);he.clearNetworkTimeout();const mt=yield we.json();if("needConfirmation"in mt)throw Fn(x,"account-exists-with-different-credential",mt);if(we.ok&&!("errorMessage"in mt))return mt;{const zt=we.ok?mt.errorMessage:mt.error.message,[pn,$n]=zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw Fn(x,"credential-already-in-use",mt);if("EMAIL_EXISTS"===pn)throw Fn(x,"email-already-in-use",mt);if("USER_DISABLED"===pn)throw Fn(x,"user-disabled",mt);const wr=U[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw function Ge(x,v,D){const U=Object.assign(Object.assign({},Ft()),{[v]:D});return new z.LL("auth","Firebase",U).create(v,{appName:x.name})}(x,wr,$n);vt(x,wr)}}catch(he){if(he instanceof z.ZR)throw he;vt(x,"network-request-failed",{message:String(he)})}})).apply(this,arguments)}function Cn(){return(Cn=(0,g.Z)(function*(x,v,D,U,he={}){const we=yield Te(x,v,D,U,he);return"mfaPendingCredential"in we&&vt(x,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function Bn(x,v,D,U){const he=`${v}${D}?${U}`;return x.config.emulator?function rt(x,v){yn(x.emulator,"Emulator should always be set here");const{url:D}=x.emulator;return v?`${D}${v.startsWith("/")?v.slice(1):v}`:D}(x.config,he):`${x.config.apiScheme}://${he}`}class xr{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((D,U)=>{this.timer=setTimeout(()=>U(Pt(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(x,v,D){const U={appName:x.name};D.email&&(U.email=D.email),D.phoneNumber&&(U.phoneNumber=D.phoneNumber);const he=Pt(x,v,U);return he.customData._tokenResponse=D,he}function Ei(){return(Ei=(0,g.Z)(function*(x,v){return Te(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(x,v){return Te(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Tr(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Ar(){return(Ar=(0,g.Z)(function*(x,v=!1){const D=(0,z.m9)(x),U=yield D.getIdToken(v),he=qt(U);Et(he&&he.exp&&he.auth_time&&he.iat,D.auth,"internal-error");const we="object"==typeof he.firebase?he.firebase:void 0,mt=we?.sign_in_provider;return{claims:he,token:U,authTime:Tr(Lr(he.auth_time)),issuedAtTime:Tr(Lr(he.iat)),expirationTime:Tr(Lr(he.exp)),signInProvider:mt||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function Lr(x){return 1e3*Number(x)}function qt(x){const[v,D,U]=x.split(".");if(void 0===v||void 0===D||void 0===U)return He("JWT malformed, contained fewer than 3 sections"),null;try{const he=(0,z.tV)(D);return he?JSON.parse(he):(He("Failed to decode base64 JWT payload"),null)}catch(he){return He("Caught error parsing JWT payload as JSON",he?.toString()),null}}function Qr(x,v){return yr.apply(this,arguments)}function yr(){return(yr=(0,g.Z)(function*(x,v,D=!1){if(D)return v;try{return yield v}catch(U){throw U instanceof z.ZR&&function nr({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(U)&&x.auth.currentUser===x&&(yield x.auth.signOut()),U}})).apply(this,arguments)}class Si{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var D;if(v){const U=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),U}{this.errorBackoff=3e4;const he=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,he)}}schedule(v=!1){var D=this;if(!this.isRunning)return;const U=this.getInterval(v);this.timerId=setTimeout((0,g.Z)(function*(){yield D.iteration()}),U)}iteration(){var v=this;return(0,g.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===D?.code&&v.schedule(!0))}v.schedule()})()}}class di{constructor(v,D){this.createdAt=v,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $r(x){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,g.Z)(function*(x){var v;const D=x.auth,U=yield x.getIdToken(),he=yield Qr(x,function Wn(x,v){return Gn.apply(this,arguments)}(D,{idToken:U}));Et(he?.users.length,D,"internal-error");const we=he.users[0];x._notifyReloadListener(we);const mt=null!==(v=we.providerUserInfo)&&void 0!==v&&v.length?function Nt(x){return x.map(v=>{var{providerId:D}=v,U=(0,Ce._T)(v,["providerId"]);return{providerId:D,uid:U.rawId||"",displayName:U.displayName||null,email:U.email||null,phoneNumber:U.phoneNumber||null,photoURL:U.photoUrl||null}})}(we.providerUserInfo):[],zt=function Gt(x,v){return[...x.filter(U=>!v.some(he=>he.providerId===U.providerId)),...v]}(x.providerData,mt),wr=!!x.isAnonymous&&!(x.email&&we.passwordHash||zt?.length),Vi={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:zt,metadata:new di(we.createdAt,we.lastLoginAt),isAnonymous:wr};Object.assign(x,Vi)}),Jr.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(x){const v=(0,z.m9)(x);yield $r(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Vn(){return(Vn=(0,g.Z)(function*(x,v){const D=yield jt(x,{},(0,g.Z)(function*(){const U=(0,z.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:he,apiKey:we}=x.config,mt=Bn(x,he,"/v1/token",`key=${we}`),zt=yield x._getAdditionalHeaders();return zt["Content-Type"]="application/x-www-form-urlencoded",It.fetch()(mt,{method:"POST",headers:zt,body:U})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){Et(v.idToken,"internal-error"),Et(typeof v.idToken<"u","internal-error"),Et(typeof v.refreshToken<"u","internal-error");const D="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ur(x){const v=qt(x);return Et(v,"internal-error"),Et(typeof v.exp<"u","internal-error"),Et(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,D)}getToken(v,D=!1){var U=this;return(0,g.Z)(function*(){return Et(!U.accessToken||U.refreshToken,v,"user-token-expired"),D||!U.accessToken||U.isExpired?U.refreshToken?(yield U.refresh(v,U.refreshToken),U.accessToken):null:U.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,D){var U=this;return(0,g.Z)(function*(){const{accessToken:he,refreshToken:we,expiresIn:mt}=yield function vn(x,v){return Vn.apply(this,arguments)}(v,D);U.updateTokensAndExpiration(he,we,Number(mt))})()}updateTokensAndExpiration(v,D,U){this.refreshToken=D||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*U}static fromJSON(v,D){const{refreshToken:U,accessToken:he,expirationTime:we}=D,mt=new pr;return U&&(Et("string"==typeof U,"internal-error",{appName:v}),mt.refreshToken=U),he&&(Et("string"==typeof he,"internal-error",{appName:v}),mt.accessToken=he),we&&(Et("number"==typeof we,"internal-error",{appName:v}),mt.expirationTime=we),mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new pr,this.toJSON())}_performRefresh(){return Nn("not implemented")}}function ve(x,v){Et("string"==typeof x||typeof x>"u","internal-error",{appName:v})}class Q{constructor(v){var{uid:D,auth:U,stsTokenManager:he}=v,we=(0,Ce._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=U,this.stsTokenManager=he,this.accessToken=he.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new di(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(v){var D=this;return(0,g.Z)(function*(){const U=yield Qr(D,D.stsTokenManager.getToken(D.auth,v));return Et(U,D.auth,"internal-error"),D.accessToken!==U&&(D.accessToken=U,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),U})()}getIdTokenResult(v){return function ai(x){return Ar.apply(this,arguments)}(this,v)}reload(){return function $t(x){return Je.apply(this,arguments)}(this)}_assign(v){this!==v&&(Et(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(D=>Object.assign({},D)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const D=new Q(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return D.metadata._copy(this.metadata),D}_onReload(v){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,D=!1){var U=this;return(0,g.Z)(function*(){let he=!1;v.idToken&&v.idToken!==U.stsTokenManager.accessToken&&(U.stsTokenManager.updateFromServerResponse(v),he=!0),D&&(yield $r(U)),yield U.auth._persistUserIfCurrent(U),he&&U.auth._notifyListenersIfCurrent(U)})()}delete(){var v=this;return(0,g.Z)(function*(){const D=yield v.getIdToken();return yield Qr(v,function hr(x,v){return Ei.apply(this,arguments)}(v.auth,{idToken:D})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,D){var U,he,we,mt,zt,pn,$n,wr;const Vi=null!==(U=D.displayName)&&void 0!==U?U:void 0,Ll=null!==(he=D.email)&&void 0!==he?he:void 0,Qc=null!==(we=D.phoneNumber)&&void 0!==we?we:void 0,hl=null!==(mt=D.photoURL)&&void 0!==mt?mt:void 0,Ud=null!==(zt=D.tenantId)&&void 0!==zt?zt:void 0,La=null!==(pn=D._redirectEventId)&&void 0!==pn?pn:void 0,Ka=null!==($n=D.createdAt)&&void 0!==$n?$n:void 0,Fl=null!==(wr=D.lastLoginAt)&&void 0!==wr?wr:void 0,{uid:fc,emailVerified:wl,isAnonymous:vh,providerData:pc,stsTokenManager:gd}=D;Et(fc&&gd,v,"internal-error");const Eh=pr.fromJSON(this.name,gd);Et("string"==typeof fc,v,"internal-error"),ve(Vi,v.name),ve(Ll,v.name),Et("boolean"==typeof wl,v,"internal-error"),Et("boolean"==typeof vh,v,"internal-error"),ve(Qc,v.name),ve(hl,v.name),ve(Ud,v.name),ve(La,v.name),ve(Ka,v.name),ve(Fl,v.name);const ni=new Q({uid:fc,auth:v,email:Ll,emailVerified:wl,displayName:Vi,isAnonymous:vh,photoURL:hl,phoneNumber:Qc,tenantId:Ud,stsTokenManager:Eh,createdAt:Ka,lastLoginAt:Fl});return pc&&Array.isArray(pc)&&(ni.providerData=pc.map(Ef=>Object.assign({},Ef))),La&&(ni._redirectEventId=La),ni}static _fromIdTokenResponse(v,D,U=!1){return(0,g.Z)(function*(){const he=new pr;he.updateFromServerResponse(D);const we=new Q({uid:D.localId,auth:v,stsTokenManager:he,isAnonymous:U});return yield $r(we),we})()}}const X=new Map;function pe(x){yn(x instanceof Function,"Expected a class definition");let v=X.get(x);return v?(yn(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,X.set(x,v),v)}const je=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(D,U){var he=this;return(0,g.Z)(function*(){he.storage[D]=U})()}_get(D){var U=this;return(0,g.Z)(function*(){const he=U.storage[D];return void 0===he?null:he})()}_remove(D){var U=this;return(0,g.Z)(function*(){delete U.storage[D]})()}_addListener(D,U){}_removeListener(D,U){}}return x.type="NONE",x})();function St(x,v,D){return`firebase:${x}:${v}:${D}`}class tn{constructor(v,D,U){this.persistence=v,this.auth=D,this.userKey=U;const{config:he,name:we}=this.auth;this.fullUserKey=St(this.userKey,he.apiKey,we),this.fullPersistenceKey=St("persistence",he.apiKey,we),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,g.Z)(function*(){const D=yield v.persistence._get(v.fullUserKey);return D?Q._fromJSON(v.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var D=this;return(0,g.Z)(function*(){if(D.persistence===v)return;const U=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=v,U?D.setCurrentUser(U):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,D,U="authUser"){return(0,g.Z)(function*(){if(!D.length)return new tn(pe(je),v,U);const he=(yield Promise.all(D.map(function(){var $n=(0,g.Z)(function*(wr){if(yield wr._isAvailable())return wr});return function(wr){return $n.apply(this,arguments)}}()))).filter($n=>$n);let we=he[0]||pe(je);const mt=St(U,v.config.apiKey,v.name);let zt=null;for(const $n of D)try{const wr=yield $n._get(mt);if(wr){const Vi=Q._fromJSON(v,wr);$n!==we&&(zt=Vi),we=$n;break}}catch{}const pn=he.filter($n=>$n._shouldAllowMigration);return we._shouldAllowMigration&&pn.length?(we=pn[0],zt&&(yield we._set(mt,zt.toJSON())),yield Promise.all(D.map(function(){var $n=(0,g.Z)(function*(wr){if(wr!==we)try{yield wr._remove(mt)}catch{}});return function(wr){return $n.apply(this,arguments)}}())),new tn(we,v,U)):new tn(we,v,U)})()}}function Un(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(function Yr(x=(0,z.z$)()){return/iemobile/i.test(x)}(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(function dn(x=(0,z.z$)()){return/firefox\//i.test(x)}(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(function ze(x=(0,z.z$)()){return/blackberry/i.test(x)}(v))return"Blackberry";if(function Rt(x=(0,z.z$)()){return/webos/i.test(x)}(v))return"Webos";if(function Rn(x=(0,z.z$)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}(v))return"Safari";if((v.includes("chrome/")||function qn(x=(0,z.z$)()){return/crios\//i.test(x)}(v))&&!v.includes("edge/"))return"Chrome";if(function dt(x=(0,z.z$)()){return/android/i.test(x)}(v))return"Android";{const U=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===U?.length)return U[1]}return"Other"}function Rr(x,v=[]){let D;switch(x){case"Browser":D=Un((0,z.z$)());break;case"Worker":D=`${Un((0,z.z$)())}-${x}`;break;default:D=x}const U=v.length?v.join(","):"FirebaseCore-web";return`${D}/JsCore/${H.SDK_VERSION}/${U}`}class Ai{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,D){const U=we=>new Promise((mt,zt)=>{try{mt(v(we))}catch(pn){zt(pn)}});U.onAbort=D,this.queue.push(U);const he=this.queue.length-1;return()=>{this.queue[he]=()=>Promise.resolve()}}runMiddleware(v){var D=this;return(0,g.Z)(function*(){if(D.auth.currentUser===v)return;const U=[];try{for(const he of D.queue)yield he(v),he.onAbort&&U.push(he.onAbort)}catch(he){U.reverse();for(const we of U)try{we()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:he?.message})}})()}}function Kr(){return(Kr=(0,g.Z)(function*(x,v={}){return Te(x,"GET","/v2/passwordPolicy",Ve(x,v))})).apply(this,arguments)}class ao{constructor(v){var D,U,he,we;const mt=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(D=mt.minPasswordLength)&&void 0!==D?D:6,mt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=mt.maxPasswordLength),void 0!==mt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=mt.containsLowercaseCharacter),void 0!==mt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=mt.containsUppercaseCharacter),void 0!==mt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=mt.containsNumericCharacter),void 0!==mt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=mt.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(he=null===(U=v.allowedNonAlphanumericCharacters)||void 0===U?void 0:U.join(""))&&void 0!==he?he:"",this.forceUpgradeOnSignin=null!==(we=v.forceUpgradeOnSignin)&&void 0!==we&&we,this.schemaVersion=v.schemaVersion}validatePassword(v){var D,U,he,we,mt,zt;const pn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,pn),this.validatePasswordCharacterOptions(v,pn),pn.isValid&&(pn.isValid=null===(D=pn.meetsMinPasswordLength)||void 0===D||D),pn.isValid&&(pn.isValid=null===(U=pn.meetsMaxPasswordLength)||void 0===U||U),pn.isValid&&(pn.isValid=null===(he=pn.containsLowercaseLetter)||void 0===he||he),pn.isValid&&(pn.isValid=null===(we=pn.containsUppercaseLetter)||void 0===we||we),pn.isValid&&(pn.isValid=null===(mt=pn.containsNumericCharacter)||void 0===mt||mt),pn.isValid&&(pn.isValid=null===(zt=pn.containsNonAlphanumericCharacter)||void 0===zt||zt),pn}validatePasswordLengthOptions(v,D){const U=this.customStrengthOptions.minPasswordLength,he=this.customStrengthOptions.maxPasswordLength;U&&(D.meetsMinPasswordLength=v.length>=U),he&&(D.meetsMaxPasswordLength=v.length<=he)}validatePasswordCharacterOptions(v,D){let U;this.updatePasswordCharacterOptionsStatuses(D,!1,!1,!1,!1);for(let he=0;he<v.length;he++)U=v.charAt(he),this.updatePasswordCharacterOptionsStatuses(D,U>="a"&&U<="z",U>="A"&&U<="Z",U>="0"&&U<="9",this.allowedNonAlphanumericCharacters.includes(U))}updatePasswordCharacterOptionsStatuses(v,D,U,he,we){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=D)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=U)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=he)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=we))}}class Ds{constructor(v,D,U,he){this.app=v,this.heartbeatServiceProvider=D,this.appCheckServiceProvider=U,this.config=he,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new Ai(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=he.sdkClientVersion}_initializeWithPersistence(v,D){var U=this;return D&&(this._popupRedirectResolver=pe(D)),this._initializationPromise=this.queue((0,g.Z)(function*(){var he,we;if(!U._deleted&&(U.persistenceManager=yield tn.create(U,v),!U._deleted)){if(null!==(he=U._popupRedirectResolver)&&void 0!==he&&he._shouldInitProactively)try{yield U._popupRedirectResolver._initialize(U)}catch{}yield U.initializeCurrentUser(D),U.lastNotifiedUid=(null===(we=U.currentUser)||void 0===we?void 0:we.uid)||null,!U._deleted&&(U._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,g.Z)(function*(){if(v._deleted)return;const D=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||D){if(v.currentUser&&D&&v.currentUser.uid===D.uid)return v._currentUser._assign(D),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(D,!0)}})()}initializeCurrentUser(v){var D=this;return(0,g.Z)(function*(){var U;const he=yield D.assertedPersistence.getCurrentUser();let we=he,mt=!1;if(v&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const zt=null===(U=D.redirectUser)||void 0===U?void 0:U._redirectEventId,pn=we?._redirectEventId,$n=yield D.tryRedirectSignIn(v);(!zt||zt===pn)&&$n?.user&&(we=$n.user,mt=!0)}if(!we)return D.directlySetCurrentUser(null);if(!we._redirectEventId){if(mt)try{yield D.beforeStateQueue.runMiddleware(we)}catch(zt){we=he,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(zt))}return we?D.reloadAndSetCurrentUserOrClear(we):D.directlySetCurrentUser(null)}return Et(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===we._redirectEventId?D.directlySetCurrentUser(we):D.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(v){var D=this;return(0,g.Z)(function*(){let U=null;try{U=yield D._popupRedirectResolver._completeRedirectFn(D,v,!0)}catch{yield D._setRedirectUser(null)}return U})()}reloadAndSetCurrentUserOrClear(v){var D=this;return(0,g.Z)(function*(){try{yield $r(v)}catch(U){if("auth/network-request-failed"!==U?.code)return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function ht(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,g.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var D=this;return(0,g.Z)(function*(){const U=v?(0,z.m9)(v):null;return U&&Et(U.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(U&&U._clone(D))})()}_updateCurrentUser(v,D=!1){var U=this;return(0,g.Z)(function*(){if(!U._deleted)return v&&Et(U.tenantId===v.tenantId,U,"tenant-id-mismatch"),D||(yield U.beforeStateQueue.runMiddleware(v)),U.queue((0,g.Z)(function*(){yield U.directlySetCurrentUser(v),U.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,g.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var D=this;return this.queue((0,g.Z)(function*(){yield D.assertedPersistence.setPersistence(pe(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var D=this;return(0,g.Z)(function*(){D._getPasswordPolicyInternal()||(yield D._updatePasswordPolicy());const U=D._getPasswordPolicyInternal();return U.schemaVersion!==D.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(D._errorFactory.create("unsupported-password-policy-schema-version",{})):U.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,g.Z)(function*(){const D=yield function ks(x){return Kr.apply(this,arguments)}(v),U=new ao(D);null===v.tenantId?v._projectPasswordPolicy=U:v._tenantPasswordPolicies[v.tenantId]=U})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new z.LL("auth","Firebase",v())}onAuthStateChanged(v,D,U){return this.registerStateListener(this.authStateSubscription,v,D,U)}beforeAuthStateChanged(v,D){return this.beforeStateQueue.pushCallback(v,D)}onIdTokenChanged(v,D,U){return this.registerStateListener(this.idTokenSubscription,v,D,U)}authStateReady(){return new Promise((v,D)=>{if(this.currentUser)v();else{const U=this.onAuthStateChanged(()=>{U(),v()},D)}})}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,D){var U=this;return(0,g.Z)(function*(){const he=yield U.getOrInitRedirectPersistenceManager(D);return null===v?he.removeCurrentUser():he.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var D=this;return(0,g.Z)(function*(){if(!D.redirectPersistenceManager){const U=v&&pe(v)||D._popupRedirectResolver;Et(U,D,"argument-error"),D.redirectPersistenceManager=yield tn.create(D,[pe(U._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(v){var D=this;return(0,g.Z)(function*(){var U,he;return D._isInitialized&&(yield D.queue((0,g.Z)(function*(){}))),(null===(U=D._currentUser)||void 0===U?void 0:U._redirectEventId)===v?D._currentUser:(null===(he=D.redirectUser)||void 0===he?void 0:he._redirectEventId)===v?D.redirectUser:null})()}_persistUserIfCurrent(v){var D=this;return(0,g.Z)(function*(){if(v===D.currentUser)return D.queue((0,g.Z)(function*(){return D.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const U=null!==(D=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==U&&(this.lastNotifiedUid=U,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,D,U,he){if(this._deleted)return()=>{};const we="function"==typeof D?D:D.next.bind(D);let mt=!1;const zt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(zt,this,"internal-error"),zt.then(()=>{mt||we(this.currentUser)}),"function"==typeof D){const pn=v.addObserver(D,U,he);return()=>{mt=!0,pn()}}{const pn=v.addObserver(D);return()=>{mt=!0,pn()}}}directlySetCurrentUser(v){var D=this;return(0,g.Z)(function*(){D.currentUser&&D.currentUser!==v&&D._currentUser._stopProactiveRefresh(),v&&D.isProactiveRefreshEnabled&&v._startProactiveRefresh(),D.currentUser=v,v?yield D.assertedPersistence.setCurrentUser(v):yield D.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,g.Z)(function*(){var D;const U={"X-Client-Version":v.clientVersion};v.app.options.appId&&(U["X-Firebase-gmpid"]=v.app.options.appId);const he=yield null===(D=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();he&&(U["X-Firebase-Client"]=he);const we=yield v._getAppCheckToken();return we&&(U["X-Firebase-AppCheck"]=we),U})()}_getAppCheckToken(){var v=this;return(0,g.Z)(function*(){var D;const U=yield null===(D=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getToken();return U?.error&&function Qe(x,...v){Le.logLevel<=Ae.in.WARN&&Le.warn(`Auth (${H.SDK_VERSION}): ${x}`,...v)}(`Error while retrieving App Check token: ${U.error}`),U?.token})()}}class ii{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,z.ne)(D=>this.observer=D)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Ji{constructor(v,D){this.providerId=v,this.signInMethod=D}toJSON(){return Nn("not implemented")}_getIdTokenResponse(v){return Nn("not implemented")}_linkToIdToken(v,D){return Nn("not implemented")}_getReauthenticationResolver(v){return Nn("not implemented")}}function Zn(x,v){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(x,v){return function hn(x,v,D,U){return Cn.apply(this,arguments)}(x,"POST","/v1/accounts:signInWithIdp",Ve(x,v))})).apply(this,arguments)}class is extends Ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const D=new is(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(D.idToken=v.idToken),v.accessToken&&(D.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(D.nonce=v.nonce),v.pendingToken&&(D.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(D.accessToken=v.oauthToken,D.secret=v.oauthTokenSecret):vt("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const D="string"==typeof v?JSON.parse(v):v,{providerId:U,signInMethod:he}=D,we=(0,Ce._T)(D,["providerId","signInMethod"]);if(!U||!he)return null;const mt=new is(U,he);return mt.idToken=we.idToken||void 0,mt.accessToken=we.accessToken||void 0,mt.secret=we.secret,mt.nonce=we.nonce,mt.pendingToken=we.pendingToken||null,mt}_getIdTokenResponse(v){return Zn(v,this.buildRequest())}_linkToIdToken(v,D){const U=this.buildRequest();return U.idToken=D,Zn(v,U)}_getReauthenticationResolver(v){const D=this.buildRequest();return D.autoCreate=!1,Zn(v,D)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),v.postBody=(0,z.xO)(D)}return v}}class ws{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class bo extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}let Va=(()=>{class x extends bo{constructor(){super("facebook.com")}static credential(D){return is._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return x.credentialFromTaggedObject(D)}static credentialFromError(D){return x.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return x.credential(D.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Us=(()=>{class x extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(D,U){return is._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:U})}static credentialFromResult(D){return x.credentialFromTaggedObject(D)}static credentialFromError(D){return x.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:U,oauthAccessToken:he}=D;if(!U&&!he)return null;try{return x.credential(U,he)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})();(function br(x){return`__${x}${Math.floor(1e6*Math.random())}`})("rcb"),new Dt(3e4,6e4),new Dt(2e3,1e4),new Dt(3e4,6e4),new Dt(5e3,15e3),encodeURIComponent("fac");var fp="@firebase/auth";class Gu{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var D=this;return(0,g.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const D=this.auth.onIdTokenChanged(U=>{v(U?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,D),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const D=this.internalListeners.get(v);D&&(this.internalListeners.delete(v),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function yh(x){(0,H._registerComponent)(new De.wA("auth",(v,{options:D})=>{const U=v.getProvider("app").getImmediate(),he=v.getProvider("heartbeat"),we=v.getProvider("app-check-internal"),{apiKey:mt,authDomain:zt}=U.options;Et(mt&&!mt.includes(":"),"invalid-api-key",{appName:U.name});const pn={apiKey:mt,authDomain:zt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rr(x)},$n=new Ds(U,he,we,pn);return function Xa(x,v){const D=v?.persistence||[],U=(Array.isArray(D)?D:[D]).map(pe);v?.errorMap&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(U,v?.popupRedirectResolver)}($n,D),$n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,D,U)=>{v.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new De.wA("auth-internal",v=>{const D=function fr(x){return(0,z.m9)(x)}(v.getProvider("auth").getImmediate());return new Gu(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(fp,"1.3.0",function Ac(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,H.registerVersion)(fp,"1.3.0","esm2017")}("Browser");var hc=k(5879),pp=k(8022),zu=k(7046),Mc=k(1662),mp=k(5869),Pc=k(5658);let gp=(()=>{var x;class v{constructor(U,he,we,mt,zt,pn){this.afs=U,this.afAuth=he,this.router=we,this.notificationAlert=mt,this.accountService=zt,this.ngZone=pn,this.fetchUserData(!0)}fetchUserData(U){this.afAuth.authState.subscribe(he=>{he?(this.userData=he,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),this.accountService.getUserByEmail(he.email).subscribe(we=>{this.accountService.updateUser(we),localStorage.setItem("loggedUser",JSON.stringify(we)),we&&U&&this.router.navigate(["/home"])})):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(U,he){return this.afAuth.signInWithEmailAndPassword(U,he).then(we=>{this.afAuth.authState.subscribe(mt=>{mt&&this.accountService.getUserByEmail(U).subscribe(zt=>{console.log(zt),this.accountService.updateUser(zt),zt&&this.router.navigate(["/home"])})})}).catch(we=>{this.notificationAlert.showError(we.message)})}SignUp(U,he){return this.afAuth.createUserWithEmailAndPassword(U,he).then(we=>{this.SetUserData(we.user),this.notificationAlert.showSuccess("A new account has been created!")}).catch(we=>{this.notificationAlert.showError(we.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(U=>U.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(U){return this.afAuth.sendPasswordResetEmail(U).then(()=>{this.notificationAlert.showSuccess("Password reset email sent, check your inbox.")}).catch(he=>{})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}GoogleAuth(){return this.AuthLogin(new Us)}FacebookAuth(){return this.AuthLogin(new Va)}AuthLogin(U){return this.afAuth.signInWithPopup(U).then(he=>{this.router.navigate(["/home"]),this.SetUserData(he.user)}).catch(he=>{console.log(he),this.notificationAlert.showError(he.message)})}SetUserData(U){return this.afs.doc(`users/${U.uid}`).set({uid:U.uid,email:U.email,displayName:U.displayName,photoURL:U.photoURL,emailVerified:U.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("loggedUser"),this.router.navigate(["/login"])})}}return(x=v).\u0275fac=function(U){return new(U||x)(hc.LFG(pp.ST),hc.LFG(zu.zQ),hc.LFG(Mc.F0),hc.LFG(mp.g),hc.LFG(Pc.B),hc.LFG(hc.R0b))},x.\u0275prov=hc.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),v})()},1890:(un,it,k)=>{k.d(it,{f:()=>Ae});var g=k(9862),z=k(1806),H=k(5879);let Ae=(()=>{var Ce;class De{constructor(ke){this.httpClient=ke}getHttpHeader(){return this.headers_object=new g.WM({"Content-Type":"application/json; charset=utf-8;",Accept:"application/json"}),this.httpOptions={headers:this.headers_object},this.httpOptions}getAllIngredients(){return this.httpClient.get(`${z.N.apiUrl}/ingredients`)}getAllIngredientsByUserId(ke){return this.httpClient.get(`${z.N.apiUrl}/users/${ke}/ingredients`)}addIngredient(ke,Oe){return this.httpClient.post(`${z.N.apiUrl}/users/${Oe}/ingredients`,JSON.stringify(ke),this.getHttpHeader())}}return(Ce=De).\u0275fac=function(ke){return new(ke||Ce)(H.LFG(g.eN))},Ce.\u0275prov=H.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),De})()},4891:(un,it,k)=>{var g={};k.r(g),k.d(g,{hasBrowserEnv:()=>Rn,hasStandardBrowserEnv:()=>qn,hasStandardBrowserWebWorkerEnv:()=>Yr});var z=k(6593),H=k(5879),Ae=k(1662),Ce=k(1806);let De=(()=>{var a;class r{constructor(u){this.router=u,this.router.navigateByUrl("/cart")}}return(a=r).\u0275fac=function(u){return new(u||a)(H.Y36(Ae.F0))},a.\u0275cmp=H.Xpm({type:a,selectors:[["app-layout"]],decls:1,vars:0,template:function(u,p){1&u&&H._UZ(0,"router-outlet")},dependencies:[Ae.lC]}),r})();var Ue=k(3465),ke=k(5777);let Oe=(()=>{var a;class r{constructor(u,p){this.authService=u,this.router=p}canActivate(u,p){return!0!==this.authService.isLoggedIn&&this.router.navigate(["/login"]),!0}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(ke.e),H.LFG(Ae.F0))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),r})();var ye=k(5861);function Se(a,r){return function(){return a.apply(r,arguments)}}const{toString:Be}=Object.prototype,{getPrototypeOf:ut}=Object,ct=(a=Object.create(null),r=>{const o=Be.call(r);return a[o]||(a[o]=o.slice(8,-1).toLowerCase())}),wt=a=>(a=a.toLowerCase(),r=>ct(r)===a),ft=a=>r=>typeof r===a,{isArray:Ut}=Array,Ft=ft("undefined");var a;const Qt=wt("ArrayBuffer"),Qe=ft("string"),He=ft("function"),vt=ft("number"),Pt=a=>null!==a&&"object"==typeof a,Ke=a=>{if("object"!==ct(a))return!1;const r=ut(a);return!(null!==r&&r!==Object.prototype&&null!==Object.getPrototypeOf(r)||Symbol.toStringTag in a||Symbol.iterator in a)},Bt=wt("Date"),Et=wt("File"),Nn=wt("Blob"),yn=wt("FileList"),Nr=wt("URLSearchParams");function ht(a,r,{allOwnKeys:o=!1}={}){if(null===a||typeof a>"u")return;let u,p;if("object"!=typeof a&&(a=[a]),Ut(a))for(u=0,p=a.length;u<p;u++)r.call(null,a[u],u,a);else{const E=o?Object.getOwnPropertyNames(a):Object.keys(a),T=E.length;let V;for(u=0;u<T;u++)V=E[u],r.call(null,a[V],V,a)}}function Dt(a,r){r=r.toLowerCase();const o=Object.keys(a);let p,u=o.length;for(;u-- >0;)if(p=o[u],r===p.toLowerCase())return p;return null}const rt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,It=a=>!Ft(a)&&a!==rt,hn=(a=>r=>a&&r instanceof a)(typeof Uint8Array<"u"&&ut(Uint8Array)),xr=wt("HTMLFormElement"),Er=(({hasOwnProperty:a})=>(r,o)=>a.call(r,o))(Object.prototype),kr=wt("RegExp"),ui=(a,r)=>{const o=Object.getOwnPropertyDescriptors(a),u={};ht(o,(p,E)=>{let T;!1!==(T=r(p,E,a))&&(u[E]=T||p)}),Object.defineProperties(a,u)},kn="abcdefghijklmnopqrstuvwxyz",Wn="0123456789",Gn={DIGIT:Wn,ALPHA:kn,ALPHA_DIGIT:kn+kn.toUpperCase()+Wn},Ar=wt("AsyncFunction"),qt={isArray:Ut,isArrayBuffer:Qt,isBuffer:function Ye(a){return null!==a&&!Ft(a)&&null!==a.constructor&&!Ft(a.constructor)&&He(a.constructor.isBuffer)&&a.constructor.isBuffer(a)},isFormData:a=>{let r;return a&&("function"==typeof FormData&&a instanceof FormData||He(a.append)&&("formdata"===(r=ct(a))||"object"===r&&He(a.toString)&&"[object FormData]"===a.toString()))},isArrayBufferView:function Le(a){let r;return r=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&Qt(a.buffer),r},isString:Qe,isNumber:vt,isBoolean:a=>!0===a||!1===a,isObject:Pt,isPlainObject:Ke,isUndefined:Ft,isDate:Bt,isFile:Et,isBlob:Nn,isRegExp:kr,isFunction:He,isStream:a=>Pt(a)&&He(a.pipe),isURLSearchParams:Nr,isTypedArray:hn,isFileList:yn,forEach:ht,merge:function tt(){const{caseless:a}=It(this)&&this||{},r={},o=(u,p)=>{const E=a&&Dt(r,p)||p;r[E]=Ke(r[E])&&Ke(u)?tt(r[E],u):Ke(u)?tt({},u):Ut(u)?u.slice():u};for(let u=0,p=arguments.length;u<p;u++)arguments[u]&&ht(arguments[u],o);return r},extend:(a,r,o,{allOwnKeys:u}={})=>(ht(r,(p,E)=>{a[E]=o&&He(p)?Se(p,o):p},{allOwnKeys:u}),a),trim:a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:a=>(65279===a.charCodeAt(0)&&(a=a.slice(1)),a),inherits:(a,r,o,u)=>{a.prototype=Object.create(r.prototype,u),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:r.prototype}),o&&Object.assign(a.prototype,o)},toFlatObject:(a,r,o,u)=>{let p,E,T;const V={};if(r=r||{},null==a)return r;do{for(p=Object.getOwnPropertyNames(a),E=p.length;E-- >0;)T=p[E],(!u||u(T,a,r))&&!V[T]&&(r[T]=a[T],V[T]=!0);a=!1!==o&&ut(a)}while(a&&(!o||o(a,r))&&a!==Object.prototype);return r},kindOf:ct,kindOfTest:wt,endsWith:(a,r,o)=>{a=String(a),(void 0===o||o>a.length)&&(o=a.length);const u=a.indexOf(r,o-=r.length);return-1!==u&&u===o},toArray:a=>{if(!a)return null;if(Ut(a))return a;let r=a.length;if(!vt(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=a[r];return o},forEachEntry:(a,r)=>{const u=(a&&a[Symbol.iterator]).call(a);let p;for(;(p=u.next())&&!p.done;){const E=p.value;r.call(a,E[0],E[1])}},matchAll:(a,r)=>{let o;const u=[];for(;null!==(o=a.exec(r));)u.push(o);return u},isHTMLForm:xr,hasOwnProperty:Er,hasOwnProp:Er,reduceDescriptors:ui,freezeMethods:a=>{ui(a,(r,o)=>{if(He(a)&&-1!==["arguments","caller","callee"].indexOf(o))return!1;if(He(a[o])){if(r.enumerable=!1,"writable"in r)return void(r.writable=!1);r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},toObjectSet:(a,r)=>{const o={},u=p=>{p.forEach(E=>{o[E]=!0})};return Ut(a)?u(a):u(String(a).split(r)),o},toCamelCase:a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,u,p){return u.toUpperCase()+p}),noop:()=>{},toFiniteNumber:(a,r)=>(a=+a,Number.isFinite(a)?a:r),findKey:Dt,global:rt,isContextDefined:It,ALPHABET:Gn,generateString:(a=16,r=Gn.ALPHA_DIGIT)=>{let o="";const{length:u}=r;for(;a--;)o+=r[Math.random()*u|0];return o},isSpecCompliantForm:function ir(a){return!!(a&&He(a.append)&&"FormData"===a[Symbol.toStringTag]&&a[Symbol.iterator])},toJSONObject:a=>{const r=new Array(10),o=(u,p)=>{if(Pt(u)){if(r.indexOf(u)>=0)return;if(!("toJSON"in u)){r[p]=u;const E=Ut(u)?[]:{};return ht(u,(T,V)=>{const te=o(T,p+1);!Ft(te)&&(E[V]=te)}),r[p]=void 0,E}}return u};return o(a,0)},isAsyncFn:Ar,isThenable:a=>a&&(Pt(a)||He(a))&&He(a.then)&&He(a.catch)};function ur(a,r,o,u,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=a,this.name="AxiosError",r&&(this.code=r),o&&(this.config=o),u&&(this.request=u),p&&(this.response=p)}qt.inherits(ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Qr=ur.prototype,yr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{yr[a]={value:a}}),Object.defineProperties(ur,yr),Object.defineProperty(Qr,"isAxiosError",{value:!0}),ur.from=(a,r,o,u,p,E)=>{const T=Object.create(Qr);return qt.toFlatObject(a,T,function(te){return te!==Error.prototype},V=>"isAxiosError"!==V),ur.call(T,a.message,r,o,u,p),T.cause=a,T.name=a.name,E&&Object.assign(T,E),T};const nr=ur;function di(a){return qt.isPlainObject(a)||qt.isArray(a)}function $r(a){return qt.endsWith(a,"[]")?a.slice(0,-2):a}function Jr(a,r,o){return a?a.concat(r).map(function(p,E){return p=$r(p),!o&&E?"["+p+"]":p}).join(o?".":""):r}const Je=qt.toFlatObject(qt,{},null,function(r){return/^is[A-Z]/.test(r)}),Nt=function Gt(a,r,o){if(!qt.isObject(a))throw new TypeError("target must be an object");r=r||new FormData;const u=(o=qt.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(nn,zn){return!qt.isUndefined(zn[nn])})).metaTokens,p=o.visitor||xe,E=o.dots,T=o.indexes,te=(o.Blob||typeof Blob<"u"&&Blob)&&qt.isSpecCompliantForm(r);if(!qt.isFunction(p))throw new TypeError("visitor must be a function");function ue(Mt){if(null===Mt)return"";if(qt.isDate(Mt))return Mt.toISOString();if(!te&&qt.isBlob(Mt))throw new nr("Blob is not supported. Use a Buffer instead.");return qt.isArrayBuffer(Mt)||qt.isTypedArray(Mt)?te&&"function"==typeof Blob?new Blob([Mt]):Buffer.from(Mt):Mt}function xe(Mt,nn,zn){let Br=Mt;if(Mt&&!zn&&"object"==typeof Mt)if(qt.endsWith(nn,"{}"))nn=u?nn:nn.slice(0,-2),Mt=JSON.stringify(Mt);else if(qt.isArray(Mt)&&function $t(a){return qt.isArray(a)&&!a.some(di)}(Mt)||(qt.isFileList(Mt)||qt.endsWith(nn,"[]"))&&(Br=qt.toArray(Mt)))return nn=$r(nn),Br.forEach(function(mi,Qi){!qt.isUndefined(mi)&&null!==mi&&r.append(!0===T?Jr([nn],Qi,E):null===T?nn:nn+"[]",ue(mi))}),!1;return!!di(Mt)||(r.append(Jr(zn,nn,E),ue(Mt)),!1)}const Pe=[],_t=Object.assign(Je,{defaultVisitor:xe,convertValue:ue,isVisitable:di});if(!qt.isObject(a))throw new TypeError("data must be an object");return function Kt(Mt,nn){if(!qt.isUndefined(Mt)){if(-1!==Pe.indexOf(Mt))throw Error("Circular reference detected in "+nn.join("."));Pe.push(Mt),qt.forEach(Mt,function(Br,pi){!0===(!(qt.isUndefined(Br)||null===Br)&&p.call(r,Br,qt.isString(pi)?pi.trim():pi,nn,_t))&&Kt(Br,nn?nn.concat(pi):[pi])}),Pe.pop()}}(a),r};function vn(a){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(u){return r[u]})}function Vn(a,r){this._pairs=[],a&&Nt(a,this,r)}const pr=Vn.prototype;pr.append=function(r,o){this._pairs.push([r,o])},pr.toString=function(r){const o=r?function(u){return r.call(this,u,vn)}:vn;return this._pairs.map(function(p){return o(p[0])+"="+o(p[1])},"").join("&")};const ve=Vn;function Q(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(a,r,o){if(!r)return a;const u=o&&o.encode||Q,p=o&&o.serialize;let E;if(E=p?p(r,o):qt.isURLSearchParams(r)?r.toString():new ve(r,o).toString(u),E){const T=a.indexOf("#");-1!==T&&(a=a.slice(0,T)),a+=(-1===a.indexOf("?")?"?":"&")+E}return a}const de=class pe{constructor(){this.handlers=[]}use(r,o,u){return this.handlers.push({fulfilled:r,rejected:o,synchronous:!!u&&u.synchronous,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){qt.forEach(this.handlers,function(u){null!==u&&r(u)})}},je={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dn={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:ve,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Rn=typeof window<"u"&&typeof document<"u",qn=(a=>Rn&&["ReactNative","NativeScript","NS"].indexOf(a)<0)(typeof navigator<"u"&&navigator.product),Yr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,dt={...g,...dn},sn=function fn(a){function r(o,u,p,E){let T=o[E++];if("__proto__"===T)return!0;const V=Number.isFinite(+T),te=E>=o.length;return T=!T&&qt.isArray(p)?p.length:T,te?(p[T]=qt.hasOwnProp(p,T)?[p[T],u]:u,!V):((!p[T]||!qt.isObject(p[T]))&&(p[T]=[]),r(o,u,p[T],E)&&qt.isArray(p[T])&&(p[T]=function Ot(a){const r={},o=Object.keys(a);let u;const p=o.length;let E;for(u=0;u<p;u++)E=o[u],r[E]=a[E];return r}(p[T])),!V)}if(qt.isFormData(a)&&qt.isFunction(a.entries)){const o={};return qt.forEachEntry(a,(u,p)=>{r(function Rt(a){return qt.matchAll(/\w+|\[(\w*)]/g,a).map(r=>"[]"===r[0]?"":r[1]||r[0])}(u),p,o,0)}),o}return null},gn={transitional:je,adapter:["xhr","http"],transformRequest:[function(r,o){const u=o.getContentType()||"",p=u.indexOf("application/json")>-1,E=qt.isObject(r);if(E&&qt.isHTMLForm(r)&&(r=new FormData(r)),qt.isFormData(r))return p?JSON.stringify(sn(r)):r;if(qt.isArrayBuffer(r)||qt.isBuffer(r)||qt.isStream(r)||qt.isFile(r)||qt.isBlob(r))return r;if(qt.isArrayBufferView(r))return r.buffer;if(qt.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let V;if(E){if(u.indexOf("application/x-www-form-urlencoded")>-1)return function ze(a,r){return Nt(a,new dt.classes.URLSearchParams,Object.assign({visitor:function(o,u,p,E){return dt.isNode&&qt.isBuffer(o)?(this.append(u,o.toString("base64")),!1):E.defaultVisitor.apply(this,arguments)}},r))}(r,this.formSerializer).toString();if((V=qt.isFileList(r))||u.indexOf("multipart/form-data")>-1){const te=this.env&&this.env.FormData;return Nt(V?{"files[]":r}:r,te&&new te,this.formSerializer)}}return E||p?(o.setContentType("application/json",!1),function Hn(a,r,o){if(qt.isString(a))try{return(r||JSON.parse)(a),qt.trim(a)}catch(u){if("SyntaxError"!==u.name)throw u}return(o||JSON.stringify)(a)}(r)):r}],transformResponse:[function(r){const o=this.transitional||gn.transitional,u=o&&o.forcedJSONParsing,p="json"===this.responseType;if(r&&qt.isString(r)&&(u&&!this.responseType||p)){const T=!(o&&o.silentJSONParsing)&&p;try{return JSON.parse(r)}catch(V){if(T)throw"SyntaxError"===V.name?nr.from(V,nr.ERR_BAD_RESPONSE,this,null,this.response):V}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qt.forEach(["delete","get","head","post","put","patch"],a=>{gn.headers[a]={}});const Pr=gn,Rr=qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ks=Symbol("internals");function Kr(a){return a&&String(a).trim().toLowerCase()}function vi(a){return!1===a||null==a?a:qt.isArray(a)?a.map(vi):String(a)}function fr(a,r,o,u,p){if(qt.isFunction(u))return u.call(this,r,o);if(p&&(r=o),qt.isString(r)){if(qt.isString(u))return-1!==r.indexOf(u);if(qt.isRegExp(u))return u.test(r)}}class rs{constructor(r){r&&this.set(r)}set(r,o,u){const p=this;function E(V,te,ue){const xe=Kr(te);if(!xe)throw new Error("header name must be a non-empty string");const Pe=qt.findKey(p,xe);(!Pe||void 0===p[Pe]||!0===ue||void 0===ue&&!1!==p[Pe])&&(p[Pe||te]=vi(V))}const T=(V,te)=>qt.forEach(V,(ue,xe)=>E(ue,xe,te));return qt.isPlainObject(r)||r instanceof this.constructor?T(r,o):qt.isString(r)&&(r=r.trim())&&!(a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim()))(r)?T((a=>{const r={};let o,u,p;return a&&a.split("\n").forEach(function(T){p=T.indexOf(":"),o=T.substring(0,p).trim().toLowerCase(),u=T.substring(p+1).trim(),!(!o||r[o]&&Rr[o])&&("set-cookie"===o?r[o]?r[o].push(u):r[o]=[u]:r[o]=r[o]?r[o]+", "+u:u)}),r})(r),o):null!=r&&E(o,r,u),this}get(r,o){if(r=Kr(r)){const u=qt.findKey(this,r);if(u){const p=this[u];if(!o)return p;if(!0===o)return function ao(a){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=o.exec(a);)r[u[1]]=u[2];return r}(p);if(qt.isFunction(o))return o.call(this,p,u);if(qt.isRegExp(o))return o.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=Kr(r)){const u=qt.findKey(this,r);return!(!u||void 0===this[u]||o&&!fr(0,this[u],u,o))}return!1}delete(r,o){const u=this;let p=!1;function E(T){if(T=Kr(T)){const V=qt.findKey(u,T);V&&(!o||fr(0,u[V],V,o))&&(delete u[V],p=!0)}}return qt.isArray(r)?r.forEach(E):E(r),p}clear(r){const o=Object.keys(this);let u=o.length,p=!1;for(;u--;){const E=o[u];(!r||fr(0,this[E],E,r,!0))&&(delete this[E],p=!0)}return p}normalize(r){const o=this,u={};return qt.forEach(this,(p,E)=>{const T=qt.findKey(u,E);if(T)return o[T]=vi(p),void delete o[E];const V=r?function ii(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,u)=>o.toUpperCase()+u)}(E):String(E).trim();V!==E&&delete o[E],o[V]=vi(p),u[V]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return qt.forEach(this,(u,p)=>{null!=u&&!1!==u&&(o[p]=r&&qt.isArray(u)?u.join(", "):u)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const u=new this(r);return o.forEach(p=>u.set(p)),u}static accessor(r){const u=(this[ks]=this[ks]={accessors:{}}).accessors,p=this.prototype;function E(T){const V=Kr(T);u[V]||(function Ri(a,r){const o=qt.toCamelCase(" "+r);["get","set","has"].forEach(u=>{Object.defineProperty(a,u+o,{value:function(p,E,T){return this[u].call(this,r,p,E,T)},configurable:!0})})}(p,T),u[V]=!0)}return qt.isArray(r)?r.forEach(E):E(r),this}}rs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),qt.reduceDescriptors(rs.prototype,({value:a},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>a,set(u){this[o]=u}}}),qt.freezeMethods(rs);const br=rs;function ji(a,r){const o=this||Pr,u=r||o,p=br.from(u.headers);let E=u.data;return qt.forEach(a,function(V){E=V.call(o,E,p.normalize(),r?r.status:void 0)}),p.normalize(),E}function Gr(a){return!(!a||!a.__CANCEL__)}function Ki(a,r,o){nr.call(this,a??"canceled",nr.ERR_CANCELED,r,o),this.name="CanceledError"}qt.inherits(Ki,nr,{__CANCEL__:!0});const qi=Ki,Zi=dt.hasStandardBrowserEnv?{write(a,r,o,u,p,E){const T=[a+"="+encodeURIComponent(r)];qt.isNumber(o)&&T.push("expires="+new Date(o).toGMTString()),qt.isString(u)&&T.push("path="+u),qt.isString(p)&&T.push("domain="+p),!0===E&&T.push("secure"),document.cookie=T.join("; ")},read(a){const r=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Wo(a,r){return a&&!function Fs(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}(r)?function Eo(a,r){return r?a.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):a}(a,r):r}const Xa=dt.hasStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let u;function p(E){let T=E;return r&&(o.setAttribute("href",T),T=o.href),o.setAttribute("href",T),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return u=p(window.location.href),function(T){const V=qt.isString(T)?p(T):T;return V.protocol===u.protocol&&V.host===u.host}}():function(){return!0};function Ko(a,r){let o=0;const u=function fa(a,r){a=a||10;const o=new Array(a),u=new Array(a);let T,p=0,E=0;return r=void 0!==r?r:1e3,function(te){const ue=Date.now(),xe=u[E];T||(T=ue),o[p]=te,u[p]=ue;let Pe=E,_t=0;for(;Pe!==p;)_t+=o[Pe++],Pe%=a;if(p=(p+1)%a,p===E&&(E=(E+1)%a),ue-T<r)return;const Kt=xe&&ue-xe;return Kt?Math.round(1e3*_t/Kt):void 0}}(50,250);return p=>{const E=p.loaded,T=p.lengthComputable?p.total:void 0,V=E-o,te=u(V);o=E;const xe={loaded:E,total:T,progress:T?E/T:void 0,bytes:V,rate:te||void 0,estimated:te&&T&&E<=T?(T-E)/te:void 0,event:p};xe[r?"download":"upload"]=!0,a(xe)}}const Io={http:null,xhr:typeof XMLHttpRequest<"u"&&function(a){return new Promise(function(o,u){let p=a.data;const E=br.from(a.headers).normalize();let te,xe,{responseType:T,withXSRFToken:V}=a;function ue(){a.cancelToken&&a.cancelToken.unsubscribe(te),a.signal&&a.signal.removeEventListener("abort",te)}if(qt.isFormData(p))if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)E.setContentType(!1);else if(!1!==(xe=E.getContentType())){const[nn,...zn]=xe?xe.split(";").map(Br=>Br.trim()).filter(Boolean):[];E.setContentType([nn||"multipart/form-data",...zn].join("; "))}let Pe=new XMLHttpRequest;if(a.auth){const nn=a.auth.username||"",zn=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";E.set("Authorization","Basic "+btoa(nn+":"+zn))}const _t=Wo(a.baseURL,a.url);function Kt(){if(!Pe)return;const nn=br.from("getAllResponseHeaders"in Pe&&Pe.getAllResponseHeaders());(function Ls(a,r,o){const u=o.config.validateStatus;o.status&&u&&!u(o.status)?r(new nr("Request failed with status code "+o.status,[nr.ERR_BAD_REQUEST,nr.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o)):a(o)})(function(mi){o(mi),ue()},function(mi){u(mi),ue()},{data:T&&"text"!==T&&"json"!==T?Pe.response:Pe.responseText,status:Pe.status,statusText:Pe.statusText,headers:nn,config:a,request:Pe}),Pe=null}if(Pe.open(a.method.toUpperCase(),X(_t,a.params,a.paramsSerializer),!0),Pe.timeout=a.timeout,"onloadend"in Pe?Pe.onloadend=Kt:Pe.onreadystatechange=function(){!Pe||4!==Pe.readyState||0===Pe.status&&(!Pe.responseURL||0!==Pe.responseURL.indexOf("file:"))||setTimeout(Kt)},Pe.onabort=function(){Pe&&(u(new nr("Request aborted",nr.ECONNABORTED,a,Pe)),Pe=null)},Pe.onerror=function(){u(new nr("Network Error",nr.ERR_NETWORK,a,Pe)),Pe=null},Pe.ontimeout=function(){let zn=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";a.timeoutErrorMessage&&(zn=a.timeoutErrorMessage),u(new nr(zn,(a.transitional||je).clarifyTimeoutError?nr.ETIMEDOUT:nr.ECONNABORTED,a,Pe)),Pe=null},dt.hasStandardBrowserEnv&&(V&&qt.isFunction(V)&&(V=V(a)),V||!1!==V&&Xa(_t))){const nn=a.xsrfHeaderName&&a.xsrfCookieName&&Zi.read(a.xsrfCookieName);nn&&E.set(a.xsrfHeaderName,nn)}void 0===p&&E.setContentType(null),"setRequestHeader"in Pe&&qt.forEach(E.toJSON(),function(zn,Br){Pe.setRequestHeader(Br,zn)}),qt.isUndefined(a.withCredentials)||(Pe.withCredentials=!!a.withCredentials),T&&"json"!==T&&(Pe.responseType=a.responseType),"function"==typeof a.onDownloadProgress&&Pe.addEventListener("progress",Ko(a.onDownloadProgress,!0)),"function"==typeof a.onUploadProgress&&Pe.upload&&Pe.upload.addEventListener("progress",Ko(a.onUploadProgress)),(a.cancelToken||a.signal)&&(te=nn=>{Pe&&(u(!nn||nn.type?new qi(null,a,Pe):nn),Pe.abort(),Pe=null)},a.cancelToken&&a.cancelToken.subscribe(te),a.signal&&(a.signal.aborted?te():a.signal.addEventListener("abort",te)));const Mt=function lo(a){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return r&&r[1]||""}(_t);Mt&&-1===dt.protocols.indexOf(Mt)?u(new nr("Unsupported protocol "+Mt+":",nr.ERR_BAD_REQUEST,a)):Pe.send(p||null)})}};qt.forEach(Io,(a,r)=>{if(a){try{Object.defineProperty(a,"name",{value:r})}catch{}Object.defineProperty(a,"adapterName",{value:r})}});const hi=a=>`- ${a}`,Ao=a=>qt.isFunction(a)||null===a||!1===a,Lo_getAdapter=a=>{a=qt.isArray(a)?a:[a];const{length:r}=a;let o,u;const p={};for(let E=0;E<r;E++){let T;if(o=a[E],u=o,!Ao(o)&&(u=Io[(T=String(o)).toLowerCase()],void 0===u))throw new nr(`Unknown adapter '${T}'`);if(u)break;p[T||"#"+E]=u}if(!u){const E=Object.entries(p).map(([V,te])=>`adapter ${V} `+(!1===te?"is not supported by the environment":"is not available in the build"));let T=r?E.length>1?"since :\n"+E.map(hi).join("\n"):" "+hi(E[0]):"as no adapter specified";throw new nr("There is no suitable adapter to dispatch the request "+T,"ERR_NOT_SUPPORT")}return u};function Fi(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new qi(null,a)}function lt(a){return Fi(a),a.headers=br.from(a.headers),a.data=ji.call(a,a.transformRequest),-1!==["post","put","patch"].indexOf(a.method)&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Lo_getAdapter(a.adapter||Pr.adapter)(a).then(function(u){return Fi(a),u.data=ji.call(a,a.transformResponse,u),u.headers=br.from(u.headers),u},function(u){return Gr(u)||(Fi(a),u&&u.response&&(u.response.data=ji.call(a,a.transformResponse,u.response),u.response.headers=br.from(u.response.headers))),Promise.reject(u)})}const ot=a=>a instanceof br?a.toJSON():a;function bt(a,r){r=r||{};const o={};function u(ue,xe,Pe){return qt.isPlainObject(ue)&&qt.isPlainObject(xe)?qt.merge.call({caseless:Pe},ue,xe):qt.isPlainObject(xe)?qt.merge({},xe):qt.isArray(xe)?xe.slice():xe}function p(ue,xe,Pe){return qt.isUndefined(xe)?qt.isUndefined(ue)?void 0:u(void 0,ue,Pe):u(ue,xe,Pe)}function E(ue,xe){if(!qt.isUndefined(xe))return u(void 0,xe)}function T(ue,xe){return qt.isUndefined(xe)?qt.isUndefined(ue)?void 0:u(void 0,ue):u(void 0,xe)}function V(ue,xe,Pe){return Pe in r?u(ue,xe):Pe in a?u(void 0,ue):void 0}const te={url:E,method:E,data:E,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,withXSRFToken:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:V,headers:(ue,xe)=>p(ot(ue),ot(xe),!0)};return qt.forEach(Object.keys(Object.assign({},a,r)),function(xe){const Pe=te[xe]||p,_t=Pe(a[xe],r[xe],xe);qt.isUndefined(_t)&&Pe!==V||(o[xe]=_t)}),o}const Wt={};["object","boolean","number","function","string","symbol"].forEach((a,r)=>{Wt[a]=function(u){return typeof u===a||"a"+(r<1?"n ":" ")+a}});const Sn={};Wt.transitional=function(r,o,u){function p(E,T){return"[Axios v1.6.7] Transitional option '"+E+"'"+T+(u?". "+u:"")}return(E,T,V)=>{if(!1===r)throw new nr(p(T," has been removed"+(o?" in "+o:"")),nr.ERR_DEPRECATED);return o&&!Sn[T]&&(Sn[T]=!0,console.warn(p(T," has been deprecated since v"+o+" and will be removed in the near future"))),!r||r(E,T,V)}};const vr={assertOptions:function lr(a,r,o){if("object"!=typeof a)throw new nr("options must be an object",nr.ERR_BAD_OPTION_VALUE);const u=Object.keys(a);let p=u.length;for(;p-- >0;){const E=u[p],T=r[E];if(T){const V=a[E],te=void 0===V||T(V,E,a);if(!0!==te)throw new nr("option "+E+" must be "+te,nr.ERR_BAD_OPTION_VALUE)}else if(!0!==o)throw new nr("Unknown option "+E,nr.ERR_BAD_OPTION)}},validators:Wt},dr=vr.validators;class Mi{constructor(r){this.defaults=r,this.interceptors={request:new de,response:new de}}request(r,o){var u=this;return(0,ye.Z)(function*(){try{return yield u._request(r,o)}catch(p){if(p instanceof Error){let E;Error.captureStackTrace?Error.captureStackTrace(E={}):E=new Error;const T=E.stack?E.stack.replace(/^.+\n/,""):"";p.stack?T&&!String(p.stack).endsWith(T.replace(/^.+\n.+\n/,""))&&(p.stack+="\n"+T):p.stack=T}throw p}})()}_request(r,o){"string"==typeof r?(o=o||{}).url=r:o=r||{},o=bt(this.defaults,o);const{transitional:u,paramsSerializer:p,headers:E}=o;void 0!==u&&vr.assertOptions(u,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),null!=p&&(qt.isFunction(p)?o.paramsSerializer={serialize:p}:vr.assertOptions(p,{encode:dr.function,serialize:dr.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let T=E&&qt.merge(E.common,E[o.method]);E&&qt.forEach(["delete","get","head","post","put","patch","common"],Mt=>{delete E[Mt]}),o.headers=br.concat(T,E);const V=[];let te=!0;this.interceptors.request.forEach(function(nn){"function"==typeof nn.runWhen&&!1===nn.runWhen(o)||(te=te&&nn.synchronous,V.unshift(nn.fulfilled,nn.rejected))});const ue=[];this.interceptors.response.forEach(function(nn){ue.push(nn.fulfilled,nn.rejected)});let xe,_t,Pe=0;if(!te){const Mt=[lt.bind(this),void 0];for(Mt.unshift.apply(Mt,V),Mt.push.apply(Mt,ue),_t=Mt.length,xe=Promise.resolve(o);Pe<_t;)xe=xe.then(Mt[Pe++],Mt[Pe++]);return xe}_t=V.length;let Kt=o;for(Pe=0;Pe<_t;){const Mt=V[Pe++],nn=V[Pe++];try{Kt=Mt(Kt)}catch(zn){nn.call(this,zn);break}}try{xe=lt.call(this,Kt)}catch(Mt){return Promise.reject(Mt)}for(Pe=0,_t=ue.length;Pe<_t;)xe=xe.then(ue[Pe++],ue[Pe++]);return xe}getUri(r){return X(Wo((r=bt(this.defaults,r)).baseURL,r.url),r.params,r.paramsSerializer)}}qt.forEach(["delete","get","head","options"],function(r){Mi.prototype[r]=function(o,u){return this.request(bt(u||{},{method:r,url:o,data:(u||{}).data}))}}),qt.forEach(["post","put","patch"],function(r){function o(u){return function(E,T,V){return this.request(bt(V||{},{method:r,headers:u?{"Content-Type":"multipart/form-data"}:{},url:E,data:T}))}}Mi.prototype[r]=o(),Mi.prototype[r+"Form"]=o(!0)});const co=Mi;class Ii{constructor(r){if("function"!=typeof r)throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(E){o=E});const u=this;this.promise.then(p=>{if(!u._listeners)return;let E=u._listeners.length;for(;E-- >0;)u._listeners[E](p);u._listeners=null}),this.promise.then=p=>{let E;const T=new Promise(V=>{u.subscribe(V),E=V}).then(p);return T.cancel=function(){u.unsubscribe(E)},T},r(function(E,T,V){u.reason||(u.reason=new qi(E,T,V),o(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){this.reason?r(this.reason):this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);-1!==o&&this._listeners.splice(o,1)}static source(){let r;return{token:new Ii(function(p){r=p}),cancel:r}}}const vs=Ii,Mn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mn).forEach(([a,r])=>{Mn[r]=a});const Qn=Mn,Zn=function si(a){const r=new co(a),o=Se(co.prototype.request,r);return qt.extend(o,co.prototype,r,{allOwnKeys:!0}),qt.extend(o,r,null,{allOwnKeys:!0}),o.create=function(p){return si(bt(a,p))},o}(Pr);Zn.Axios=co,Zn.CanceledError=qi,Zn.CancelToken=vs,Zn.isCancel=Gr,Zn.VERSION="1.6.7",Zn.toFormData=Nt,Zn.AxiosError=nr,Zn.Cancel=Zn.CanceledError,Zn.all=function(r){return Promise.all(r)},Zn.spread=function Es(a){return function(o){return a.apply(null,o)}},Zn.isAxiosError=function Xr(a){return qt.isObject(a)&&!0===a.isAxiosError},Zn.mergeConfig=bt,Zn.AxiosHeaders=br,Zn.formToJSON=a=>sn(qt.isHTMLForm(a)?new FormData(a):a),Zn.getAdapter=Lo_getAdapter,Zn.HttpStatusCode=Qn,Zn.default=Zn;const Ro=Zn;let ki=(()=>{var a;class r{constructor(){}chat(u){return(0,ye.Z)(function*(){try{const p="https://api.openai.com/v1/chat/completions";return(yield Ro.post(p,{model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:u}]},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ce.N.openaiConfig.apiKey}`}})).data.choices[0].message.content}catch(p){return console.error("OpenAI API Error:",p),"Something went wrong."}})()}}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),r})();var is=k(6814),wi=k(6223);const ds=["scrollBottom"],oa=function(a,r){return{from:a,to:r}};function sr(a,r){if(1&a&&(H.TgZ(0,"div"),H._UZ(1,"div",17),H.qZA()),2&a){const o=r.$implicit;H.xp6(1),H.Q6J("ngClass",H.WLB(2,oa,!o.isOwner,o.isOwner))("innerHTML",o.text,H.oJD)}}function li(a,r){1&a&&(H.TgZ(0,"div")(1,"div",18)(2,"div",19),H._UZ(3,"div",20)(4,"div",21)(5,"div",22),H.qZA()()())}let wo=(()=>{var a;class r{constructor(u){this.openaiService=u}ngOnInit(){this.messageList=[]}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight}catch(u){console.log(u)}}sendMessage(u){var p=this;return(0,ye.Z)(function*(){if(0!=u.length){p.messageList.push({text:u,isOwner:!0}),p.message="",p.messageList.push({text:"Typing ...",isOwner:!1});const E=yield p.openaiService.chat(u);E&&(p.messageList.pop(),p.messageList.push({text:E,isOwner:!1}))}})()}}return(a=r).\u0275fac=function(u){return new(u||a)(H.Y36(ki))},a.\u0275cmp=H.Xpm({type:a,selectors:[["app-chatbot"]],viewQuery:function(u,p){if(1&u&&H.Gf(ds,7),2&u){let E;H.iGM(E=H.CRH())&&(p.scrollContainer=E.first)}},decls:17,vars:3,consts:[[1,"chat-dialog-page"],[1,"container"],[1,"row","m-auto","py-0","py-sm-3"],[1,"col"],[1,"card","shadow"],["src","/assets/icons/chatbot.png","alt","bot",1,"bot"],[1,"card-body"],["scrollBottom",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"input-group"],["type","text","placeholder","Type a message...","aria-label","Recipient's username with two button addons","aria-describedby","button-addon4",1,"form-control","input-text-message",3,"ngModel","ngModelChange","keydown.enter"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","btn-send",3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-play-fill"],["d","M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"],[1,"message",3,"ngClass","innerHTML"],[1,"message","from"],[1,"spinner"],[1,"bounce1"],[1,"bounce2"],[1,"bounce3"]],template:function(u,p){1&u&&(H.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),H._UZ(5,"img",5),H.TgZ(6,"div",6,7),H.YNc(8,sr,2,5,"div",8),H.YNc(9,li,6,0,"div",9),H.qZA(),H.TgZ(10,"div",10)(11,"div",11)(12,"input",12),H.NdJ("ngModelChange",function(T){return p.message=T})("keydown.enter",function(T){return p.sendMessage(p.message),T.preventDefault()}),H.qZA(),H.TgZ(13,"div",13)(14,"button",14),H.NdJ("click",function(){return p.sendMessage(p.message)}),H.O4$(),H.TgZ(15,"svg",15),H._UZ(16,"path",16),H.qZA()()()()()()()()()()),2&u&&(H.xp6(8),H.Q6J("ngForOf",p.messageList),H.xp6(1),H.Q6J("ngIf",p.isLoading),H.xp6(3),H.Q6J("ngModel",p.message))},dependencies:[is.mk,is.sg,is.O5,wi.Fj,wi.JJ,wi.On],styles:[".chat-dialog-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:16px;position:relative;max-width:100%;margin:10px auto;height:calc(100vh - 20px)}.chat-dialog-page[_ngcontent-%COMP%]   .bot[_ngcontent-%COMP%]{position:absolute;max-width:260px;align-items:center;align-self:center;top:28%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_mover 1s infinite alternate}@keyframes _ngcontent-%COMP%_mover{0%{transform:translateY(0)}to{transform:translateY(-10px)}}.chat-dialog-page[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{height:100%;overflow-y:auto;position:relative}.chat-dialog-page[_ngcontent-%COMP%]   .input-text-message[_ngcontent-%COMP%]{font-size:15px;border-radius:14px!important}.chat-dialog-page[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{margin:0 15px;border-radius:14px!important;border:none;padding:0 2px 0 4px;font-size:34px;line-height:0;background-color:#00bcd4;color:#fff;transition:.3s}.chat-dialog-page[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover{background-color:#363636}.chat-dialog-page[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border-radius:14px;margin:0 15px 10px;padding:13px 20px 15px;position:relative;font-weight:700;font-size:13px}.chat-dialog-page[_ngcontent-%COMP%]   .message.to[_ngcontent-%COMP%]{background-color:#00bcd4;color:#fff;margin-left:15%;text-align:right}.chat-dialog-page[_ngcontent-%COMP%]   .message.from[_ngcontent-%COMP%]{background-color:#e5e4e9;color:#363636;margin-right:15%}.message.to[_ngcontent-%COMP%] + .message.to[_ngcontent-%COMP%], .message.from[_ngcontent-%COMP%] + .message.from[_ngcontent-%COMP%]{margin-top:-10px}.chat-dialog-page[_ngcontent-%COMP%]   .integrated[_ngcontent-%COMP%]{font-size:14px;text-align:right}.chat-dialog-page[_ngcontent-%COMP%]   .integrated[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;display:inline-block}.chat-dialog-page[_ngcontent-%COMP%]   .integrated[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:24px}"]}),r})();const uo=[{path:"",component:De,children:[{path:"login",pathMatch:"full",component:Ue.G},{path:"chatbot",pathMatch:"full",component:wo},{path:"auth",loadChildren:()=>Promise.all([k.e(861),k.e(9)]).then(k.bind(k,1009)).then(a=>a.AuthModule)},{path:"fridge",loadChildren:()=>Promise.all([k.e(861),k.e(400),k.e(592),k.e(789)]).then(k.bind(k,2789)).then(a=>a.FridgeModule)},{path:"profile",loadChildren:()=>Promise.all([k.e(861),k.e(592),k.e(813)]).then(k.bind(k,3813)).then(a=>a.ProfileModule)},{path:"home",loadChildren:()=>Promise.all([k.e(861),k.e(592),k.e(142)]).then(k.bind(k,6142)).then(a=>a.HomeModule),canActivate:[Oe]},{path:"cart",loadChildren:()=>Promise.all([k.e(861),k.e(400),k.e(438)]).then(k.bind(k,438)).then(a=>a.CartModule)},{path:"recipe",loadChildren:()=>Promise.all([k.e(861),k.e(592),k.e(571)]).then(k.bind(k,7571)).then(a=>a.ProductModule)}]}],bi=[{path:"style",loadChildren:()=>Promise.all([k.e(861),k.e(733)]).then(k.bind(k,7733)).then(a=>a.StyleModule)}];Ce.N.production||uo.push(...bi);let Vr=(()=>{var a;class r{}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({imports:[Ae.Bz.forRoot(uo),Ae.Bz]}),r})();var Ss=k(5619),Fr=k(7398),Is=k(9397),qs=k(940),Zo=k(9862);const Ms="auth_data";let ws=(()=>{var a;class r{constructor(u){this.http=u,this.subject=new Ss.X(null),this.user$=this.subject.asObservable(),this.isLoggedIn$=this.user$.pipe((0,Fr.U)(E=>!!E)),this.isLoggedOut$=this.isLoggedIn$.pipe((0,Fr.U)(E=>!E));const p=localStorage.getItem(Ms);p&&this.subject.next(JSON.parse(p))}login(u,p){return this.http.post("http://localhost:9000/api/login",{email:u,password:p}).pipe((0,Is.b)(E=>{this.subject.next(E),localStorage.setItem(Ms,JSON.stringify(E))}),(0,qs.d)())}logout(){this.subject.next(null),localStorage.removeItem(Ms)}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(Zo.eN))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),r})(),bo=(()=>{var a;class r{constructor(u){this.auth=u}ngOnInit(){}logout(){this.auth.logout()}}return(a=r).\u0275fac=function(u){return new(u||a)(H.Y36(ws))},a.\u0275cmp=H.Xpm({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(u,p){1&u&&H._UZ(0,"router-outlet")},dependencies:[Ae.lC]}),r})();var Cr=k(3680);let $i=(()=>{var a;class r{}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({imports:[is.ez,Cr.BQ]}),r})();var fi=k(5597),Yo=k(8968),js=k(5869),es=k(2425),Or=k(6825);function Mo(a){return new H.vHH(3e3,!1)}function ya(a){switch(a.length){case 0:return new Or.ZN;case 1:return a[0];default:return new Or.ZE(a)}}function $a(a,r,o=new Map,u=new Map){const p=[],E=[];let T=-1,V=null;if(r.forEach(te=>{const ue=te.get("offset"),xe=ue==T,Pe=xe&&V||new Map;te.forEach((_t,Kt)=>{let Mt=Kt,nn=_t;if("offset"!==Kt)switch(Mt=a.normalizePropertyName(Mt,p),nn){case Or.k1:nn=o.get(Kt);break;case Or.l3:nn=u.get(Kt);break;default:nn=a.normalizeStyleValue(Kt,Mt,nn,p)}Pe.set(Mt,nn)}),xe||E.push(Pe),V=Pe,T=ue}),p.length)throw function ga(a){return new H.vHH(3502,!1)}();return E}function va(a,r,o,u){switch(r){case"start":a.onStart(()=>u(o&&ic(o,"start",a)));break;case"done":a.onDone(()=>u(o&&ic(o,"done",a)));break;case"destroy":a.onDestroy(()=>u(o&&ic(o,"destroy",a)))}}function ic(a,r,o){const E=Ga(a.element,a.triggerName,a.fromState,a.toState,r||a.phaseName,o.totalTime??a.totalTime,!!o.disabled),T=a._data;return null!=T&&(E._data=T),E}function Ga(a,r,o,u,p="",E=0,T){return{element:a,triggerName:r,fromState:o,toState:u,phaseName:p,totalTime:E,disabled:!!T}}function Co(a,r,o){let u=a.get(r);return u||a.set(r,u=o),u}function gl(a){const r=a.indexOf(":");return[a.substring(1,r),a.slice(r+1)]}const Ea=(()=>typeof document>"u"?null:document.documentElement)();function Ia(a){const r=a.parentNode||a.host||null;return r===Ea?null:r}let Ml=null,sc=!1;function zl(a,r){for(;r;){if(r===a)return!0;r=Ia(r)}return!1}function aa(a,r,o){if(o)return Array.from(a.querySelectorAll(r));const u=a.querySelector(r);return u?[u]:[]}let fo=(()=>{var a;class r{validateStyleProperty(u){return function nl(a){Ml||(Ml=function Vc(){return typeof document<"u"?document.body:null}()||{},sc=!!Ml.style&&"WebkitAppearance"in Ml.style);let r=!0;return Ml.style&&!function Gl(a){return"ebkit"==a.substring(1,6)}(a)&&(r=a in Ml.style,!r&&sc&&(r="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in Ml.style)),r}(u)}matchesElement(u,p){return!1}containsElement(u,p){return zl(u,p)}getParentElement(u){return Ia(u)}query(u,p,E){return aa(u,p,E)}computeStyle(u,p,E){return E||""}animate(u,p,E,T,V,te=[],ue){return new Or.ZN(E,T)}}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac}),r})(),la=(()=>{class r{}return r.NOOP=new fo,r})();const Ti=1e3,Ne="ng-enter",Y="ng-leave",M="ng-trigger",K=".ng-trigger",ae="ng-animating",fe=".ng-animating";function Me(a){if("number"==typeof a)return a;const r=a.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:st(parseFloat(r[1]),r[2])}function st(a,r){return"s"===r?a*Ti:a}function nt(a,r,o){return a.hasOwnProperty("duration")?a:function At(a,r,o){let p,E=0,T="";if("string"==typeof a){const V=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===V)return r.push(Mo()),{duration:0,delay:0,easing:""};p=st(parseFloat(V[1]),V[2]);const te=V[3];null!=te&&(E=st(parseFloat(te),V[4]));const ue=V[5];ue&&(T=ue)}else p=a;if(!o){let V=!1,te=r.length;p<0&&(r.push(function ja(){return new H.vHH(3100,!1)}()),V=!0),E<0&&(r.push(function Hl(){return new H.vHH(3101,!1)}()),V=!0),V&&r.splice(te,0,Mo())}return{duration:p,delay:E,easing:T}}(a,r,o)}function Jt(a,r={}){return Object.keys(a).forEach(o=>{r[o]=a[o]}),r}function mn(a){const r=new Map;return Object.keys(a).forEach(o=>{r.set(o,a[o])}),r}function mr(a,r=new Map,o){if(o)for(let[u,p]of o)r.set(u,p);for(let[u,p]of a)r.set(u,p);return r}function Ur(a,r,o){r.forEach((u,p)=>{const E=wa(p);o&&!o.has(p)&&o.set(p,a.style[E]),a.style[E]=u})}function ei(a,r){r.forEach((o,u)=>{const p=wa(u);a.style[p]=""})}function ts(a){return Array.isArray(a)?1==a.length?a[0]:(0,Or.vP)(a):a}const Ys=new RegExp("{{\\s*(.+?)\\s*}}","g");function ss(a){let r=[];if("string"==typeof a){let o;for(;o=Ys.exec(a);)r.push(o[1]);Ys.lastIndex=0}return r}function Pi(a,r,o){const u=a.toString(),p=u.replace(Ys,(E,T)=>{let V=r[T];return null==V&&(o.push(function Fo(a){return new H.vHH(3003,!1)}()),V=""),V.toString()});return p==u?a:p}function Hs(a){const r=[];let o=a.next();for(;!o.done;)r.push(o.value),o=a.next();return r}const cr=/-+([a-z0-9])/g;function wa(a){return a.replace(cr,(...r)=>r[1].toUpperCase())}function Qs(a,r,o){switch(r.type){case 7:return a.visitTrigger(r,o);case 0:return a.visitState(r,o);case 1:return a.visitTransition(r,o);case 2:return a.visitSequence(r,o);case 3:return a.visitGroup(r,o);case 4:return a.visitAnimate(r,o);case 5:return a.visitKeyframes(r,o);case 6:return a.visitStyle(r,o);case 8:return a.visitReference(r,o);case 9:return a.visitAnimateChild(r,o);case 10:return a.visitAnimateRef(r,o);case 11:return a.visitQuery(r,o);case 12:return a.visitStagger(r,o);default:throw function ne(a){return new H.vHH(3004,!1)}()}}function xo(a,r){return window.getComputedStyle(a)[r]}const pt="*";function wn(a,r){const o=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(u=>function jc(a,r,o){if(":"==a[0]){const te=function Ln(a,r){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return r.push(function $l(a){return new H.vHH(3016,!1)}()),"* => *"}}(a,o);if("function"==typeof te)return void r.push(te);a=te}const u=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function Rl(a){return new H.vHH(3015,!1)}()),r;const p=u[1],E=u[2],T=u[3];r.push(ci(p,T));"<"==E[0]&&!(p==pt&&T==pt)&&r.push(ci(T,p))}(u,o,r)):o.push(a),o}const kt=new Set(["true","1"]),an=new Set(["false","0"]);function ci(a,r){const o=kt.has(a)||an.has(a),u=kt.has(r)||an.has(r);return(p,E)=>{let T=a==pt||a==p,V=r==pt||r==E;return!T&&o&&"boolean"==typeof p&&(T=p?kt.has(a):an.has(a)),!V&&u&&"boolean"==typeof E&&(V=E?kt.has(r):an.has(r)),T&&V}}const Xo=new RegExp("s*:selfs*,?","g");function ms(a,r,o,u){return new du(a).build(r,o,u)}class du{constructor(r){this._driver=r}build(r,o,u){const p=new il(o);return this._resetContextStyleTimingState(p),Qs(this,ts(r),p)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,o){let u=o.queryCount=0,p=o.depCount=0;const E=[],T=[];return"@"==r.name.charAt(0)&&o.errors.push(function be(){return new H.vHH(3006,!1)}()),r.definitions.forEach(V=>{if(this._resetContextStyleTimingState(o),0==V.type){const te=V,ue=te.name;ue.toString().split(/\s*,\s*/).forEach(xe=>{te.name=xe,E.push(this.visitState(te,o))}),te.name=ue}else if(1==V.type){const te=this.visitTransition(V,o);u+=te.queryCount,p+=te.depCount,T.push(te)}else o.errors.push(function $(){return new H.vHH(3007,!1)}())}),{type:7,name:r.name,states:E,transitions:T,queryCount:u,depCount:p,options:null}}visitState(r,o){const u=this.visitStyle(r.styles,o),p=r.options&&r.options.params||null;if(u.containsDynamicStyles){const E=new Set,T=p||{};u.styles.forEach(V=>{V instanceof Map&&V.forEach(te=>{ss(te).forEach(ue=>{T.hasOwnProperty(ue)||E.add(ue)})})}),E.size&&(Hs(E.values()),o.errors.push(function ie(a,r){return new H.vHH(3008,!1)}()))}return{type:0,name:r.name,style:u,options:p?{params:p}:null}}visitTransition(r,o){o.queryCount=0,o.depCount=0;const u=Qs(this,ts(r.animation),o);return{type:1,matchers:wn(r.expr,o.errors),animation:u,queryCount:o.queryCount,depCount:o.depCount,options:No(r.options)}}visitSequence(r,o){return{type:2,steps:r.steps.map(u=>Qs(this,u,o)),options:No(r.options)}}visitGroup(r,o){const u=o.currentTime;let p=0;const E=r.steps.map(T=>{o.currentTime=u;const V=Qs(this,T,o);return p=Math.max(p,o.currentTime),V});return o.currentTime=p,{type:3,steps:E,options:No(r.options)}}visitAnimate(r,o){const u=function Pl(a,r){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return Dr(nt(a,r).duration,0,"");const o=a;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=Dr(0,0,"");return E.dynamic=!0,E.strValue=o,E}const p=nt(o,r);return Dr(p.duration,p.delay,p.easing)}(r.timings,o.errors);o.currentAnimateTimings=u;let p,E=r.styles?r.styles:(0,Or.oB)({});if(5==E.type)p=this.visitKeyframes(E,o);else{let T=r.styles,V=!1;if(!T){V=!0;const ue={};u.easing&&(ue.easing=u.easing),T=(0,Or.oB)(ue)}o.currentTime+=u.duration+u.delay;const te=this.visitStyle(T,o);te.isEmptyStep=V,p=te}return o.currentAnimateTimings=null,{type:4,timings:u,style:p,options:null}}visitStyle(r,o){const u=this._makeStyleAst(r,o);return this._validateStyleAst(u,o),u}_makeStyleAst(r,o){const u=[],p=Array.isArray(r.styles)?r.styles:[r.styles];for(let V of p)"string"==typeof V?V===Or.l3?u.push(V):o.errors.push(new H.vHH(3002,!1)):u.push(mn(V));let E=!1,T=null;return u.forEach(V=>{if(V instanceof Map&&(V.has("easing")&&(T=V.get("easing"),V.delete("easing")),!E))for(let te of V.values())if(te.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:u,easing:T,offset:r.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(r,o){const u=o.currentAnimateTimings;let p=o.currentTime,E=o.currentTime;u&&E>0&&(E-=u.duration+u.delay),r.styles.forEach(T=>{"string"!=typeof T&&T.forEach((V,te)=>{const ue=o.collectedStyles.get(o.currentQuerySelector),xe=ue.get(te);let Pe=!0;xe&&(E!=p&&E>=xe.startTime&&p<=xe.endTime&&(o.errors.push(function xt(a,r,o,u,p){return new H.vHH(3010,!1)}()),Pe=!1),E=xe.startTime),Pe&&ue.set(te,{startTime:E,endTime:p}),o.options&&function Ui(a,r,o){const u=r.params||{},p=ss(a);p.length&&p.forEach(E=>{u.hasOwnProperty(E)||o.push(function Qo(a){return new H.vHH(3001,!1)}())})}(V,o.options,o.errors)})})}visitKeyframes(r,o){const u={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function bn(){return new H.vHH(3011,!1)}()),u;let E=0;const T=[];let V=!1,te=!1,ue=0;const xe=r.steps.map(Br=>{const pi=this._makeStyleAst(Br,o);let mi=null!=pi.offset?pi.offset:function Lu(a){if("string"==typeof a)return null;let r=null;if(Array.isArray(a))a.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;r=parseFloat(u.get("offset")),u.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const o=a;r=parseFloat(o.get("offset")),o.delete("offset")}return r}(pi.styles),Qi=0;return null!=mi&&(E++,Qi=pi.offset=mi),te=te||Qi<0||Qi>1,V=V||Qi<ue,ue=Qi,T.push(Qi),pi});te&&o.errors.push(function Ir(){return new H.vHH(3012,!1)}()),V&&o.errors.push(function oi(){return new H.vHH(3200,!1)}());const Pe=r.steps.length;let _t=0;E>0&&E<Pe?o.errors.push(function Ps(){return new H.vHH(3202,!1)}()):0==E&&(_t=1/(Pe-1));const Kt=Pe-1,Mt=o.currentTime,nn=o.currentAnimateTimings,zn=nn.duration;return xe.forEach((Br,pi)=>{const mi=_t>0?pi==Kt?1:_t*pi:T[pi],Qi=mi*zn;o.currentTime=Mt+nn.delay+Qi,nn.duration=Qi,this._validateStyleAst(Br,o),Br.offset=mi,u.styles.push(Br)}),u}visitReference(r,o){return{type:8,animation:Qs(this,ts(r.animation),o),options:No(r.options)}}visitAnimateChild(r,o){return o.depCount++,{type:9,options:No(r.options)}}visitAnimateRef(r,o){return{type:10,animation:this.visitReference(r.animation,o),options:No(r.options)}}visitQuery(r,o){const u=o.currentQuerySelector,p=r.options||{};o.queryCount++,o.currentQuery=r;const[E,T]=function hu(a){const r=!!a.split(/\s*,\s*/).find(o=>":self"==o);return r&&(a=a.replace(Xo,"")),a=a.replace(/@\*/g,K).replace(/@\w+/g,o=>K+"-"+o.slice(1)).replace(/:animating/g,fe),[a,r]}(r.selector);o.currentQuerySelector=u.length?u+" "+E:E,Co(o.collectedStyles,o.currentQuerySelector,new Map);const V=Qs(this,ts(r.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:11,selector:E,limit:p.limit||0,optional:!!p.optional,includeSelf:T,animation:V,originalSelector:r.selector,options:No(r.options)}}visitStagger(r,o){o.currentQuery||o.errors.push(function Po(){return new H.vHH(3013,!1)}());const u="full"===r.timings?{duration:0,delay:0,easing:"full"}:nt(r.timings,o.errors,!0);return{type:12,animation:Qs(this,ts(r.animation),o),timings:u,options:null}}}class il{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function No(a){return a?(a=Jt(a)).params&&(a.params=function Vo(a){return a?Jt(a):null}(a.params)):a={},a}function Dr(a,r,o){return{duration:a,delay:r,easing:o}}function sl(a,r,o,u,p,E,T=null,V=!1){return{type:1,element:a,keyframes:r,preStyleProps:o,postStyleProps:u,duration:p,delay:E,totalTime:p+E,easing:T,subTimeline:V}}class Wl{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,o){let u=this._map.get(r);u||this._map.set(r,u=[]),u.push(...o)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const xa=new RegExp(":enter","g"),fu=new RegExp(":leave","g");function $s(a,r,o,u,p,E=new Map,T=new Map,V,te,ue=[]){return(new xn).buildKeyframes(a,r,o,u,p,E,T,V,te,ue)}class xn{buildKeyframes(r,o,u,p,E,T,V,te,ue,xe=[]){ue=ue||new Wl;const Pe=new Ol(r,o,ue,p,E,xe,[]);Pe.options=te;const _t=te.delay?Me(te.delay):0;Pe.currentTimeline.delayNextStep(_t),Pe.currentTimeline.setStyles([T],null,Pe.errors,te),Qs(this,u,Pe);const Kt=Pe.timelines.filter(Mt=>Mt.containsAnimation());if(Kt.length&&V.size){let Mt;for(let nn=Kt.length-1;nn>=0;nn--){const zn=Kt[nn];if(zn.element===o){Mt=zn;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([V],null,Pe.errors,te)}return Kt.length?Kt.map(Mt=>Mt.buildKeyframes()):[sl(o,[],[],[],0,_t,"",!1)]}visitTrigger(r,o){}visitState(r,o){}visitTransition(r,o){}visitAnimateChild(r,o){const u=o.subInstructions.get(o.element);if(u){const p=o.createSubContext(r.options),E=o.currentTimeline.currentTime,T=this._visitSubInstructions(u,p,p.options);E!=T&&o.transformIntoNewTimeline(T)}o.previousNode=r}visitAnimateRef(r,o){const u=o.createSubContext(r.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],o,u),this.visitReference(r.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=r}_applyAnimationRefDelays(r,o,u){for(const p of r){const E=p?.delay;if(E){const T="number"==typeof E?E:Me(Pi(E,p?.params??{},o.errors));u.delayNextStep(T)}}}_visitSubInstructions(r,o,u){let E=o.currentTimeline.currentTime;const T=null!=u.duration?Me(u.duration):null,V=null!=u.delay?Me(u.delay):null;return 0!==T&&r.forEach(te=>{const ue=o.appendInstructionToTimeline(te,T,V);E=Math.max(E,ue.duration+ue.delay)}),E}visitReference(r,o){o.updateOptions(r.options,!0),Qs(this,r.animation,o),o.previousNode=r}visitSequence(r,o){const u=o.subContextCount;let p=o;const E=r.options;if(E&&(E.params||E.delay)&&(p=o.createSubContext(E),p.transformIntoNewTimeline(),null!=E.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=ac);const T=Me(E.delay);p.delayNextStep(T)}r.steps.length&&(r.steps.forEach(T=>Qs(this,T,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>u&&p.transformIntoNewTimeline()),o.previousNode=r}visitGroup(r,o){const u=[];let p=o.currentTimeline.currentTime;const E=r.options&&r.options.delay?Me(r.options.delay):0;r.steps.forEach(T=>{const V=o.createSubContext(r.options);E&&V.delayNextStep(E),Qs(this,T,V),p=Math.max(p,V.currentTimeline.currentTime),u.push(V.currentTimeline)}),u.forEach(T=>o.currentTimeline.mergeTimelineCollectedStyles(T)),o.transformIntoNewTimeline(p),o.previousNode=r}_visitTiming(r,o){if(r.dynamic){const u=r.strValue;return nt(o.params?Pi(u,o.params,o.errors):u,o.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,o){const u=o.currentAnimateTimings=this._visitTiming(r.timings,o),p=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),p.snapshotCurrentStyles());const E=r.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(u.duration),this.visitStyle(E,o),p.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=r}visitStyle(r,o){const u=o.currentTimeline,p=o.currentAnimateTimings;!p&&u.hasCurrentStyleProperties()&&u.forwardFrame();const E=p&&p.easing||r.easing;r.isEmptyStep?u.applyEmptyStep(E):u.setStyles(r.styles,E,o.errors,o.options),o.previousNode=r}visitKeyframes(r,o){const u=o.currentAnimateTimings,p=o.currentTimeline.duration,E=u.duration,V=o.createSubContext().currentTimeline;V.easing=u.easing,r.styles.forEach(te=>{V.forwardTime((te.offset||0)*E),V.setStyles(te.styles,te.easing,o.errors,o.options),V.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(V),o.transformIntoNewTimeline(p+E),o.previousNode=r}visitQuery(r,o){const u=o.currentTimeline.currentTime,p=r.options||{},E=p.delay?Me(p.delay):0;E&&(6===o.previousNode.type||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ac);let T=u;const V=o.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!p.optional,o.errors);o.currentQueryTotal=V.length;let te=null;V.forEach((ue,xe)=>{o.currentQueryIndex=xe;const Pe=o.createSubContext(r.options,ue);E&&Pe.delayNextStep(E),ue===o.element&&(te=Pe.currentTimeline),Qs(this,r.animation,Pe),Pe.currentTimeline.applyStylesToKeyframe(),T=Math.max(T,Pe.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(T),te&&(o.currentTimeline.mergeTimelineCollectedStyles(te),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=r}visitStagger(r,o){const u=o.parentContext,p=o.currentTimeline,E=r.timings,T=Math.abs(E.duration),V=T*(o.currentQueryTotal-1);let te=T*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":te=V-te;break;case"full":te=u.currentStaggerTime}const xe=o.currentTimeline;te&&xe.delayNextStep(te);const Pe=xe.currentTime;Qs(this,r.animation,o),o.previousNode=r,u.currentStaggerTime=p.currentTime-Pe+(p.startTime-u.currentTimeline.startTime)}}const ac={};class Ol{constructor(r,o,u,p,E,T,V,te){this._driver=r,this.element=o,this.subInstructions=u,this._enterClassName=p,this._leaveClassName=E,this.errors=T,this.timelines=V,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ac,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=te||new _l(this._driver,o,0),V.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,o){if(!r)return;const u=r;let p=this.options;null!=u.duration&&(p.duration=Me(u.duration)),null!=u.delay&&(p.delay=Me(u.delay));const E=u.params;if(E){let T=p.params;T||(T=this.options.params={}),Object.keys(E).forEach(V=>{(!o||!T.hasOwnProperty(V))&&(T[V]=Pi(E[V],T,this.errors))})}}_copyOptions(){const r={};if(this.options){const o=this.options.params;if(o){const u=r.params={};Object.keys(o).forEach(p=>{u[p]=o[p]})}}return r}createSubContext(r=null,o,u){const p=o||this.element,E=new Ol(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,u||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(r),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(r){return this.previousNode=ac,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,o,u){const p={duration:o??r.duration,delay:this.currentTimeline.currentTime+(u??0)+r.delay,easing:""},E=new O(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,p,r.stretchStartingKeyframe);return this.timelines.push(E),p}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,o,u,p,E,T){let V=[];if(p&&V.push(this.element),r.length>0){r=(r=r.replace(xa,"."+this._enterClassName)).replace(fu,"."+this._leaveClassName);let ue=this._driver.query(this.element,r,1!=u);0!==u&&(ue=u<0?ue.slice(ue.length+u,ue.length):ue.slice(0,u)),V.push(...ue)}return!E&&0==V.length&&T.push(function ma(a){return new H.vHH(3014,!1)}()),V}}class _l{constructor(r,o,u,p){this._driver=r,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=p,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+r),o&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,o){return this.applyStylesToKeyframe(),new _l(this._driver,r,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,o){this._localTimelineStyles.set(r,o),this._globalTimelineStyles.set(r,o),this._styleSummary.set(r,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||Or.l3),this._currentKeyframe.set(o,Or.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,o,u,p){o&&this._previousKeyframe.set("easing",o);const E=p&&p.params||{},T=function W(a,r){const o=new Map;let u;return a.forEach(p=>{if("*"===p){u=u||r.keys();for(let E of u)o.set(E,Or.l3)}else mr(p,o)}),o}(r,this._globalTimelineStyles);for(let[V,te]of T){const ue=Pi(te,E,u);this._pendingStyles.set(V,ue),this._localTimelineStyles.has(V)||this._backFill.set(V,this._globalTimelineStyles.get(V)??Or.l3),this._updateStyle(V,ue)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,o)=>{this._currentKeyframe.set(o,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,r)}))}snapshotCurrentStyles(){for(let[r,o]of this._localTimelineStyles)this._pendingStyles.set(r,o),this._updateStyle(r,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let o in this._currentKeyframe)r.push(o);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((o,u)=>{const p=this._styleSummary.get(u);(!p||o.time>p.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((V,te)=>{const ue=mr(V,new Map,this._backFill);ue.forEach((xe,Pe)=>{xe===Or.k1?r.add(Pe):xe===Or.l3&&o.add(Pe)}),u||ue.set("offset",te/this.duration),p.push(ue)});const E=r.size?Hs(r.values()):[],T=o.size?Hs(o.values()):[];if(u){const V=p[0],te=new Map(V);V.set("offset",0),te.set("offset",1),p=[V,te]}return sl(this.element,p,E,T,this.duration,this.startTime,this.easing,!1)}}class O extends _l{constructor(r,o,u,p,E,T,V=!1){super(r,o,T.delay),this.keyframes=u,this.preStyleProps=p,this.postStyleProps=E,this._stretchStartingKeyframe=V,this.timings={duration:T.duration,delay:T.delay,easing:T.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:o,duration:u,easing:p}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],T=u+o,V=o/T,te=mr(r[0]);te.set("offset",0),E.push(te);const ue=mr(r[0]);ue.set("offset",B(V)),E.push(ue);const xe=r.length-1;for(let Pe=1;Pe<=xe;Pe++){let _t=mr(r[Pe]);const Kt=_t.get("offset");_t.set("offset",B((o+Kt*u)/T)),E.push(_t)}u=T,o=0,p="",r=E}return sl(this.element,r,this.preStyleProps,this.postStyleProps,u,o,p,!0)}}function B(a,r=3){const o=Math.pow(10,r-1);return Math.round(a*o)/o}class ee{}const Re=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gt extends ee{normalizePropertyName(r,o){return wa(r)}normalizeStyleValue(r,o,u,p){let E="";const T=u.toString().trim();if(Re.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)E="px";else{const V=u.match(/^[+-]?[\d\.]+([a-z]*)$/);V&&0==V[1].length&&p.push(function q(a,r){return new H.vHH(3005,!1)}())}return T+E}}function In(a,r,o,u,p,E,T,V,te,ue,xe,Pe,_t){return{type:0,element:a,triggerName:r,isRemovalTransition:p,fromState:o,fromStyles:E,toState:u,toStyles:T,timelines:V,queriedElements:te,preStyleProps:ue,postStyleProps:xe,totalTime:Pe,errors:_t}}const Xt={};class or{constructor(r,o,u){this._triggerName=r,this.ast=o,this._stateStyles=u}match(r,o,u,p){return function Ct(a,r,o,u,p){return a.some(E=>E(r,o,u,p))}(this.ast.matchers,r,o,u,p)}buildStyles(r,o,u){let p=this._stateStyles.get("*");return void 0!==r&&(p=this._stateStyles.get(r?.toString())||p),p?p.buildStyles(o,u):new Map}build(r,o,u,p,E,T,V,te,ue,xe){const Pe=[],_t=this.ast.options&&this.ast.options.params||Xt,Mt=this.buildStyles(u,V&&V.params||Xt,Pe),nn=te&&te.params||Xt,zn=this.buildStyles(p,nn,Pe),Br=new Set,pi=new Map,mi=new Map,Qi="void"===p,ld={params:Oi(nn,_t),delay:this.ast.options?.delay},Ic=xe?[]:$s(r,o,this.ast.animation,E,T,Mt,zn,ld,ue,Pe);let jl=0;if(Ic.forEach(cu=>{jl=Math.max(cu.duration+cu.delay,jl)}),Pe.length)return In(o,this._triggerName,u,p,Qi,Mt,zn,[],[],pi,mi,jl,Pe);Ic.forEach(cu=>{const ph=cu.element,ZE=Co(pi,ph,new Set);cu.preStyleProps.forEach(vg=>ZE.add(vg));const yg=Co(mi,ph,new Set);cu.postStyleProps.forEach(vg=>yg.add(vg)),ph!==o&&Br.add(ph)});const lu=Hs(Br.values());return In(o,this._triggerName,u,p,Qi,Mt,zn,Ic,lu,pi,mi,jl)}}function Oi(a,r){const o=Jt(r);for(const u in a)a.hasOwnProperty(u)&&null!=a[u]&&(o[u]=a[u]);return o}class os{constructor(r,o,u){this.styles=r,this.defaultParams=o,this.normalizer=u}buildStyles(r,o){const u=new Map,p=Jt(this.defaultParams);return Object.keys(r).forEach(E=>{const T=r[E];null!==T&&(p[E]=T)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((T,V)=>{T&&(T=Pi(T,p,o));const te=this.normalizer.normalizePropertyName(V,o);T=this.normalizer.normalizeStyleValue(V,te,T,o),u.set(V,T)})}),u}}class ol{constructor(r,o,u){this.name=r,this.ast=o,this._normalizer=u,this.transitionFactories=[],this.states=new Map,o.states.forEach(p=>{this.states.set(p.name,new os(p.style,p.options&&p.options.params||{},u))}),Kl(this.states,"true","1"),Kl(this.states,"false","0"),o.transitions.forEach(p=>{this.transitionFactories.push(new or(r,p,this.states))}),this.fallbackTransition=function Do(a,r,o){return new or(a,{type:1,animation:{type:2,steps:[],options:null},matchers:[(T,V)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,o,u,p){return this.transitionFactories.find(T=>T.match(r,o,u,p))||null}matchStyles(r,o,u){return this.fallbackTransition.buildStyles(r,o,u)}}function Kl(a,r,o){a.has(r)?a.has(o)||a.set(o,a.get(r)):a.has(o)&&a.set(r,a.get(o))}const Na=new Wl;class pu{constructor(r,o,u){this.bodyNode=r,this._driver=o,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,o){const u=[],E=ms(this._driver,o,u,[]);if(u.length)throw function As(a){return new H.vHH(3503,!1)}();this._animations.set(r,E)}_buildPlayer(r,o,u){const p=r.element,E=$a(this._normalizer,r.keyframes,o,u);return this._driver.animate(p,E,r.duration,r.delay,r.easing,[],!0)}create(r,o,u={}){const p=[],E=this._animations.get(r);let T;const V=new Map;if(E?(T=$s(this._driver,o,E,Ne,Y,new Map,new Map,u,Na,p),T.forEach(xe=>{const Pe=Co(V,xe.element,new Map);xe.postStyleProps.forEach(_t=>Pe.set(_t,null))})):(p.push(function Uo(){return new H.vHH(3300,!1)}()),T=[]),p.length)throw function _a(a){return new H.vHH(3504,!1)}();V.forEach((xe,Pe)=>{xe.forEach((_t,Kt)=>{xe.set(Kt,this._driver.computeStyle(Pe,Kt,Or.l3))})});const ue=ya(T.map(xe=>{const Pe=V.get(xe.element);return this._buildPlayer(xe,new Map,Pe)}));return this._playersById.set(r,ue),ue.onDestroy(()=>this.destroy(r)),this.players.push(ue),ue}destroy(r){const o=this._getPlayer(r);o.destroy(),this._playersById.delete(r);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(r){const o=this._playersById.get(r);if(!o)throw function el(a){return new H.vHH(3301,!1)}();return o}listen(r,o,u,p){const E=Ga(o,"","","");return va(this._getPlayer(r),u,E,p),()=>{}}command(r,o,u,p){if("register"==u)return void this.register(r,p[0]);if("create"==u)return void this.create(r,o,p[0]||{});const E=this._getPlayer(r);switch(u){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(r)}}}const lc="ng-animate-queued",xl="ng-animate-disabled",ud=[],Gs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Uu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},al="__ng_removed";class eo{get params(){return this.options.params}constructor(r,o=""){this.namespaceId=o;const u=r&&r.hasOwnProperty("value");if(this.value=function Gc(a){return a??null}(u?r.value:r),u){const E=Jt(r);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const o=r.params;if(o){const u=this.options.params;Object.keys(o).forEach(p=>{null==u[p]&&(u[p]=o[p])})}}}const mu="void",yl=new eo(mu);class gu{constructor(r,o,u){this.id=r,this.hostElement=o,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,zs(o,this._hostClassName)}listen(r,o,u,p){if(!this._triggers.has(o))throw function tl(a,r){return new H.vHH(3302,!1)}();if(null==u||0==u.length)throw function pl(a){return new H.vHH(3303,!1)}();if(!function gh(a){return"start"==a||"done"==a}(u))throw function ml(a,r){return new H.vHH(3400,!1)}();const E=Co(this._elementListeners,r,[]),T={name:o,phase:u,callback:p};E.push(T);const V=Co(this._engine.statesByElement,r,new Map);return V.has(o)||(zs(r,M),zs(r,M+"-"+o),V.set(o,yl)),()=>{this._engine.afterFlush(()=>{const te=E.indexOf(T);te>=0&&E.splice(te,1),this._triggers.has(o)||V.delete(o)})}}register(r,o){return!this._triggers.has(r)&&(this._triggers.set(r,o),!0)}_getTrigger(r){const o=this._triggers.get(r);if(!o)throw function To(a){return new H.vHH(3401,!1)}();return o}trigger(r,o,u,p=!0){const E=this._getTrigger(o),T=new mh(this.id,o,r);let V=this._engine.statesByElement.get(r);V||(zs(r,M),zs(r,M+"-"+o),this._engine.statesByElement.set(r,V=new Map));let te=V.get(o);const ue=new eo(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&te&&ue.absorbOptions(te.options),V.set(o,ue),te||(te=yl),ue.value!==mu&&te.value===ue.value){if(!function ql(a,r){const o=Object.keys(a),u=Object.keys(r);if(o.length!=u.length)return!1;for(let p=0;p<o.length;p++){const E=o[p];if(!r.hasOwnProperty(E)||a[E]!==r[E])return!1}return!0}(te.params,ue.params)){const nn=[],zn=E.matchStyles(te.value,te.params,nn),Br=E.matchStyles(ue.value,ue.params,nn);nn.length?this._engine.reportError(nn):this._engine.afterFlush(()=>{ei(r,zn),Ur(r,Br)})}return}const _t=Co(this._engine.playersByElement,r,[]);_t.forEach(nn=>{nn.namespaceId==this.id&&nn.triggerName==o&&nn.queued&&nn.destroy()});let Kt=E.matchTransition(te.value,ue.value,r,ue.params),Mt=!1;if(!Kt){if(!p)return;Kt=E.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:o,transition:Kt,fromState:te,toState:ue,player:T,isFallbackTransition:Mt}),Mt||(zs(r,lc),T.onStart(()=>{_u(r,lc)})),T.onDone(()=>{let nn=this.players.indexOf(T);nn>=0&&this.players.splice(nn,1);const zn=this._engine.playersByElement.get(r);if(zn){let Br=zn.indexOf(T);Br>=0&&zn.splice(Br,1)}}),this.players.push(T),_t.push(T),T}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(o=>o.delete(r)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(p=>p.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const o=this._engine.playersByElement.get(r);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,o){const u=this._engine.driver.query(r,K,!0);u.forEach(p=>{if(p[al])return;const E=this._engine.fetchNamespacesByElement(p);E.size?E.forEach(T=>T.triggerLeaveAnimation(p,o,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(r,o,u,p){const E=this._engine.statesByElement.get(r),T=new Map;if(E){const V=[];if(E.forEach((te,ue)=>{if(T.set(ue,te.value),this._triggers.has(ue)){const xe=this.trigger(r,ue,mu,p);xe&&V.push(xe)}}),V.length)return this._engine.markElementAsRemoved(this.id,r,!0,o,T),u&&ya(V).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const o=this._elementListeners.get(r),u=this._engine.statesByElement.get(r);if(o&&u){const p=new Set;o.forEach(E=>{const T=E.name;if(p.has(T))return;p.add(T);const te=this._triggers.get(T).fallbackTransition,ue=u.get(T)||yl,xe=new eo(mu),Pe=new mh(this.id,T,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:T,transition:te,fromState:ue,toState:xe,player:Pe,isFallbackTransition:!0})})}}removeNode(r,o){const u=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,o),this.triggerLeaveAnimation(r,o,!0))return;let p=!1;if(u.totalAnimations){const E=u.players.length?u.playersByQueriedElement.get(r):[];if(E&&E.length)p=!0;else{let T=r;for(;T=T.parentNode;)if(u.statesByElement.get(T)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(r),p)u.markElementAsRemoved(this.id,r,!1,o);else{const E=r[al];(!E||E===Gs)&&(u.afterFlush(()=>this.clearElementCache(r)),u.destroyInnerAnimations(r),u._onRemovalComplete(r,o))}}insertNode(r,o){zs(r,this._hostClassName)}drainQueuedTransitions(r){const o=[];return this._queue.forEach(u=>{const p=u.player;if(p.destroyed)return;const E=u.element,T=this._elementListeners.get(E);T&&T.forEach(V=>{if(V.name==u.triggerName){const te=Ga(E,u.triggerName,u.fromState.value,u.toState.value);te._data=r,va(u.player,V.phase,te,V.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):o.push(u)}),this._queue=[],o.sort((u,p)=>{const E=u.transition.ast.depCount,T=p.transition.ast.depCount;return 0==E||0==T?E-T:this._engine.driver.containsElement(u.element,p.element)?1:-1})}destroy(r){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}}class Hc{_onRemovalComplete(r,o){this.onRemovalComplete(r,o)}constructor(r,o,u){this.bodyNode=r,this.driver=o,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,E)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&r.push(u)})}),r}createNamespace(r,o){const u=new gu(r,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[r]=u}_balanceNamespaceList(r,o){const u=this._namespaceList,p=this.namespacesByHostElement;if(u.length-1>=0){let T=!1,V=this.driver.getParentElement(o);for(;V;){const te=p.get(V);if(te){const ue=u.indexOf(te);u.splice(ue+1,0,r),T=!0;break}V=this.driver.getParentElement(V)}T||u.unshift(r)}else u.push(r);return p.set(o,r),r}register(r,o){let u=this._namespaceLookup[r];return u||(u=this.createNamespace(r,o)),u}registerTrigger(r,o,u){let p=this._namespaceLookup[r];p&&p.register(o,u)&&this.totalAnimations++}destroy(r,o){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(r);this.namespacesByHostElement.delete(u.hostElement);const p=this._namespaceList.indexOf(u);p>=0&&this._namespaceList.splice(p,1),u.destroy(o),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const o=new Set,u=this.statesByElement.get(r);if(u)for(let p of u.values())if(p.namespaceId){const E=this._fetchNamespace(p.namespaceId);E&&o.add(E)}return o}trigger(r,o,u,p){if(Tc(o)){const E=this._fetchNamespace(r);if(E)return E.trigger(o,u,p),!0}return!1}insertNode(r,o,u,p){if(!Tc(o))return;const E=o[al];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const T=this.collectedLeaveElements.indexOf(o);T>=0&&this.collectedLeaveElements.splice(T,1)}if(r){const T=this._fetchNamespace(r);T&&T.insertNode(o,u)}p&&this.collectEnterElement(o)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,o){o?this.disabledNodes.has(r)||(this.disabledNodes.add(r),zs(r,xl)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),_u(r,xl))}removeNode(r,o,u){if(Tc(o)){const p=r?this._fetchNamespace(r):null;p?p.removeNode(o,u):this.markElementAsRemoved(r,o,!1,u);const E=this.namespacesByHostElement.get(o);E&&E.id!==r&&E.removeNode(o,u)}else this._onRemovalComplete(o,u)}markElementAsRemoved(r,o,u,p,E){this.collectedLeaveElements.push(o),o[al]={namespaceId:r,setForRemoval:p,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:E}}listen(r,o,u,p,E){return Tc(o)?this._fetchNamespace(r).listen(o,u,p,E):()=>{}}_buildInstruction(r,o,u,p,E){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,u,p,r.fromState.options,r.toState.options,o,E)}destroyInnerAnimations(r){let o=this.driver.query(r,K,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(r,fe,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(r){const o=this.playersByElement.get(r);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(r){const o=this.playersByQueriedElement.get(r);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return ya(this.players).onDone(()=>r());r()})}processLeaveNode(r){const o=r[al];if(o&&o.setForRemoval){if(r[al]=Gs,o.namespaceId){this.destroyInnerAnimations(r);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}r.classList?.contains(xl)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(r=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,p)=>this._balanceNamespaceList(u,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)zs(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,r)}finally{for(let p=0;p<u.length;p++)u[p]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?ya(o).onDone(()=>{u.forEach(p=>p())}):u.forEach(p=>p())}}reportError(r){throw function Oa(a){return new H.vHH(3402,!1)}()}_flushAnimations(r,o){const u=new Wl,p=[],E=new Map,T=[],V=new Map,te=new Map,ue=new Map,xe=new Set;this.disabledNodes.forEach(Mr=>{xe.add(Mr);const Zr=this.driver.query(Mr,".ng-animate-queued",!0);for(let Wr=0;Wr<Zr.length;Wr++)xe.add(Zr[Wr])});const Pe=this.bodyNode,_t=Array.from(this.statesByElement.keys()),Kt=_h(_t,this.collectedEnterElements),Mt=new Map;let nn=0;Kt.forEach((Mr,Zr)=>{const Wr=Ne+nn++;Mt.set(Zr,Wr),Mr.forEach(Rs=>zs(Rs,Wr))});const zn=[],Br=new Set,pi=new Set;for(let Mr=0;Mr<this.collectedLeaveElements.length;Mr++){const Zr=this.collectedLeaveElements[Mr],Wr=Zr[al];Wr&&Wr.setForRemoval&&(zn.push(Zr),Br.add(Zr),Wr.hasAnimation?this.driver.query(Zr,".ng-star-inserted",!0).forEach(Rs=>Br.add(Rs)):pi.add(Zr))}const mi=new Map,Qi=_h(_t,Array.from(Br));Qi.forEach((Mr,Zr)=>{const Wr=Y+nn++;mi.set(Zr,Wr),Mr.forEach(Rs=>zs(Rs,Wr))}),r.push(()=>{Kt.forEach((Mr,Zr)=>{const Wr=Mt.get(Zr);Mr.forEach(Rs=>_u(Rs,Wr))}),Qi.forEach((Mr,Zr)=>{const Wr=mi.get(Zr);Mr.forEach(Rs=>_u(Rs,Wr))}),zn.forEach(Mr=>{this.processLeaveNode(Mr)})});const ld=[],Ic=[];for(let Mr=this._namespaceList.length-1;Mr>=0;Mr--)this._namespaceList[Mr].drainQueuedTransitions(o).forEach(Wr=>{const Rs=Wr.player,nc=Wr.element;if(ld.push(Rs),this.collectedEnterElements.length){const Uc=nc[al];if(Uc&&Uc.setForMove){if(Uc.previousTriggersValues&&Uc.previousTriggersValues.has(Wr.triggerName)){const Em=Uc.previousTriggersValues.get(Wr.triggerName),Nu=this.statesByElement.get(Wr.element);if(Nu&&Nu.has(Wr.triggerName)){const Ov=Nu.get(Wr.triggerName);Ov.value=Em,Nu.set(Wr.triggerName,Ov)}}return void Rs.destroy()}}const lp=!Pe||!this.driver.containsElement(Pe,nc),uu=mi.get(nc),mf=Mt.get(nc),Ua=this._buildInstruction(Wr,u,mf,uu,lp);if(Ua.errors&&Ua.errors.length)return void Ic.push(Ua);if(lp)return Rs.onStart(()=>ei(nc,Ua.fromStyles)),Rs.onDestroy(()=>Ur(nc,Ua.toStyles)),void p.push(Rs);if(Wr.isFallbackTransition)return Rs.onStart(()=>ei(nc,Ua.fromStyles)),Rs.onDestroy(()=>Ur(nc,Ua.toStyles)),void p.push(Rs);const YE=[];Ua.timelines.forEach(Uc=>{Uc.stretchStartingKeyframe=!0,this.disabledNodes.has(Uc.element)||YE.push(Uc)}),Ua.timelines=YE,u.append(nc,Ua.timelines),T.push({instruction:Ua,player:Rs,element:nc}),Ua.queriedElements.forEach(Uc=>Co(V,Uc,[]).push(Rs)),Ua.preStyleProps.forEach((Uc,Em)=>{if(Uc.size){let Nu=te.get(Em);Nu||te.set(Em,Nu=new Set),Uc.forEach((Ov,X0)=>Nu.add(X0))}}),Ua.postStyleProps.forEach((Uc,Em)=>{let Nu=ue.get(Em);Nu||ue.set(Em,Nu=new Set),Uc.forEach((Ov,X0)=>Nu.add(X0))})});if(Ic.length){const Mr=[];Ic.forEach(Zr=>{Mr.push(function rc(a,r){return new H.vHH(3505,!1)}())}),ld.forEach(Zr=>Zr.destroy()),this.reportError(Mr)}const jl=new Map,lu=new Map;T.forEach(Mr=>{const Zr=Mr.element;u.has(Zr)&&(lu.set(Zr,Zr),this._beforeAnimationBuild(Mr.player.namespaceId,Mr.instruction,jl))}),p.forEach(Mr=>{const Zr=Mr.element;this._getPreviousPlayers(Zr,!1,Mr.namespaceId,Mr.triggerName,null).forEach(Rs=>{Co(jl,Zr,[]).push(Rs),Rs.destroy()})});const cu=zn.filter(Mr=>yu(Mr,te,ue)),ph=new Map;zc(ph,this.driver,pi,ue,Or.l3).forEach(Mr=>{yu(Mr,te,ue)&&cu.push(Mr)});const yg=new Map;Kt.forEach((Mr,Zr)=>{zc(yg,this.driver,new Set(Mr),te,Or.k1)}),cu.forEach(Mr=>{const Zr=ph.get(Mr),Wr=yg.get(Mr);ph.set(Mr,new Map([...Zr?.entries()??[],...Wr?.entries()??[]]))});const vg=[],xI=[],J0={};T.forEach(Mr=>{const{element:Zr,player:Wr,instruction:Rs}=Mr;if(u.has(Zr)){if(xe.has(Zr))return Wr.onDestroy(()=>Ur(Zr,Rs.toStyles)),Wr.disabled=!0,Wr.overrideTotalTime(Rs.totalTime),void p.push(Wr);let nc=J0;if(lu.size>1){let uu=Zr;const mf=[];for(;uu=uu.parentNode;){const Ua=lu.get(uu);if(Ua){nc=Ua;break}mf.push(uu)}mf.forEach(Ua=>lu.set(Ua,nc))}const lp=this._buildAnimation(Wr.namespaceId,Rs,jl,E,yg,ph);if(Wr.setRealPlayer(lp),nc===J0)vg.push(Wr);else{const uu=this.playersByElement.get(nc);uu&&uu.length&&(Wr.parentPlayer=ya(uu)),p.push(Wr)}}else ei(Zr,Rs.fromStyles),Wr.onDestroy(()=>Ur(Zr,Rs.toStyles)),xI.push(Wr),xe.has(Zr)&&p.push(Wr)}),xI.forEach(Mr=>{const Zr=E.get(Mr.element);if(Zr&&Zr.length){const Wr=ya(Zr);Mr.setRealPlayer(Wr)}}),p.forEach(Mr=>{Mr.parentPlayer?Mr.syncPlayerEvents(Mr.parentPlayer):Mr.destroy()});for(let Mr=0;Mr<zn.length;Mr++){const Zr=zn[Mr],Wr=Zr[al];if(_u(Zr,Y),Wr&&Wr.hasAnimation)continue;let Rs=[];if(V.size){let lp=V.get(Zr);lp&&lp.length&&Rs.push(...lp);let uu=this.driver.query(Zr,fe,!0);for(let mf=0;mf<uu.length;mf++){let Ua=V.get(uu[mf]);Ua&&Ua.length&&Rs.push(...Ua)}}const nc=Rs.filter(lp=>!lp.destroyed);nc.length?Vu(this,Zr,nc):this.processLeaveNode(Zr)}return zn.length=0,vg.forEach(Mr=>{this.players.push(Mr),Mr.onDone(()=>{Mr.destroy();const Zr=this.players.indexOf(Mr);this.players.splice(Zr,1)}),Mr.play()}),vg}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,o,u,p,E){let T=[];if(o){const V=this.playersByQueriedElement.get(r);V&&(T=V)}else{const V=this.playersByElement.get(r);if(V){const te=!E||E==mu;V.forEach(ue=>{ue.queued||!te&&ue.triggerName!=p||T.push(ue)})}}return(u||p)&&(T=T.filter(V=>!(u&&u!=V.namespaceId||p&&p!=V.triggerName))),T}_beforeAnimationBuild(r,o,u){const E=o.element,T=o.isRemovalTransition?void 0:r,V=o.isRemovalTransition?void 0:o.triggerName;for(const te of o.timelines){const ue=te.element,xe=ue!==E,Pe=Co(u,ue,[]);this._getPreviousPlayers(ue,xe,T,V,o.toState).forEach(Kt=>{const Mt=Kt.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),Kt.destroy(),Pe.push(Kt)})}ei(E,o.fromStyles)}_buildAnimation(r,o,u,p,E,T){const V=o.triggerName,te=o.element,ue=[],xe=new Set,Pe=new Set,_t=o.timelines.map(Mt=>{const nn=Mt.element;xe.add(nn);const zn=nn[al];if(zn&&zn.removedBeforeQueried)return new Or.ZN(Mt.duration,Mt.delay);const Br=nn!==te,pi=function Wc(a){const r=[];return Nd(a,r),r}((u.get(nn)||ud).map(jl=>jl.getRealPlayer())).filter(jl=>!!jl.element&&jl.element===nn),mi=E.get(nn),Qi=T.get(nn),ld=$a(this._normalizer,Mt.keyframes,mi,Qi),Ic=this._buildPlayer(Mt,ld,pi);if(Mt.subTimeline&&p&&Pe.add(nn),Br){const jl=new mh(r,V,nn);jl.setRealPlayer(Ic),ue.push(jl)}return Ic});ue.forEach(Mt=>{Co(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function $c(a,r,o){let u=a.get(r);if(u){if(u.length){const p=u.indexOf(o);u.splice(p,1)}0==u.length&&a.delete(r)}return u}(this.playersByQueriedElement,Mt.element,Mt))}),xe.forEach(Mt=>zs(Mt,ae));const Kt=ya(_t);return Kt.onDestroy(()=>{xe.forEach(Mt=>_u(Mt,ae)),Ur(te,o.toStyles)}),Pe.forEach(Mt=>{Co(p,Mt,[]).push(Kt)}),Kt}_buildPlayer(r,o,u){return o.length>0?this.driver.animate(r.element,o,r.duration,r.delay,r.easing,u):new Or.ZN(r.duration,r.delay)}}class mh{constructor(r,o,u){this.namespaceId=r,this.triggerName=o,this.element=u,this._player=new Or.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((o,u)=>{o.forEach(p=>va(r,u,void 0,p))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const o=this._player;o.triggerCallback&&r.onStart(()=>o.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,o){Co(this._queuedCallbacks,r,[]).push(o)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const o=this._player;o.triggerCallback&&o.triggerCallback(r)}}function Tc(a){return a&&1===a.nodeType}function _f(a,r){const o=a.style.display;return a.style.display=r??"none",o}function zc(a,r,o,u,p){const E=[];o.forEach(te=>E.push(_f(te)));const T=[];u.forEach((te,ue)=>{const xe=new Map;te.forEach(Pe=>{const _t=r.computeStyle(ue,Pe,p);xe.set(Pe,_t),(!_t||0==_t.length)&&(ue[al]=Uu,T.push(ue))}),a.set(ue,xe)});let V=0;return o.forEach(te=>_f(te,E[V++])),T}function _h(a,r){const o=new Map;if(a.forEach(V=>o.set(V,[])),0==r.length)return o;const p=new Set(r),E=new Map;function T(V){if(!V)return 1;let te=E.get(V);if(te)return te;const ue=V.parentNode;return te=o.has(ue)?ue:p.has(ue)?1:T(ue),E.set(V,te),te}return r.forEach(V=>{const te=T(V);1!==te&&o.get(te).push(V)}),o}function zs(a,r){a.classList?.add(r)}function _u(a,r){a.classList?.remove(r)}function Vu(a,r,o){ya(o).onDone(()=>a.processLeaveNode(r))}function Nd(a,r){for(let o=0;o<a.length;o++){const u=a[o];u instanceof Or.ZE?Nd(u.players,r):r.push(u)}}function yu(a,r,o){const u=o.get(a);if(!u)return!1;let p=r.get(a);return p?u.forEach(E=>p.add(E)):r.set(a,u),o.delete(a),!0}class dd{constructor(r,o,u){this.bodyNode=r,this._driver=o,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(p,E)=>{},this._transitionEngine=new Hc(r,o,u),this._timelineEngine=new pu(r,o,u),this._transitionEngine.onRemovalComplete=(p,E)=>this.onRemovalComplete(p,E)}registerTrigger(r,o,u,p,E){const T=r+"-"+p;let V=this._triggerCache[T];if(!V){const te=[],xe=ms(this._driver,E,te,[]);if(te.length)throw function Ha(a,r){return new H.vHH(3404,!1)}();V=function Wa(a,r,o){return new ol(a,r,o)}(p,xe,this._normalizer),this._triggerCache[T]=V}this._transitionEngine.registerTrigger(o,p,V)}register(r,o){this._transitionEngine.register(r,o)}destroy(r,o){this._transitionEngine.destroy(r,o)}onInsert(r,o,u,p){this._transitionEngine.insertNode(r,o,u,p)}onRemove(r,o,u){this._transitionEngine.removeNode(r,o,u)}disableAnimations(r,o){this._transitionEngine.markElementAsDisabled(r,o)}process(r,o,u,p){if("@"==u.charAt(0)){const[E,T]=gl(u);this._timelineEngine.command(E,o,T,p)}else this._transitionEngine.trigger(r,o,u,p)}listen(r,o,u,p,E){if("@"==u.charAt(0)){const[T,V]=gl(u);return this._timelineEngine.listen(T,o,V,E)}return this._transitionEngine.listen(r,o,u,p,E)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}}let Bu=(()=>{class r{constructor(u,p,E){this._element=u,this._startStyles=p,this._endStyles=E,this._state=0;let T=r.initialStylesByElement.get(u);T||r.initialStylesByElement.set(u,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ei(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ei(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function vu(a){let r=null;return a.forEach((o,u)=>{(function ju(a){return"display"===a||"position"===a})(u)&&(r=r||new Map,r.set(u,o))}),r}class Bo{constructor(r,o,u,p){this.element=r,this.keyframes=o,this.options=u,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const o=[];return r.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(r,o,u){return r.animate(this._convertKeyframesToObject(o),u)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,p)=>{"offset"!==p&&r.set(p,this._finished?u:xo(this.element,p))}),this.currentSnapshot=r}triggerCallback(r){const o="start"===r?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Hu{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,o){return!1}containsElement(r,o){return zl(r,o)}getParentElement(r){return Ia(r)}query(r,o,u){return aa(r,o,u)}computeStyle(r,o,u){return window.getComputedStyle(r)[o]}animate(r,o,u,p,E,T=[]){const te={duration:u,delay:p,fill:0==p?"both":"forwards"};E&&(te.easing=E);const ue=new Map,xe=T.filter(Kt=>Kt instanceof Bo);(function Bc(a,r){return 0===a||0===r})(u,p)&&xe.forEach(Kt=>{Kt.currentSnapshot.forEach((Mt,nn)=>ue.set(nn,Mt))});let Pe=function on(a){return a.length?a[0]instanceof Map?a:a.map(r=>mn(r)):[]}(o).map(Kt=>mr(Kt));Pe=function ns(a,r,o){if(o.size&&r.length){let u=r[0],p=[];if(o.forEach((E,T)=>{u.has(T)||p.push(T),u.set(T,E)}),p.length)for(let E=1;E<r.length;E++){let T=r[E];p.forEach(V=>T.set(V,xo(a,V)))}}return r}(r,Pe,ue);const _t=function Kc(a,r){let o=null,u=null;return Array.isArray(r)&&r.length?(o=vu(r[0]),r.length>1&&(u=vu(r[r.length-1]))):r instanceof Map&&(o=vu(r)),o||u?new Bu(a,o,u):null}(r,Pe);return new Bo(r,Pe,te,_t)}}let ca=(()=>{var a;class r extends Or._j{constructor(u,p){super(),this._nextAnimationId=0,this._renderer=u.createRenderer(p.body,{id:"0",encapsulation:H.ifc.None,styles:[],data:{animation:[]}})}build(u){const p=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(u)?(0,Or.vP)(u):u;return Nl(this._renderer,null,p,"register",[E]),new yf(p,this._renderer)}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(H.FYo),H.LFG(is.K0))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac}),r})();class yf extends Or.LC{constructor(r,o){super(),this._id=r,this._renderer=o}create(r,o){return new as(this._id,r,o||{},this._renderer)}}class as{constructor(r,o,u,p){this.id=r,this.element=o,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(r,o){return this._renderer.listen(this.element,`@@${this.id}:${r}`,o)}_command(r,...o){return Nl(this._renderer,this.element,this.id,r,o)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Nl(a,r,o,u,p){return a.setProperty(r,`@@${o}:${u}`,p)}const fs="@.disabled";let mo=(()=>{var a;class r{constructor(u,p,E){this.delegate=u,this.engine=p,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(T,V)=>{const te=V?.parentNode(T);te&&V.removeChild(te,T)}}createRenderer(u,p){const T=this.delegate.createRenderer(u,p);if(!(u&&p&&p.data&&p.data.animation)){let Pe=this._rendererCache.get(T);return Pe||(Pe=new Cc("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,Pe)),Pe}const V=p.id,te=p.id+"-"+this._currentId;this._currentId++,this.engine.register(te,u);const ue=Pe=>{Array.isArray(Pe)?Pe.forEach(ue):this.engine.registerTrigger(V,te,u,Pe.name,Pe)};return p.data.animation.forEach(ue),new ea(this,te,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(u,p,E){u>=0&&u<this._microtaskId?this._zone.run(()=>p(E)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[V,te]=T;V(te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(H.FYo),H.LFG(dd),H.LFG(H.R0b))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac}),r})();class Cc{constructor(r,o,u,p){this.namespaceId=r,this.delegate=o,this.engine=u,this._onDestroy=p}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,o){return this.delegate.createElement(r,o)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,o){this.delegate.appendChild(r,o),this.engine.onInsert(this.namespaceId,o,r,!1)}insertBefore(r,o,u,p=!0){this.delegate.insertBefore(r,o,u),this.engine.onInsert(this.namespaceId,o,r,p)}removeChild(r,o,u){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(r,o){return this.delegate.selectRootElement(r,o)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,o,u,p){this.delegate.setAttribute(r,o,u,p)}removeAttribute(r,o,u){this.delegate.removeAttribute(r,o,u)}addClass(r,o){this.delegate.addClass(r,o)}removeClass(r,o){this.delegate.removeClass(r,o)}setStyle(r,o,u,p){this.delegate.setStyle(r,o,u,p)}removeStyle(r,o,u){this.delegate.removeStyle(r,o,u)}setProperty(r,o,u){"@"==o.charAt(0)&&o==fs?this.disableAnimations(r,!!u):this.delegate.setProperty(r,o,u)}setValue(r,o){this.delegate.setValue(r,o)}listen(r,o,u){return this.delegate.listen(r,o,u)}disableAnimations(r,o){this.engine.disableAnimations(r,o)}}class ea extends Cc{constructor(r,o,u,p,E){super(o,u,p,E),this.factory=r,this.namespaceId=o}setProperty(r,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==fs?this.disableAnimations(r,u=void 0===u||!!u):this.engine.process(this.namespaceId,r,o.slice(1),u):this.delegate.setProperty(r,o,u)}listen(r,o,u){if("@"==o.charAt(0)){const p=function cc(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(r);let E=o.slice(1),T="";return"@"!=E.charAt(0)&&([E,T]=function kd(a){const r=a.indexOf(".");return[a.substring(0,r),a.slice(r+1)]}(E)),this.engine.listen(this.namespaceId,p,E,T,V=>{this.factory.scheduleListenerCallback(V._data||-1,u,V)})}return this.delegate.listen(r,o,u)}}let Ws=(()=>{var a;class r extends dd{constructor(u,p,E,T){super(u.body,p,E)}ngOnDestroy(){this.flush()}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(is.K0),H.LFG(la),H.LFG(ee),H.LFG(H.z2F))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac}),r})();const _s=[{provide:Or._j,useClass:ca},{provide:ee,useFactory:function hd(){return new gt}},{provide:dd,useClass:Ws},{provide:H.FYo,useFactory:function ba(a,r,o){return new mo(a,r,o)},deps:[z.se,dd,H.R0b]}],ta=[{provide:la,useFactory:()=>new Hu},{provide:H.QbO,useValue:"BrowserAnimations"},..._s],Eu=[{provide:la,useClass:fo},{provide:H.QbO,useValue:"NoopAnimations"},..._s];let ll=(()=>{var a;class r{static withConfig(u){return{ngModule:r,providers:u.disableAnimations?Eu:ta}}}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({providers:ta,imports:[z.b2]}),r})();var cl=k(617),Ta=k(6304),So=k(7046),vl=k(5592),Sc=k(2096),ul=k(2459),qc=k(3620),El=k(4664),Ca=k(2793),b=k(9058),G=k(4537),le=k(4303),Fe=k(7879);class at{constructor(r,o){this._delegate=r,this.firebase=o,(0,le._addComponent)(r,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=r.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this._delegate.automaticDataCollectionEnabled=r}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(r=>{this._delegate.checkDestroyed(),r()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,le.deleteApp)(this._delegate)))}_getService(r,o=le._DEFAULT_ENTRY_NAME){var u;this._delegate.checkDestroyed();const p=this._delegate.container.getProvider(r);return!p.isInitialized()&&"EXPLICIT"===(null===(u=p.getComponent())||void 0===u?void 0:u.instantiationMode)&&p.initialize(),p.getImmediate({identifier:o})}_removeServiceInstance(r,o=le._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(r).clearInstance(o)}_addComponent(r){(0,le._addComponent)(this._delegate,r)}_addOrOverwriteComponent(r){(0,le._addOrOverwriteComponent)(this._delegate,r)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Yt=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_r=function An(){const a=function On(a){const r={},o={__esModule:!0,initializeApp:function E(ue,xe={}){const Pe=le.initializeApp(ue,xe);if((0,b.r3)(r,Pe.name))return r[Pe.name];const _t=new a(Pe,o);return r[Pe.name]=_t,_t},app:p,registerVersion:le.registerVersion,setLogLevel:le.setLogLevel,onLog:le.onLog,apps:null,SDK_VERSION:le.SDK_VERSION,INTERNAL:{registerComponent:function V(ue){const xe=ue.name,Pe=xe.replace("-compat","");if(le._registerComponent(ue)&&"PUBLIC"===ue.type){const _t=(Kt=p())=>{if("function"!=typeof Kt[Pe])throw Yt.create("invalid-app-argument",{appName:xe});return Kt[Pe]()};void 0!==ue.serviceProps&&(0,b.ZB)(_t,ue.serviceProps),o[Pe]=_t,a.prototype[Pe]=function(...Kt){return this._getService.bind(this,xe).apply(this,ue.multipleInstances?Kt:[])}}return"PUBLIC"===ue.type?o[Pe]:null},removeApp:function u(ue){delete r[ue]},useAsService:function te(ue,xe){return"serverAuth"===xe?null:xe},modularAPIs:le}};function p(ue){if(!(0,b.r3)(r,ue=ue||le._DEFAULT_ENTRY_NAME))throw Yt.create("no-app",{appName:ue});return r[ue]}return o.default=o,Object.defineProperty(o,"apps",{get:function T(){return Object.keys(r).map(ue=>r[ue])}}),p.App=a,o}(at);return a.INTERNAL=Object.assign(Object.assign({},a.INTERNAL),{createFirebaseNamespace:An,extendNamespace:function r(o){(0,b.ZB)(a,o)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),a}(),Hr=new Fe.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){Hr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const a=self.firebase.SDK_VERSION;a&&a.indexOf("LITE")>=0&&Hr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const uc=_r;!function zr(a){(0,le.registerVersion)("@firebase/app-compat","0.2.19",a)}();const Gi="firebasestorage.googleapis.com",ka="storageBucket";class to extends b.ZR{constructor(r,o,u=0){super(xi(r),`Firebase Storage: ${o} (${xi(r)})`),this.status_=u,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,to.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return xi(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var no=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(no||{});function xi(a){return"storage/"+a}function zi(){return new to(no.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function $u(){return new to(no.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dp(){return new to(no.CANCELED,"User canceled the upload/download.")}function md(){return new to(no.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ac(a){return new to(no.INVALID_ARGUMENT,a)}function yh(){return new to(no.APP_DELETED,"The Firebase app was deleted.")}function Im(a){return new to(no.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(a,r){return new to(no.INVALID_FORMAT,"String does not match format '"+a+"': "+r)}function Yl(a){throw new to(no.INTERNAL_ERROR,"Internal error: "+a)}class ua{constructor(r,o){this.bucket=r,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,o){let u;try{u=ua.makeFromUrl(r,o)}catch{return new ua(r,"")}if(""===u.path)return u;throw function Ld(a){return new to(no.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}(r)}static makeFromUrl(r,o){let u=null;const p="([A-Za-z0-9.\\-_]+)",V=new RegExp("^gs://"+p+"(/(.*))?$","i");function ue(Qi){Qi.path_=decodeURIComponent(Qi.path)}const Pe=o.replace(/[.]/g,"\\."),mi=[{regex:V,indices:{bucket:1,path:3},postModify:function E(Qi){"/"===Qi.path.charAt(Qi.path.length-1)&&(Qi.path_=Qi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Pe}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ue},{regex:new RegExp(`^https?://${o===Gi?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ue}];for(let Qi=0;Qi<mi.length;Qi++){const ld=mi[Qi],Ic=ld.regex.exec(r);if(Ic){let lu=Ic[ld.indices.path];lu||(lu=""),u=new ua(Ic[ld.indices.bucket],lu),ld.postModify(u);break}}if(null==u)throw function hp(a){return new to(no.INVALID_URL,"Invalid URL '"+a+"'.")}(r);return u}}class Fd{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function Pc(a){return"string"==typeof a||a instanceof String}function gp(a){return x()&&a instanceof Blob}function x(){return typeof Blob<"u"&&!(0,b.UG)()}function v(a,r,o,u){if(u<r)throw Ac(`Invalid value for '${a}'. Expected ${r} or greater.`);if(u>o)throw Ac(`Invalid value for '${a}'. Expected ${o} or less.`)}function D(a,r,o){let u=r;return null==o&&(u=`https://${r}`),`${o}://${u}/v0${a}`}function U(a){const r=encodeURIComponent;let o="?";for(const u in a)a.hasOwnProperty(u)&&(o=o+(r(u)+"=")+r(a[u])+"&");return o=o.slice(0,-1),o}var he=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(he||{});function we(a,r){const o=a>=500&&a<600,p=-1!==[408,429].indexOf(a),E=-1!==r.indexOf(a);return o||p||E}class mt{constructor(r,o,u,p,E,T,V,te,ue,xe,Pe,_t=!0){this.url_=r,this.method_=o,this.headers_=u,this.body_=p,this.successCodes_=E,this.additionalRetryCodes_=T,this.callback_=V,this.errorCallback_=te,this.timeout_=ue,this.progressCallback_=xe,this.connectionFactory_=Pe,this.retry=_t,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Kt,Mt)=>{this.resolve_=Kt,this.reject_=Mt,this.start_()})}start_(){const o=(u,p)=>{const E=this.resolve_,T=this.reject_,V=p.connection;if(p.wasSuccessCode)try{const te=this.callback_(V,V.getResponse());!function zu(a){return void 0!==a}(te)?E():E(te)}catch(te){T(te)}else if(null!==V){const te=zi();te.serverResponse=V.getErrorText(),T(this.errorCallback_?this.errorCallback_(V,te):te)}else T(p.canceled?this.appDelete_?yh():dp():$u())};this.canceled_?o(0,new zt(!1,null,!0)):this.backoffId_=function hc(a,r,o){let u=1,p=null,E=null,T=!1,V=0;function te(){return 2===V}let ue=!1;function xe(...zn){ue||(ue=!0,r.apply(null,zn))}function Pe(zn){p=setTimeout(()=>{p=null,a(Kt,te())},zn)}function _t(){E&&clearTimeout(E)}function Kt(zn,...Br){if(ue)return void _t();if(zn)return _t(),void xe.call(null,zn,...Br);if(te()||T)return _t(),void xe.call(null,zn,...Br);let mi;u<64&&(u*=2),1===V?(V=2,mi=0):mi=1e3*(u+Math.random()),Pe(mi)}let Mt=!1;function nn(zn){Mt||(Mt=!0,_t(),!ue&&(null!==p?(zn||(V=2),clearTimeout(p),Pe(0)):zn||(V=1)))}return Pe(0),E=setTimeout(()=>{T=!0,nn(!0)},o),nn}((u,p)=>{if(p)return void u(!1,new zt(!1,null,!0));const E=this.connectionFactory_();this.pendingConnection_=E;const T=V=>{null!==this.progressCallback_&&this.progressCallback_(V.loaded,V.lengthComputable?V.total:-1)};null!==this.progressCallback_&&E.addUploadProgressListener(T),E.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&E.removeUploadProgressListener(T),this.pendingConnection_=null;const V=E.getErrorCode()===he.NO_ERROR,te=E.getStatus();if(!V||we(te,this.additionalRetryCodes_)&&this.retry){const xe=E.getErrorCode()===he.ABORT;return void u(!1,new zt(!1,null,xe))}const ue=-1!==this.successCodes_.indexOf(te);u(!0,new zt(ue,E))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function pp(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zt{constructor(r,o,u){this.wasSuccessCode=r,this.connection=o,this.canceled=!!u}}function hl(...a){const r=function Qc(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const o=new r;for(let u=0;u<a.length;u++)o.append(a[u]);return o.getBlob()}if(x())return new Blob(a);throw new to(no.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fl{constructor(r,o){this.data=r,this.contentType=o||null}}function fc(a,r){switch(a){case Ka.RAW:return new Fl(wl(r));case Ka.BASE64:case Ka.BASE64URL:return new Fl(pc(a,r));case Ka.DATA_URL:return new Fl(function Eh(a){const r=new gd(a);return r.base64?pc(Ka.BASE64,r.rest):function vh(a){let r;try{r=decodeURIComponent(a)}catch{throw Rc(Ka.DATA_URL,"Malformed data URL.")}return wl(r)}(r.rest)}(r),function ni(a){return new gd(a).contentType}(r))}throw zi()}function wl(a){const r=[];for(let o=0;o<a.length;o++){let u=a.charCodeAt(o);u<=127?r.push(u):u<=2047?r.push(192|u>>6,128|63&u):55296==(64512&u)?o<a.length-1&&56320==(64512&a.charCodeAt(o+1))?(u=65536|(1023&u)<<10|1023&a.charCodeAt(++o),r.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u)):r.push(239,191,189):56320==(64512&u)?r.push(239,191,189):r.push(224|u>>12,128|u>>6&63,128|63&u)}return new Uint8Array(r)}function pc(a,r){switch(a){case Ka.BASE64:{const p=-1!==r.indexOf("-"),E=-1!==r.indexOf("_");if(p||E)throw Rc(a,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case Ka.BASE64URL:{const p=-1!==r.indexOf("+"),E=-1!==r.indexOf("/");if(p||E)throw Rc(a,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function La(a){if(typeof atob>"u")throw function Gu(a){return new to(no.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(r)}catch(p){throw p.message.includes("polyfill")?p:Rc(a,"Invalid character found")}const u=new Uint8Array(o.length);for(let p=0;p<o.length;p++)u[p]=o.charCodeAt(p);return u}class gd{constructor(r){this.base64=!1,this.contentType=null;const o=r.match(/^data:([^,]+)?,/);if(null===o)throw Rc(Ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const u=o[1]||null;null!=u&&(this.base64=function Ef(a,r){return a.length>=r.length&&a.substring(a.length-r.length)===r}(u,";base64"),this.contentType=this.base64?u.substring(0,u.length-7):u),this.rest=r.substring(r.indexOf(",")+1)}}class Ql{constructor(r,o){let u=0,p="";gp(r)?(this.data_=r,u=r.size,p=r.type):r instanceof ArrayBuffer?(o?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),u=this.data_.length):r instanceof Uint8Array&&(o?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),u=r.length),this.size_=u,this.type_=p}size(){return this.size_}type(){return this.type_}slice(r,o){if(gp(this.data_)){const p=function Ud(a,r,o){return a.webkitSlice?a.webkitSlice(r,o):a.mozSlice?a.mozSlice(r,o):a.slice?a.slice(r,o):null}(this.data_,r,o);return null===p?null:new Ql(p)}{const u=new Uint8Array(this.data_.buffer,r,o-r);return new Ql(u,!0)}}static getBlob(...r){if(x()){const o=r.map(u=>u instanceof Ql?u.data_:u);return new Ql(hl.apply(null,o))}{const o=r.map(T=>Pc(T)?fc(Ka.RAW,T).data:T.data_);let u=0;o.forEach(T=>{u+=T.byteLength});const p=new Uint8Array(u);let E=0;return o.forEach(T=>{for(let V=0;V<T.length;V++)p[E++]=T[V]}),new Ql(p,!0)}}uploadData(){return this.data_}}function Ih(a){let r;try{r=JSON.parse(a)}catch{return null}return function mp(a){return"object"==typeof a&&!Array.isArray(a)}(r)?r:null}function If(a){const r=a.lastIndexOf("/",a.length-2);return-1===r?a:a.slice(r+1)}function mc(a,r){return r}class Da{constructor(r,o,u,p){this.server=r,this.local=o||r,this.writable=!!u,this.xform=p||mc}}let wh=null;function go(){if(wh)return wh;const a=[];a.push(new Da("bucket")),a.push(new Da("generation")),a.push(new Da("metageneration")),a.push(new Da("name","fullPath",!0));const o=new Da("name");o.xform=function r(E,T){return function bh(a){return!Pc(a)||a.length<2?a:If(a)}(T)},a.push(o);const p=new Da("size");return p.xform=function u(E,T){return void 0!==T?Number(T):T},a.push(p),a.push(new Da("timeCreated")),a.push(new Da("updated")),a.push(new Da("md5Hash",null,!0)),a.push(new Da("cacheControl",null,!0)),a.push(new Da("contentDisposition",null,!0)),a.push(new Da("contentEncoding",null,!0)),a.push(new Da("contentLanguage",null,!0)),a.push(new Da("contentType",null,!0)),a.push(new Da("metadata","customMetadata",!0)),wh=a,wh}function Ch(a,r,o){const u=Ih(r);return null===u?null:function _d(a,r,o){const u={type:"file"},p=o.length;for(let E=0;E<p;E++){const T=o[E];u[T.local]=T.xform(u,r[T.server])}return function Th(a,r){Object.defineProperty(a,"ref",{get:function o(){const E=new ua(a.bucket,a.fullPath);return r._makeStorageReference(E)}})}(u,a),u}(a,u,o)}function Ul(a,r){const o={},u=r.length;for(let p=0;p<u;p++){const E=r[p];E.writable&&(o[E.server]=a[E.local])}return JSON.stringify(o)}const wf="prefixes",Vd="items";class ls{constructor(r,o,u,p){this.url=r,this.method=o,this.handler=u,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ro(a){if(!a)throw zi()}function Wu(a,r){return function o(u,p){const E=Ch(a,p,r);return ro(null!==E),E}}function qa(a){return function r(o,u){let p;return p=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function fd(){return new to(no.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function vf(){return new to(no.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function dc(a){return new to(no.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===o.getStatus()?function up(a){return new to(no.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}(a.path):u,p.status=o.getStatus(),p.serverResponse=u.serverResponse,p}}function Jc(a){const r=qa(a);return function o(u,p){let E=r(u,p);return 404===u.getStatus()&&(E=function Yc(a){return new to(no.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}(a.path)),E.serverResponse=p.serverResponse,E}}function Dh(a,r,o){const p=D(r.fullServerUrl(),a.host,a._protocol),T=a.maxOperationRetryTime,V=new ls(p,"GET",Wu(a,o),T);return V.errorHandler=Jc(r),V}function Bd(a,r,o,u,p){const E={};E.prefix=r.isRoot?"":r.path+"/",o&&o.length>0&&(E.delimiter=o),u&&(E.pageToken=u),p&&(E.maxResults=p);const V=D(r.bucketOnlyServerUrl(),a.host,a._protocol),ue=a.maxOperationRetryTime,xe=new ls(V,"GET",function bf(a,r){return function o(u,p){const E=function Ig(a,r,o){const u=Ih(o);return null===u?null:function L_(a,r,o){const u={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[wf])for(const p of o[wf]){const E=p.replace(/\/$/,""),T=a._makeStorageReference(new ua(r,E));u.prefixes.push(T)}if(o[Vd])for(const p of o[Vd]){const E=a._makeStorageReference(new ua(r,p.name));u.items.push(E)}return u}(a,r,u)}(a,r,p);return ro(null!==E),E}}(a,r.bucket),ue);return xe.urlParams=E,xe.errorHandler=qa(r),xe}function Tf(a,r,o){const u=Object.assign({},o);return u.fullPath=a.path,u.size=r.size(),u.contentType||(u.contentType=function jd(a,r){return a&&a.contentType||r&&r.type()||"application/octet-stream"}(null,r)),u}class _{constructor(r,o,u,p){this.current=r,this.total=o,this.finalized=!!u,this.metadata=p||null}}function I(a,r){let o=null;try{o=a.getResponseHeader("X-Goog-Upload-Status")}catch{ro(!1)}return ro(!!o&&-1!==(r||["active"]).indexOf(o)),o}const Vt={STATE_CHANGED:"state_changed"},cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pn(a){switch(a){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;default:return cn.ERROR}}class tr{constructor(r,o,u){if(function Mc(a){return"function"==typeof a}(r)||null!=o||null!=u)this.next=r,this.error=o??void 0,this.complete=u??void 0;else{const E=r;this.next=E.next,this.error=E.error,this.complete=E.complete}}}function Jn(a){return(...r)=>{Promise.resolve().then(()=>a(...r))}}let io=null;class Xl{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=he.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=he.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=he.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,o,u,p){if(this.sent_)throw Yl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,r,!0),void 0!==p)for(const E in p)p.hasOwnProperty(E)&&this.xhr_.setRequestHeader(E,p[E].toString());return void 0!==u?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class Hd extends Xl{initXhr(){this.xhr_.responseType="text"}}function ec(){return io?io():new Hd}class Cf{constructor(r,o,u=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=o,this._metadata=u,this._mappings=go(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{if(this._request=void 0,this._chunkMultiplier=1,p._codeEquals(no.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const E=this.isExponentialBackoffExpired();if(we(p.status,[])){if(!E)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();p=$u()}this._error=p,this._transition("error")}},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals(no.CANCELED)?this.completeTransitions_():(this._error=p,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((p,E)=>{this._resolve=p,this._reject=E,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return o=>this._updateProgress(r+o)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,u])=>{switch(this._state){case"running":r(o,u);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,o)=>{const u=function R(a,r,o,u,p){const E=r.bucketOnlyServerUrl(),T=Tf(r,u,p),V={name:T.fullPath},te=D(E,a.host,a._protocol),xe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${u.size()}`,"X-Goog-Upload-Header-Content-Type":T.contentType,"Content-Type":"application/json; charset=utf-8"},Pe=Ul(T,o),Mt=new ls(te,"POST",function Kt(nn){let zn;I(nn);try{zn=nn.getResponseHeader("X-Goog-Upload-URL")}catch{ro(!1)}return ro(Pc(zn)),zn},a.maxUploadRetryTime);return Mt.urlParams=V,Mt.headers=xe,Mt.body=Pe,Mt.errorHandler=qa(r),Mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(u,ec,r,o);this._request=p,p.getPromise().then(E=>{this._request=void 0,this._uploadUrl=E,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((o,u)=>{const p=function se(a,r,o,u){const te=new ls(o,"POST",function E(ue){const xe=I(ue,["active","final"]);let Pe=null;try{Pe=ue.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ro(!1)}Pe||ro(!1);const _t=Number(Pe);return ro(!isNaN(_t)),new _(_t,u.size(),"final"===xe)},a.maxUploadRetryTime);return te.headers={"X-Goog-Upload-Command":"query"},te.errorHandler=qa(r),te}(this._ref.storage,this._ref._location,r,this._blob),E=this._ref.storage._makeRequest(p,ec,o,u);this._request=E,E.getPromise().then(T=>{this._request=void 0,this._updateProgress(T.current),this._needToFetchStatus=!1,T.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,o=new _(this._transferred,this._blob.size()),u=this._uploadUrl;this._resolveToken((p,E)=>{let T;try{T=function We(a,r,o,u,p,E,T,V){const te=new _(0,0);if(T?(te.current=T.current,te.total=T.total):(te.current=0,te.total=u.size()),u.size()!==te.total)throw function fp(){return new to(no.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ue=te.total-te.current;let xe=ue;p>0&&(xe=Math.min(xe,p));const Pe=te.current;let Kt="";Kt=0===xe?"finalize":ue===xe?"upload, finalize":"upload";const Mt={"X-Goog-Upload-Command":Kt,"X-Goog-Upload-Offset":`${te.current}`},nn=u.slice(Pe,Pe+xe);if(null===nn)throw md();const mi=new ls(o,"POST",function zn(Qi,ld){const Ic=I(Qi,["active","final"]),jl=te.current+xe,lu=u.size();let cu;return cu="final"===Ic?Wu(r,E)(Qi,ld):null,new _(jl,lu,"final"===Ic,cu)},r.maxUploadRetryTime);return mi.headers=Mt,mi.body=nn.uploadData(),mi.progressCallback=V||null,mi.errorHandler=qa(a),mi}(this._ref._location,this._ref.storage,u,this._blob,r,this._mappings,o,this._makeProgressCallback())}catch(te){return this._error=te,void this._transition("error")}const V=this._ref.storage._makeRequest(T,ec,p,E,!1);this._request=V,V.getPromise().then(te=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(te.current),te.finalized?(this._metadata=te.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,o)=>{const u=Dh(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(u,ec,r,o);this._request=p,p.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,o)=>{const u=function S(a,r,o,u,p){const E=r.bucketOnlyServerUrl(),T={"X-Goog-Upload-Protocol":"multipart"},te=function V(){let mi="";for(let Qi=0;Qi<2;Qi++)mi+=Math.random().toString().slice(2);return mi}();T["Content-Type"]="multipart/related; boundary="+te;const ue=Tf(r,u,p),xe=Ul(ue,o),Kt=Ql.getBlob("--"+te+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xe+"\r\n--"+te+"\r\nContent-Type: "+ue.contentType+"\r\n\r\n",u,"\r\n--"+te+"--");if(null===Kt)throw md();const Mt={name:ue.fullPath},nn=D(E,a.host,a._protocol),Br=a.maxUploadRetryTime,pi=new ls(nn,"POST",Wu(a,o),Br);return pi.urlParams=Mt,pi.headers=T,pi.body=Kt.uploadData(),pi.errorHandler=qa(r),pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(u,ec,r,o);this._request=p,p.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const o=this._transferred;this._transferred=r,this._transferred!==o&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=r,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=dp(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=Pn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,o,u,p){const E=new tr(o||void 0,u||void 0,p||void 0);return this._addObserver(E),()=>{this._removeObserver(E)}}then(r,o){return this._promise.then(r,o)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const o=this._observers.indexOf(r);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(Pn(this._state)){case cn.SUCCESS:Jn(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:Jn(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(Pn(this._state)){case cn.RUNNING:case cn.PAUSED:r.next&&Jn(r.next.bind(r,this.snapshot))();break;case cn.SUCCESS:r.complete&&Jn(r.complete.bind(r))();break;default:r.error&&Jn(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class wu{constructor(r,o){this._service=r,this._location=o instanceof ua?o:ua.makeFromUrl(o,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,o){return new wu(r,o)}get root(){const r=new ua(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return If(this._location.path)}get storage(){return this._service}get parent(){const r=function _p(a){if(0===a.length)return null;const r=a.lastIndexOf("/");return-1===r?"":a.slice(0,r)}(this._location.path);if(null===r)return null;const o=new ua(this._location.bucket,r);return new wu(this._service,o)}_throwIfRoot(r){if(""===this._location.path)throw Im(r)}}function V_(a,r,o){return bm.apply(this,arguments)}function bm(){return bm=(0,ye.Z)(function*(a,r,o){const p=yield Tm(a,{pageToken:o});r.prefixes.push(...p.prefixes),r.items.push(...p.items),null!=p.nextPageToken&&(yield V_(a,r,p.nextPageToken))}),bm.apply(this,arguments)}function Tm(a,r){null!=r&&"number"==typeof r.maxResults&&v("options.maxResults",1,1e3,r.maxResults);const o=r||{},u=Bd(a.storage,a._location,"/",o.pageToken,o.maxResults);return a.storage.makeRequestWithTokens(u,ec)}function kv(a){a._throwIfRoot("getDownloadURL");const r=function vp(a,r,o){const p=D(r.fullServerUrl(),a.host,a._protocol),T=a.maxOperationRetryTime,V=new ls(p,"GET",function F_(a,r){return function o(u,p){const E=Ch(a,p,r);return ro(null!==E),function da(a,r,o,u){const p=Ih(r);if(null===p||!Pc(p.downloadTokens))return null;const E=p.downloadTokens;if(0===E.length)return null;const T=encodeURIComponent;return E.split(",").map(ue=>{const Pe=a.fullPath;return D("/b/"+T(a.bucket)+"/o/"+T(Pe),o,u)+U({alt:"media",token:ue})})[0]}(E,p,a.host,a._protocol)}}(a,o),T);return V.errorHandler=Jc(r),V}(a.storage,a._location,go());return a.storage.makeRequestWithTokens(r,ec).then(o=>{if(null===o)throw function Iu(){return new to(no.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function Df(a,r){const o=function yp(a,r){const o=r.split("/").filter(u=>u.length>0).join("/");return 0===a.length?o:a+"/"+o}(a._location.path,r),u=new ua(a._location.bucket,o);return new wu(a.storage,u)}function gc(a,r){if(a instanceof Cg){const o=a;if(null==o._bucket)throw function pd(){return new to(no.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ka+"' property when initializing the app?")}();const u=new wu(o,o._bucket);return null!=r?gc(u,r):u}return void 0!==r?Df(a,r):a}function j_(a,r){if(r&&function B_(a){return/^[A-Za-z]+:\/\//.test(a)}(r)){if(a instanceof Cg)return function Sf(a,r){return new wu(a,r)}(a,r);throw Ac("To use ref(service, url), the first argument must be a Storage instance.")}return gc(a,r)}function Tg(a,r){const o=r?.[ka];return null==o?null:ua.makeFromBucketSpec(o,a)}class Cg{constructor(r,o,u,p,E){this.app=r,this._authProvider=o,this._appCheckProvider=u,this._url=p,this._firebaseVersion=E,this._bucket=null,this._host=Gi,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?ua.makeFromBucketSpec(p,this._host):Tg(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?ua.makeFromBucketSpec(this._url,r):Tg(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){v("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){v("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,ye.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const o=r._authProvider.getImmediate({optional:!0});if(o){const u=yield o.getToken();if(null!==u)return u.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,ye.Z)(function*(){const o=r._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new wu(this,r)}_makeRequest(r,o,u,p,E=!0){if(this._deleted)return new Fd(yh());{const T=function Ll(a,r,o,u,p,E,T=!0){const V=U(a.urlParams),te=a.url+V,ue=Object.assign({},a.headers);return function wr(a,r){r&&(a["X-Firebase-GMPID"]=r)}(ue,r),function pn(a,r){null!==r&&r.length>0&&(a.Authorization="Firebase "+r)}(ue,o),function $n(a,r){a["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}(ue,E),function Vi(a,r){null!==r&&(a["X-Firebase-AppCheck"]=r)}(ue,u),new mt(te,a.method,ue,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,p,T)}(r,this._appId,u,p,o,this._firebaseVersion,E);return this._requests.add(T),T.getPromise().then(()=>this._requests.delete(T),()=>this._requests.delete(T)),T}}makeRequestWithTokens(r,o){var u=this;return(0,ye.Z)(function*(){const[p,E]=yield Promise.all([u._getAuthToken(),u._getAppCheckToken()]);return u._makeRequest(r,o,p,E).getPromise()})()}}const H_="@firebase/storage";function Dm(a,r){return j_(a=(0,b.m9)(a),r)}function jv(a,{instanceIdentifier:r}){const o=a.getProvider("app").getImmediate(),u=a.getProvider("auth-internal"),p=a.getProvider("app-check-internal");return new Cg(o,u,p,r,le.SDK_VERSION)}!function Wd(){(0,le._registerComponent)(new G.wA("storage",jv,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(H_,"0.11.2",""),(0,le.registerVersion)(H_,"0.11.2","esm2017")}();class Sm{constructor(r,o,u){this._delegate=r,this.task=o,this.ref=u}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Hv{constructor(r,o){this._delegate=r,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Sm(this._delegate.snapshot,this,this._ref)}then(r,o){return this._delegate.then(u=>{if(r)return r(new Sm(u,this,this._ref))},o)}on(r,o,u,p){let E;return o&&(E="function"==typeof o?T=>o(new Sm(T,this,this._ref)):{next:o.next?T=>o.next(new Sm(T,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(r,E,u||void 0,p||void 0)}}class K_{constructor(r,o){this._delegate=r,this._service=o}get prefixes(){return this._delegate.prefixes.map(r=>new Za(r,this._service))}get items(){return this._delegate.items.map(r=>new Za(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Za{constructor(r,o){this._delegate=r,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const o=function W_(a,r){return Df(a,r)}(this._delegate,r);return new Za(o,this.storage)}get root(){return new Za(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new Za(r,this.storage)}put(r,o){return this._throwIfRoot("put"),new Hv(function iE(a,r,o){return function Ip(a,r,o){return a._throwIfRoot("uploadBytesResumable"),new Cf(a,new Ql(r),o)}(a=(0,b.m9)(a),r,o)}(this._delegate,r,o),this)}putString(r,o=Ka.RAW,u){this._throwIfRoot("putString");const p=fc(o,r),E=Object.assign({},u);return null==E.contentType&&null!=p.contentType&&(E.contentType=p.contentType),new Hv(new Cf(this._delegate,new Ql(p.data,!0),E),this)}listAll(){return function z_(a){return function Nv(a){const r={prefixes:[],items:[]};return V_(a,r).then(()=>r)}(a=(0,b.m9)(a))}(this._delegate).then(r=>new K_(r,this.storage))}list(r){return function Uv(a,r){return Tm(a=(0,b.m9)(a),r)}(this._delegate,r||void 0).then(o=>new K_(o,this.storage))}getMetadata(){return function Lv(a){return function zd(a){a._throwIfRoot("getMetadata");const r=Dh(a.storage,a._location,go());return a.storage.makeRequestWithTokens(r,ec)}(a=(0,b.m9)(a))}(this._delegate)}updateMetadata(r){return function Fv(a,r){return function wp(a,r){a._throwIfRoot("updateMetadata");const o=function wg(a,r,o,u){const E=D(r.fullServerUrl(),a.host,a._protocol),V=Ul(o,u),ue=a.maxOperationRetryTime,xe=new ls(E,"PATCH",Wu(a,u),ue);return xe.headers={"Content-Type":"application/json; charset=utf-8"},xe.body=V,xe.errorHandler=Jc(r),xe}(a.storage,a._location,r,go());return a.storage.makeRequestWithTokens(o,ec)}(a=(0,b.m9)(a),r)}(this._delegate,r)}getDownloadURL(){return function Vv(a){return kv(a=(0,b.m9)(a))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Tp(a){return function ha(a){a._throwIfRoot("deleteObject");const r=function wm(a,r){const u=D(r.fullServerUrl(),a.host,a._protocol),V=new ls(u,"DELETE",function T(te,ue){},a.maxOperationRetryTime);return V.successCodes=[200,204],V.errorHandler=Jc(r),V}(a.storage,a._location);return a.storage.makeRequestWithTokens(r,ec)}(a=(0,b.m9)(a))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw Im(r)}}class Xc{constructor(r,o){this.app=r,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(Mh(r))throw Ac("ref() expected a child path but got a URL, use refFromURL instead.");return new Za(Dm(this._delegate,r),this)}refFromURL(r){if(!Mh(r))throw Ac("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ua.makeFromUrl(r,this._delegate.host)}catch{throw Ac("refFromUrl() expected a valid full URL but got an invalid one.")}return new Za(Dm(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,o,u={}){!function Rh(a,r,o,u={}){!function Cm(a,r,o,u={}){a.host=`${r}:${o}`,a._protocol="http";const{mockUserToken:p}=u;p&&(a._overrideAuthToken="string"==typeof p?p:(0,b.Sg)(p,a.app.options.projectId))}(a,r,o,u)}(this._delegate,r,o,u)}}function Mh(a){return/^[A-Za-z]+:\/\//.test(a)}function q_(a,{instanceIdentifier:r}){const o=a.getProvider("app-compat").getImmediate(),u=a.getProvider("storage").getImmediate({identifier:r});return new Xc(o,u)}!function Z_(a){const r={TaskState:cn,TaskEvent:Vt,StringFormat:Ka,Storage:Xc,Reference:Za};a.INTERNAL.registerComponent(new G.wA("storage-compat",q_,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.3.2")}(uc);var Sg=k(14),Y_=k(120);function Q_(a){const r=function sE(a){return new vl.y(r=>{const o=T=>r.next(T);o(a.snapshot);const E=a.on("state_changed",o);return a.then(T=>{o(T),r.complete()},T=>{o(a.snapshot),(T=>{r.error(T)})(T)}),function(){E()}}).pipe((0,qc.b)(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,Fr.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Rm(a){return{getDownloadURL:()=>(0,Sc.of)(void 0).pipe(Ca.fc,(0,El.w)(()=>a.getDownloadURL()),Ca.iC),getMetadata:()=>(0,Sc.of)(void 0).pipe(Ca.fc,(0,El.w)(()=>a.getMetadata()),Ca.iC),delete:()=>(0,ul.D)(a.delete()),child:r=>Rm(a.child(r)),updateMetadata:r=>(0,ul.D)(a.updateMetadata(r)),put:(r,o)=>Q_(a.put(r,o)),putString:(r,o,u)=>Q_(a.putString(r,o,u)),list:r=>(0,ul.D)(a.list(r)),listAll:()=>(0,ul.D)(a.listAll())}}const Mf=new H.OlP("angularfire2.storageBucket"),eu=new H.OlP("angularfire2.storage.maxUploadRetryTime"),Ku=new H.OlP("angularfire2.storage.maxOperationRetryTime"),Gv=new H.OlP("angularfire2.storage.use-emulator");let J_=(()=>{class a{constructor(o,u,p,E,T,V,te,ue,xe,Pe){const _t=(0,Ta.on)(o,T,u);this.storage=(0,Ta.cc)(`${_t.name}.storage.${p}`,"AngularFireStorage",_t.name,()=>{const Kt=T.runOutsideAngular(()=>_t.storage(p||void 0)),Mt=xe;return Mt&&Kt.useEmulator(...Mt),te&&Kt.setMaxUploadRetryTime(te),ue&&Kt.setMaxOperationRetryTime(ue),Kt},[te,ue])}ref(o){return Rm(this.storage.ref(o))}refFromURL(o){return Rm(this.storage.refFromURL(o))}upload(o,u,p){return Rm(this.storage.ref(o)).put(u,p)}}return a.\u0275fac=function(o){return new(o||a)(H.LFG(Ta.Dh),H.LFG(Ta.xv,8),H.LFG(Mf,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(Ca.HU),H.LFG(eu,8),H.LFG(Ku,8),H.LFG(Gv,8),H.LFG(Sg.nm,8))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),nI=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({}),a})(),rI=(()=>{class a{constructor(){Y_.Z.registerVersion("angularfire",Ca.q4.full,"gcs-compat")}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({providers:[J_],imports:[nI]}),a})();var Ag=k(8022),Kd=k(6321),tu=k(3019),aE=k(3020),lE=k(6699),X_=k(3997),cE=k(2460),Rg=k(9360),ey=k(8251);k(8977);var Dp=k(3399),Sp=k(7592);const Pf="@firebase/database";let qu="";function Ap(a){qu=a}class uE{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,o){null==o?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,b.Wl)(o))}get(r){const o=this.domStorage_.getItem(this.prefixedName_(r));return null==o?null:(0,b.cI)(o)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Mg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,o){null==o?delete this.cache_[r]:this.cache_[r]=o}get(r){return(0,b.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Of=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const r=window[a];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new uE(r)}}catch{}return new Mg},vd=Of("localStorage"),xf=Of("sessionStorage"),Nf=new Fe.Yd("@firebase/database"),ny=function(){let a=1;return function(){return a++}}(),bl=function(a){const r=(0,b.dS)(a),o=new b.gQ;o.update(r);const u=o.digest();return b.US.encodeByteArray(u)},Mm=function(...a){let r="";for(let o=0;o<a.length;o++){const u=a[o];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?r+=Mm.apply(null,u):r+="object"==typeof u?(0,b.Wl)(u):u,r+=" "}return r};let qd=null,Zd=!0;const Ts=function(a,r){(0,b.hu)(!r||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(Nf.logLevel=Fe.in.VERBOSE,qd=Nf.log.bind(Nf),r&&xf.set("logging_enabled",!0)):"function"==typeof a?qd=a:(qd=null,xf.remove("logging_enabled"))},so=function(...a){if(!0===Zd&&(Zd=!1,null===qd&&!0===xf.get("logging_enabled")&&Ts(!0)),qd){const r=Mm.apply(null,a);qd(r)}},Zu=function(a){return function(...r){so(a,...r)}},Pm=function(...a){const r="FIREBASE INTERNAL ERROR: "+Mm(...a);Nf.error(r)},Tl=function(...a){const r=`FIREBASE FATAL ERROR: ${Mm(...a)}`;throw Nf.error(r),new Error(r)},Cl=function(...a){const r="FIREBASE WARNING: "+Mm(...a);Nf.warn(r)},Mp=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},bu="[MIN_NAME]",Ph="[MAX_NAME]",Ed=function(a,r){if(a===r)return 0;if(a===bu||r===Ph)return-1;if(r===bu||a===Ph)return 1;{const o=Op(a),u=Op(r);return null!==o?null!==u?o-u==0?a.length-r.length:o-u:-1:null!==u?1:a<r?-1:1}},dE=function(a,r){return a===r?0:a<r?-1:1},Oh=function(a,r){if(r&&a in r)return r[a];throw new Error("Missing required key ("+a+") in object: "+(0,b.Wl)(r))},Pg=function(a){if("object"!=typeof a||null===a)return(0,b.Wl)(a);const r=[];for(const u in a)r.push(u);r.sort();let o="{";for(let u=0;u<r.length;u++)0!==u&&(o+=","),o+=(0,b.Wl)(r[u]),o+=":",o+=Pg(a[r[u]]);return o+="}",o},Pp=function(a,r){const o=a.length;if(o<=r)return[a];const u=[];for(let p=0;p<o;p+=r)u.push(a.substring(p,p+r>o?o:p+r));return u};function jo(a,r){for(const o in a)a.hasOwnProperty(o)&&r(o,a[o])}const Kv=function(a){(0,b.hu)(!Mp(a),"Invalid JSON number");const u=1023;let p,E,T,V,te;0===a?(E=0,T=0,p=1/a==-1/0?1:0):(p=a<0,(a=Math.abs(a))>=Math.pow(2,1-u)?(V=Math.min(Math.floor(Math.log(a)/Math.LN2),u),E=V+u,T=Math.round(a*Math.pow(2,52-V)-Math.pow(2,52))):(E=0,T=Math.round(a/Math.pow(2,-1074))));const ue=[];for(te=52;te;te-=1)ue.push(T%2?1:0),T=Math.floor(T/2);for(te=11;te;te-=1)ue.push(E%2?1:0),E=Math.floor(E/2);ue.push(p?1:0),ue.reverse();const xe=ue.join("");let Pe="";for(te=0;te<64;te+=8){let _t=parseInt(xe.substr(te,8),2).toString(16);1===_t.length&&(_t="0"+_t),Pe+=_t}return Pe.toLowerCase()},Qd=new RegExp("^-?(0*)\\d{1,10}$"),Op=function(a){if(Qd.test(a)){const r=Number(a);if(r>=-2147483648&&r<=2147483647)return r}return null},Nh=function(a){try{a()}catch(r){setTimeout(()=>{throw Cl("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Om=function(a,r){const o=setTimeout(a,r);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Yv{constructor(r,o){this.appName_=r,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(u=>this.appCheck=u)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((o,u)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(o,u):o(null)},0)})}addTokenChangeListener(r){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(u=>u.addTokenListener(r))}notifyForInvalidToken(){Cl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kh{constructor(r,o,u){this.appName_=r,this.firebaseOptions_=o,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(p=>this.auth_=p)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(o=>o&&"auth/token-not-initialized"===o.code?(so("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,u)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(o,u):o(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(o=>o.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(o=>o.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cl(r)}}let Sa=(()=>{class a{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const iy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oy="websocket",Ug="long_polling";class Vg{constructor(r,o,u,p,E=!1,T="",V=!1,te=!1){this.secure=o,this.namespace=u,this.webSocketOnly=p,this.nodeAdmin=E,this.persistenceKey=T,this.includeNamespaceInQueryParams=V,this.isUsingEmulator=te,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vd.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&vd.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Lh(a,r,o){let u;if((0,b.hu)("string"==typeof r,"typeof type must == string"),(0,b.hu)("object"==typeof o,"typeof params must == object"),r===oy)u=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(r!==Ug)throw new Error("Unknown connection type: "+r);u=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function Bg(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(o.ns=a.namespace);const p=[];return jo(o,(E,T)=>{p.push(E+"="+T)}),u+p.join("&")}class ay{constructor(){this.counters_={}}incrementCounter(r,o=1){(0,b.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=o}get(){return(0,b.p$)(this.counters_)}}const Lf={},xp={};function Fh(a){const r=a.toString();return Lf[r]||(Lf[r]=new ay),Lf[r]}class Hg{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,o){this.closeAfterResponse=r,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,o){for(this.pendingResponses[r]=o;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<u.length;++p)u[p]&&Nh(()=>{this.onMessage_(u[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Bh{constructor(r,o,u,p,E,T,V){this.connId=r,this.repoInfo=o,this.applicationId=u,this.appCheckToken=p,this.authToken=E,this.transportSessionId=T,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zu(r),this.stats_=Fh(o),this.urlFn=te=>(this.appCheckToken&&(te.ac=this.appCheckToken),Lh(o,Ug,te))}open(r,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new Hg(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,b.Yr)()||"complete"===document.readyState)a();else{let r=!1;const o=function(){document.body?r||(r=!0,a()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kg((...E)=>{const[T,V,te,ue,xe]=E;if(this.incrementIncomingBytes_(E),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===T)this.id=V,this.password=te;else{if("close"!==T)throw new Error("Unrecognized command received: "+T);V?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(V,()=>{this.onClosed_()})):this.onClosed_()}},(...E)=>{const[T,V]=E;this.incrementIncomingBytes_(E),this.myPacketOrderer.handleResponse(T,V)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&iy.test(location.hostname)&&(u.r="f");const p=this.urlFn(u);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bh.forceAllow_=!0}static forceDisallow(){Bh.forceDisallow_=!0}static isAvailable(){return!((0,b.Yr)()||!Bh.forceAllow_&&(Bh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const o=(0,b.Wl)(r);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=(0,b.h$)(o),p=Pp(u,1840);for(let E=0;E<p.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[E]),this.curSegmentNum++}addDisconnectPingFrame(r,o){if((0,b.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=r,u.pw=o,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const o=(0,b.Wl)(r).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class Kg{constructor(r,o,u,p){if(this.onDisconnect=u,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,b.Yr)())this.commandCB=r,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=ny(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=Kg.createIFrame_();let E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(E='<script>document.domain="'+document.domain+'";<\/script>');const T="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(T),this.myIFrame.doc.close()}catch(V){so("frame writing exception"),V.stack&&so(V.stack),so(V)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||so("No IE domain setting required")}catch{const u=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,o){for(this.myID=r,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let o=this.urlFn(r),u="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const T=this.pendingSegs.shift();u=u+"&seg"+p+"="+T.seg+"&ts"+p+"="+T.ts+"&d"+p+"="+T.d,p++}return o+=u,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(r,o,u){this.pendingSegs.push({seg:r,ts:o,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(r,o){this.outstandingRequests.add(o);const u=()=>{this.outstandingRequests.delete(o),this.newRequest_()},p=setTimeout(u,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(p),u()})}addTag(r,o){(0,b.Yr)()?this.doNodeLongPoll(r,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=r,u.onload=u.onreadystatechange=function(){const p=u.readyState;(!p||"loaded"===p||"complete"===p)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),o())},u.onerror=()=>{so("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let jh=null;typeof MozWebSocket<"u"?jh=MozWebSocket:typeof WebSocket<"u"&&(jh=WebSocket);let Id=(()=>{class a{constructor(o,u,p,E,T,V,te){this.connId=o,this.applicationId=p,this.appCheckToken=E,this.authToken=T,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zu(this.connId),this.stats_=Fh(u),this.connURL=a.connectionURL_(u,V,te,E,p),this.nodeAdmin=u.nodeAdmin}static connectionURL_(o,u,p,E,T){const V={v:"5"};return!(0,b.Yr)()&&typeof location<"u"&&location.hostname&&iy.test(location.hostname)&&(V.r="f"),u&&(V.s=u),p&&(V.ls=p),E&&(V.ac=E),T&&(V.p=T),Lh(o,oy,V)}open(o,u){this.onDisconnect=u,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vd.set("previous_websocket_failure",!0);try{let p;if((0,b.Yr)()){p={headers:{"User-Agent":`Firebase/5/${qu}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const T=process.env,V=0===this.connURL.indexOf("wss://")?T.HTTPS_PROXY||T.https_proxy:T.HTTP_PROXY||T.http_proxy;V&&(p.proxy={origin:V})}this.mySock=new jh(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const E=p.message||p.data;return E&&this.log_(E),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const E=p.message||p.data;E&&this.log_(E),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(o=!0)}return!o&&null!==jh&&!a.forceDisallow_}static previouslyFailed(){return vd.isInMemoryStorage||!0===vd.get("previous_websocket_failure")}markConnectionHealthy(){vd.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const p=(0,b.cI)(u);this.onMessage(p)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,b.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const u=Number(o);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const u=o.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const p=this.extractFrameCount_(u);null!==p&&this.appendFrame_(p)}}send(o){this.resetKeepAlive();const u=(0,b.Wl)(o);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const p=Pp(u,16384);p.length>1&&this.sendString_(String(p.length));for(let E=0;E<p.length;E++)this.sendString_(p[E])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})(),Fp=(()=>{class a{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Bh,Id]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const u=Id&&Id.isAvailable();let p=u&&!Id.previouslyFailed();if(o.webSocketOnly&&(u||Cl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[Id];else{const E=this.transports_=[];for(const T of a.ALL_TRANSPORTS)T&&T.isAvailable()&&E.push(T);a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return a.globalTransportInitialized_=!1,a})();class Zg{constructor(r,o,u,p,E,T,V,te,ue,xe){this.id=r,this.repoInfo_=o,this.applicationId_=u,this.appCheckToken_=p,this.authToken_=E,this.onMessage_=T,this.onReady_=V,this.onDisconnect_=te,this.onKill_=ue,this.lastSessionId=xe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zu("c:"+this.id+":"),this.transportManager_=new Fp(o),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,u)},Math.floor(0));const p=r.healthyTimeout||0;p>0&&(this.healthyTimeout_=Om(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return o=>{r===this.conn_?this.onConnectionLost_(o):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return o=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(o):r===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const o=r.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const o=Oh("t",r),u=Oh("d",r);if("c"===o)this.onSecondaryControl_(u);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const o=Oh("t",r),u=Oh("d",r);"c"===o?this.onControl_(u):"d"===o&&this.onDataMessage_(u)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const o=Oh("t",r);if("d"in r){const u=r.d;if("h"===o){const p=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(u):"r"===o?this.onReset_(u):"e"===o?Pm("Server Error: "+u):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pm("Unknown control packet command: "+o)}}onHandshake_(r){const o=r.ts,u=r.v,p=r.h;this.sessionId=r.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==u&&Cl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,u),Om(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,o){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Om(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gy{put(r,o,u,p){}merge(r,o,u,p){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,o,u){}onDisconnectMerge(r,o,u){}onDisconnectCancel(r,o){}reportStats(r){}}class _y{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,b.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...o){if(Array.isArray(this.listeners_[r])){const u=[...this.listeners_[r]];for(let p=0;p<u.length;p++)u[p].callback.apply(u[p].context,o)}}on(r,o,u){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:o,context:u});const p=this.getInitialEvent(r);p&&o.apply(u,p)}off(r,o,u){this.validateEventType_(r);const p=this.listeners_[r]||[];for(let E=0;E<p.length;E++)if(p[E].callback===o&&(!u||u===p[E].context))return void p.splice(E,1)}validateEventType_(r){(0,b.hu)(this.allowedEvents_.find(o=>o===r),"Unknown event: "+r)}}class Fm extends _y{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,b.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fm}getInitialEvent(r){return(0,b.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class ys{constructor(r,o){if(void 0===o){this.pieces_=r.split("/");let u=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[u]=this.pieces_[p],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=o}toString(){let r="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(r+="/"+this.pieces_[o]);return r||"/"}}function Cs(){return new ys("")}function Wi(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Tu(a){return a.pieces_.length-a.pieceNum_}function Ks(a){let r=a.pieceNum_;return r<a.pieces_.length&&r++,new ys(a.pieces_,r)}function Hh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function $h(a,r=0){return a.pieces_.slice(a.pieceNum_+r)}function Hp(a){if(a.pieceNum_>=a.pieces_.length)return null;const r=[];for(let o=a.pieceNum_;o<a.pieces_.length-1;o++)r.push(a.pieces_[o]);return new ys(r,0)}function Ho(a,r){const o=[];for(let u=a.pieceNum_;u<a.pieces_.length;u++)o.push(a.pieces_[u]);if(r instanceof ys)for(let u=r.pieceNum_;u<r.pieces_.length;u++)o.push(r.pieces_[u]);else{const u=r.split("/");for(let p=0;p<u.length;p++)u[p].length>0&&o.push(u[p])}return new ys(o,0)}function Li(a){return a.pieceNum_>=a.pieces_.length}function Dl(a,r){const o=Wi(a),u=Wi(r);if(null===o)return r;if(o===u)return Dl(Ks(a),Ks(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+a+")")}function nu(a,r){const o=$h(a,0),u=$h(r,0);for(let p=0;p<o.length&&p<u.length;p++){const E=Ed(o[p],u[p]);if(0!==E)return E}return o.length===u.length?0:o.length<u.length?-1:1}function Cu(a,r){if(Tu(a)!==Tu(r))return!1;for(let o=a.pieceNum_,u=r.pieceNum_;o<=a.pieces_.length;o++,u++)if(a.pieces_[o]!==r.pieces_[u])return!1;return!0}function ru(a,r){let o=a.pieceNum_,u=r.pieceNum_;if(Tu(a)>Tu(r))return!1;for(;o<a.pieces_.length;){if(a.pieces_[o]!==r.pieces_[u])return!1;++o,++u}return!0}class iI{constructor(r,o){this.errorPrefix_=o,this.parts_=$h(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,b.ug)(this.parts_[u]);iu(this)}}function iu(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gh(a))}function Gh(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class Um extends _y{constructor(){let r,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const u=!document[r];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Um}getInitialEvent(r){return(0,b.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Vf=1e3;let Bf,Jd=(()=>{class a extends gy{constructor(o,u,p,E,T,V,te,ue){if(super(),this.repoInfo_=o,this.applicationId_=u,this.onDataUpdate_=p,this.onConnectStatus_=E,this.onServerInfoUpdate_=T,this.authTokenProvider_=V,this.appCheckTokenProvider_=te,this.authOverride_=ue,this.id=a.nextPersistentConnectionId_++,this.log_=Zu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ue&&!(0,b.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Um.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Fm.getInstance().on("online",this.onOnline_,this)}sendRequest(o,u,p){const E=++this.requestNumber_,T={r:E,a:o,b:u};this.log_((0,b.Wl)(T)),(0,b.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(T),p&&(this.requestCBHash_[E]=p)}get(o){this.initConnection_();const u=new b.BH,E={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:V=>{const te=V.d;"ok"===V.s?u.resolve(te):u.reject(te)}};return this.outstandingGets_.push(E),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(o,u,p,E){this.initConnection_();const T=o._queryIdentifier,V=o._path.toString();this.log_("Listen called for "+V+" "+T),this.listens.has(V)||this.listens.set(V,new Map),(0,b.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,b.hu)(!this.listens.get(V).has(T),"listen() called twice for same path/queryId.");const te={onComplete:E,hashFn:u,query:o,tag:p};this.listens.get(V).set(T,te),this.connected_&&this.sendListen_(te)}sendGet_(o){const u=this.outstandingGets_[o];this.sendRequest("g",u.request,p=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(p)})}sendListen_(o){const u=o.query,p=u._path.toString(),E=u._queryIdentifier;this.log_("Listen on "+p+" for "+E);const T={p};o.tag&&(T.q=u._queryObject,T.t=o.tag),T.h=o.hashFn(),this.sendRequest("q",T,te=>{const ue=te.d,xe=te.s;a.warnOnListenWarnings_(ue,u),(this.listens.get(p)&&this.listens.get(p).get(E))===o&&(this.log_("listen response",te),"ok"!==xe&&this.removeListen_(p,E),o.onComplete&&o.onComplete(xe,ue))})}static warnOnListenWarnings_(o,u){if(o&&"object"==typeof o&&(0,b.r3)(o,"w")){const p=(0,b.DV)(o,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const E='".indexOn": "'+u._queryParams.getIndex().toString()+'"',T=u._path.toString();Cl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${E} at ${T} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,b.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,u=(0,b.w9)(o)?"auth":"gauth",p={cred:o};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(u,p,E=>{const T=E.s,V=E.d||"error";this.authToken_===o&&("ok"===T?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(T,V))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const u=o.s,p=o.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,p)})}unlisten(o,u){const p=o._path.toString(),E=o._queryIdentifier;this.log_("Unlisten called for "+p+" "+E),(0,b.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,E)&&this.connected_&&this.sendUnlisten_(p,E,o._queryObject,u)}sendUnlisten_(o,u,p,E){this.log_("Unlisten on "+o+" for "+u);const T={p:o};E&&(T.q=p,T.t=E),this.sendRequest("n",T)}onDisconnectPut(o,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,u,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:u,onComplete:p})}onDisconnectMerge(o,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,u,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:u,onComplete:p})}onDisconnectCancel(o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,u):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(o,u,p,E){const T={p:u,d:p};this.log_("onDisconnect "+o,T),this.sendRequest(o,T,V=>{E&&setTimeout(()=>{E(V.s,V.d)},Math.floor(0))})}put(o,u,p,E){this.putInternal("p",o,u,p,E)}merge(o,u,p,E){this.putInternal("m",o,u,p,E)}putInternal(o,u,p,E,T){this.initConnection_();const V={p:u,d:p};void 0!==T&&(V.h=T),this.outstandingPuts_.push({action:o,request:V,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(o){const u=this.outstandingPuts_[o].action,p=this.outstandingPuts_[o].request,E=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(u,p,T=>{this.log_(u+" response",T),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),E&&E(T.s,T.d)})}reportStats(o){if(this.connected_){const u={c:o};this.log_("reportStats",u),this.sendRequest("s",u,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,b.Wl)(o));const u=o.r,p=this.requestCBHash_[u];p&&(delete this.requestCBHash_[u],p(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,u){this.log_("handleServerMessage",o,u),"d"===o?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===o?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===o?this.onListenRevoked_(u.p,u.q):"ac"===o?this.onAuthRevoked_(u.s,u.d):"apc"===o?this.onAppCheckRevoked_(u.s,u.d):"sd"===o?this.onSecurityDebugPacket_(u):Pm("Unrecognized action received from server: "+(0,b.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,b.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vf,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=Vf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-o);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,ye.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const u=o.onDataMessage_.bind(o),p=o.onReady_.bind(o),E=o.onRealtimeDisconnect_.bind(o),T=o.id+":"+a.nextConnectionId_++,V=o.lastSessionId;let te=!1,ue=null;const xe=function(){ue?ue.close():(te=!0,E())};o.realtime_={close:xe,sendRequest:function(Kt){(0,b.hu)(ue,"sendRequest call when we're not connected not allowed."),ue.sendRequest(Kt)}};const _t=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[Kt,Mt]=yield Promise.all([o.authTokenProvider_.getToken(_t),o.appCheckTokenProvider_.getToken(_t)]);te?so("getToken() completed but was canceled"):(so("getToken() completed. Creating connection."),o.authToken_=Kt&&Kt.accessToken,o.appCheckToken_=Mt&&Mt.token,ue=new Zg(T,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,u,p,E,nn=>{Cl(nn+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},V))}catch(Kt){o.log_("Failed to get token: "+Kt),te||(o.repoInfo_.nodeAdmin&&Cl(Kt),xe())}}})()}interrupt(o){so("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){so("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,b.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const u=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const u=this.outstandingPuts_[o];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,u){let p;p=u?u.map(T=>Pg(T)).join("$"):"default";const E=this.removeListen_(o,p);E&&E.onComplete&&E.onComplete("permission_denied")}removeListen_(o,u){const p=new ys(o).toString();let E;if(this.listens.has(p)){const T=this.listens.get(p);E=T.get(u),T.delete(u),0===T.size&&this.listens.delete(p)}else E=void 0;return E}onAuthRevoked_(o,u){so("Auth token revoked: "+o+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,u){so("App check token revoked: "+o+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const u of o.values())this.sendListen_(u);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let u="js";(0,b.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+u+"."+qu.replace(/\./g,"-")]=1,(0,b.uI)()?o["framework.cordova"]=1:(0,b.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Fm.getInstance().currentlyOnline();return(0,b.xb)(this.interruptReasons_)&&o}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class Bi{constructor(r,o){this.name=r,this.node=o}static Wrap(r,o){return new Bi(r,o)}}class Xg{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,o){const u=new Bi(bu,r),p=new Bi(bu,o);return 0!==this.compare(u,p)}minPost(){return Bi.MIN}}class wy extends Xg{static get __EMPTY_NODE(){return Bf}static set __EMPTY_NODE(r){Bf=r}compare(r,o){return Ed(r.name,o.name)}isDefinedOn(r){throw(0,b.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,o){return!1}minPost(){return Bi.MIN}maxPost(){return new Bi(Ph,Bf)}makePost(r,o){return(0,b.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new Bi(r,Bf)}toString(){return".key"}}const su=new wy;class e_{constructor(r,o,u,p,E=null){this.isReverse_=p,this.resultGenerator_=E,this.nodeStack_=[];let T=1;for(;!r.isEmpty();)if(T=o?u(r.key,o):1,p&&(T*=-1),T<0)r=this.isReverse_?r.left:r.right;else{if(0===T){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,r=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Bm,xc=(()=>{class a{constructor(o,u,p,E,T){this.key=o,this.value=u,this.color=p??a.RED,this.left=E??na.EMPTY_NODE,this.right=T??na.EMPTY_NODE}copy(o,u,p,E,T){return new a(o??this.key,u??this.value,p??this.color,E??this.left,T??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,u,p){let E=this;const T=p(o,E.key);return E=T<0?E.copy(null,null,null,E.left.insert(o,u,p),null):0===T?E.copy(null,u,null,null,null):E.copy(null,null,null,null,E.right.insert(o,u,p)),E.fixUp_()}removeMin_(){if(this.left.isEmpty())return na.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,u){let p,E;if(p=this,u(o,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(o,u),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===u(o,p.key)){if(p.right.isEmpty())return na.EMPTY_NODE;E=p.right.min_(),p=p.copy(E.key,E.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(o,u))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,u)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class na{constructor(r,o=na.EMPTY_NODE){this.comparator_=r,this.root_=o}insert(r,o){return new na(this.comparator_,this.root_.insert(r,o,this.comparator_).copy(null,null,xc.BLACK,null,null))}remove(r){return new na(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,xc.BLACK,null,null))}get(r){let o,u=this.root_;for(;!u.isEmpty();){if(o=this.comparator_(r,u.key),0===o)return u.value;o<0?u=u.left:o>0&&(u=u.right)}return null}getPredecessorKey(r){let o,u=this.root_,p=null;for(;!u.isEmpty();){if(o=this.comparator_(r,u.key),0===o){if(u.left.isEmpty())return p?p.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}o<0?u=u.left:o>0&&(p=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new e_(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,o){return new e_(this.root_,r,this.comparator_,!1,o)}getReverseIteratorFrom(r,o){return new e_(this.root_,r,this.comparator_,!0,o)}getReverseIterator(r){return new e_(this.root_,null,this.comparator_,!0,r)}}function jf(a,r){return Ed(a.name,r.name)}function Vm(a,r){return Ed(a,r)}na.EMPTY_NODE=new class $p{copy(r,o,u,p,E){return this}insert(r,o,u){return new xc(r,o,null)}remove(r,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xd=function(a){return"number"==typeof a?"number:"+Kv(a):"string:"+a},ou=function(a){if(a.isLeafNode()){const r=a.val();(0,b.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,b.r3)(r,".sv"),"Priority must be a string or number.")}else(0,b.hu)(a===Bm||a.isEmpty(),"priority of unexpected type.");(0,b.hu)(a===Bm||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jm,eh,Wh,wd=(()=>{class a{constructor(o,u=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=u,this.lazyHash_=null,(0,b.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ou(this.priorityNode_)}static set __childrenNodeConstructor(o){jm=o}static get __childrenNodeConstructor(){return jm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new a(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Li(o)?this:".priority"===Wi(o)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,u){return null}updateImmediateChild(o,u){return".priority"===o?this.updatePriority(u):u.isEmpty()&&".priority"!==o?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,u).updatePriority(this.priorityNode_)}updateChild(o,u){const p=Wi(o);return null===p?u:u.isEmpty()&&".priority"!==p?this:((0,b.hu)(".priority"!==p||1===Tu(o),".priority must be the last token in a path"),this.updateImmediateChild(p,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ks(o),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,u){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+Xd(this.priorityNode_.val())+":");const u=typeof this.value_;o+=u+":",o+="number"===u?Kv(this.value_):this.value_,this.lazyHash_=bl(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===a.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof a.__childrenNodeConstructor?-1:((0,b.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const u=typeof o.value_,p=typeof this.value_,E=a.VALUE_TYPE_ORDER.indexOf(u),T=a.VALUE_TYPE_ORDER.indexOf(p);return(0,b.hu)(E>=0,"Unknown leaf type: "+u),(0,b.hu)(T>=0,"Unknown leaf type: "+p),E===T?"object"===p?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:T-E}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const _o=new class e0 extends Xg{compare(r,o){const u=r.node.getPriority(),p=o.node.getPriority(),E=u.compareTo(p);return 0===E?Ed(r.name,o.name):E}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,o){return!r.getPriority().equals(o.getPriority())}minPost(){return Bi.MIN}maxPost(){return new Bi(Ph,new wd("[PRIORITY-POST]",Wh))}makePost(r,o){const u=eh(r);return new Bi(o,new wd("[PRIORITY-POST]",u))}toString(){return".priority"}},by=Math.log(2);class Ty{constructor(r){this.count=parseInt(Math.log(r+1)/by,10),this.current_=this.count-1;const p=(E=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&p}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Gp=function(a,r,o,u){a.sort(r);const p=function(te,ue){const xe=ue-te;let Pe,_t;if(0===xe)return null;if(1===xe)return Pe=a[te],_t=o?o(Pe):Pe,new xc(_t,Pe.node,xc.BLACK,null,null);{const Kt=parseInt(xe/2,10)+te,Mt=p(te,Kt),nn=p(Kt+1,ue);return Pe=a[Kt],_t=o?o(Pe):Pe,new xc(_t,Pe.node,xc.BLACK,Mt,nn)}},V=function(te){let ue=null,xe=null,Pe=a.length;const _t=function(Mt,nn){const zn=Pe-Mt,Br=Pe;Pe-=Mt;const pi=p(zn+1,Br),mi=a[zn],Qi=o?o(mi):mi;Kt(new xc(Qi,mi.node,nn,null,pi))},Kt=function(Mt){ue?(ue.left=Mt,ue=Mt):(xe=Mt,ue=Mt)};for(let Mt=0;Mt<te.count;++Mt){const nn=te.nextBitIsOne(),zn=Math.pow(2,te.count-(Mt+1));nn?_t(zn,xc.BLACK):(_t(zn,xc.BLACK),_t(zn,xc.RED))}return xe}(new Ty(a.length));return new na(u||r,V)};let n_;const Hm={};class Qu{constructor(r,o){this.indexes_=r,this.indexSet_=o}static get Default(){return(0,b.hu)(Hm&&_o,"ChildrenNode.ts has not been loaded"),n_=n_||new Qu({".priority":Hm},{".priority":_o}),n_}get(r){const o=(0,b.DV)(this.indexes_,r);if(!o)throw new Error("No index defined for "+r);return o instanceof na?o:null}hasIndex(r){return(0,b.r3)(this.indexSet_,r.toString())}addIndex(r,o){(0,b.hu)(r!==su,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let p=!1;const E=o.getIterator(Bi.Wrap);let V,T=E.getNext();for(;T;)p=p||r.isDefinedOn(T.node),u.push(T),T=E.getNext();V=p?Gp(u,r.getCompare()):Hm;const te=r.toString(),ue=Object.assign({},this.indexSet_);ue[te]=r;const xe=Object.assign({},this.indexes_);return xe[te]=V,new Qu(xe,ue)}addToIndexes(r,o){const u=(0,b.UI)(this.indexes_,(p,E)=>{const T=(0,b.DV)(this.indexSet_,E);if((0,b.hu)(T,"Missing index implementation for "+E),p===Hm){if(T.isDefinedOn(r.node)){const V=[],te=o.getIterator(Bi.Wrap);let ue=te.getNext();for(;ue;)ue.name!==r.name&&V.push(ue),ue=te.getNext();return V.push(r),Gp(V,T.getCompare())}return Hm}{const V=o.get(r.name);let te=p;return V&&(te=te.remove(new Bi(r.name,V))),te.insert(r,r.node)}});return new Qu(u,this.indexSet_)}removeFromIndexes(r,o){const u=(0,b.UI)(this.indexes_,p=>{if(p===Hm)return p;{const E=o.get(r.name);return E?p.remove(new Bi(r.name,E)):p}});return new Qu(u,this.indexSet_)}}let zp,Ni=(()=>{class a{constructor(o,u,p){this.children_=o,this.priorityNode_=u,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&ou(this.priorityNode_),this.children_.isEmpty()&&(0,b.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zp||(zp=new a(new na(Vm),null,Qu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zp}updatePriority(o){return this.children_.isEmpty()?this:new a(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const u=this.children_.get(o);return null===u?zp:u}}getChild(o){const u=Wi(o);return null===u?this:this.getImmediateChild(u).getChild(Ks(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,u){if((0,b.hu)(u,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(u);{const p=new Bi(o,u);let E,T;u.isEmpty()?(E=this.children_.remove(o),T=this.indexMap_.removeFromIndexes(p,this.children_)):(E=this.children_.insert(o,u),T=this.indexMap_.addToIndexes(p,this.children_));const V=E.isEmpty()?zp:this.priorityNode_;return new a(E,V,T)}}updateChild(o,u){const p=Wi(o);if(null===p)return u;{(0,b.hu)(".priority"!==Wi(o)||1===Tu(o),".priority must be the last token in a path");const E=this.getImmediateChild(p).updateChild(Ks(o),u);return this.updateImmediateChild(p,E)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const u={};let p=0,E=0,T=!0;if(this.forEachChild(_o,(V,te)=>{u[V]=te.val(o),p++,T&&a.INTEGER_REGEXP_.test(V)?E=Math.max(E,Number(V)):T=!1}),!o&&T&&E<2*p){const V=[];for(const te in u)V[te]=u[te];return V}return o&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+Xd(this.getPriority().val())+":"),this.forEachChild(_o,(u,p)=>{const E=p.hash();""!==E&&(o+=":"+u+":"+E)}),this.lazyHash_=""===o?"":bl(o)}return this.lazyHash_}getPredecessorChildName(o,u,p){const E=this.resolveIndex_(p);if(E){const T=E.getPredecessorKey(new Bi(o,u));return T?T.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const u=this.resolveIndex_(o);if(u){const p=u.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(o){const u=this.getFirstChildName(o);return u?new Bi(u,this.children_.get(u)):null}getLastChildName(o){const u=this.resolveIndex_(o);if(u){const p=u.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(o){const u=this.getLastChildName(o);return u?new Bi(u,this.children_.get(u)):null}forEachChild(o,u){const p=this.resolveIndex_(o);return p?p.inorderTraversal(E=>u(E.name,E.node)):this.children_.inorderTraversal(u)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,u){const p=this.resolveIndex_(u);if(p)return p.getIteratorFrom(o,E=>E);{const E=this.children_.getIteratorFrom(o.name,Bi.Wrap);let T=E.peek();for(;null!=T&&u.compare(T,o)<0;)E.getNext(),T=E.peek();return E}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,u){const p=this.resolveIndex_(u);if(p)return p.getReverseIteratorFrom(o,E=>E);{const E=this.children_.getReverseIteratorFrom(o.name,Bi.Wrap);let T=E.peek();for(;null!=T&&u.compare(T,o)>0;)E.getNext(),T=E.peek();return E}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Wp?-1:0}withIndex(o){if(o===su||this.indexMap_.hasIndex(o))return this;{const u=this.indexMap_.addIndex(o,this.children_);return new a(this.children_,this.priorityNode_,u)}}isIndexed(o){return o===su||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const u=o;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const p=this.getIterator(_o),E=u.getIterator(_o);let T=p.getNext(),V=E.getNext();for(;T&&V;){if(T.name!==V.name||!T.node.equals(V.node))return!1;T=p.getNext(),V=E.getNext()}return null===T&&null===V}return!1}return!1}}resolveIndex_(o){return o===su?null:this.indexMap_.get(o.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const Wp=new class Cy extends Ni{constructor(){super(new na(Vm),Ni.EMPTY_NODE,Qu.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Ni.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Bi,{MIN:{value:new Bi(bu,Ni.EMPTY_NODE)},MAX:{value:new Bi(Ph,Wp)}}),wy.__EMPTY_NODE=Ni.EMPTY_NODE,wd.__childrenNodeConstructor=Ni,function t_(a){Bm=a}(Wp),function Xv(a){Wh=a}(Wp);const _E=!0;function $o(a,r=null){if(null===a)return Ni.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(r=a[".priority"]),(0,b.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new wd(a,$o(r));if(a instanceof Array||!_E){let o=Ni.EMPTY_NODE;return jo(a,(u,p)=>{if((0,b.r3)(a,u)&&"."!==u.substring(0,1)){const E=$o(p);(E.isLeafNode()||!E.isEmpty())&&(o=o.updateImmediateChild(u,E))}}),o.updatePriority($o(r))}{const o=[];let u=!1;if(jo(a,(T,V)=>{if("."!==T.substring(0,1)){const te=$o(V);te.isEmpty()||(u=u||!te.getPriority().isEmpty(),o.push(new Bi(T,te)))}}),0===o.length)return Ni.EMPTY_NODE;const E=Gp(o,jf,T=>T.name,Vm);if(u){const T=Gp(o,_o.getCompare());return new Ni(E,$o(r),new Qu({".priority":T},{".priority":_o}))}return new Ni(E,$o(r),Qu.Default)}}!function th(a){eh=a}($o);class Hf extends Xg{constructor(r){super(),this.indexPath_=r,(0,b.hu)(!Li(r)&&".priority"!==Wi(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,o){const u=this.extractChild(r.node),p=this.extractChild(o.node),E=u.compareTo(p);return 0===E?Ed(r.name,o.name):E}makePost(r,o){const u=$o(r),p=Ni.EMPTY_NODE.updateChild(this.indexPath_,u);return new Bi(o,p)}maxPost(){const r=Ni.EMPTY_NODE.updateChild(this.indexPath_,Wp);return new Bi(Ph,r)}toString(){return $h(this.indexPath_,0).join("/")}}const r_=new class Dy extends Xg{compare(r,o){const u=r.node.compareTo(o.node);return 0===u?Ed(r.name,o.name):u}isDefinedOn(r){return!0}indexedValueChanged(r,o){return!r.equals(o)}minPost(){return Bi.MIN}maxPost(){return Bi.MAX}makePost(r,o){const u=$o(r);return new Bi(o,u)}toString(){return".value"}};function Sy(a){return{type:"value",snapshotNode:a}}function ri(a,r){return{type:"child_added",snapshotNode:r,childName:a}}function Kp(a,r){return{type:"child_removed",snapshotNode:r,childName:a}}function Kh(a,r,o){return{type:"child_changed",snapshotNode:r,childName:a,oldSnap:o}}class qp{constructor(r){this.index_=r}updateChild(r,o,u,p,E,T){(0,b.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const V=r.getImmediateChild(o);return V.getChild(p).equals(u.getChild(p))&&V.isEmpty()===u.isEmpty()||(null!=T&&(u.isEmpty()?r.hasChild(o)?T.trackChildChange(Kp(o,V)):(0,b.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):V.isEmpty()?T.trackChildChange(ri(o,u)):T.trackChildChange(Kh(o,u,V))),r.isLeafNode()&&u.isEmpty())?r:r.updateImmediateChild(o,u).withIndex(this.index_)}updateFullNode(r,o,u){return null!=u&&(r.isLeafNode()||r.forEachChild(_o,(p,E)=>{o.hasChild(p)||u.trackChildChange(Kp(p,E))}),o.isLeafNode()||o.forEachChild(_o,(p,E)=>{if(r.hasChild(p)){const T=r.getImmediateChild(p);T.equals(E)||u.trackChildChange(Kh(p,E,T))}else u.trackChildChange(ri(p,E))})),o.withIndex(this.index_)}updatePriority(r,o){return r.isEmpty()?Ni.EMPTY_NODE:r.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $m{constructor(r){this.indexedFilter_=new qp(r.getIndex()),this.index_=r.getIndex(),this.startPost_=$m.getStartPost_(r),this.endPost_=$m.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,u=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return o&&u}updateChild(r,o,u,p,E,T){return this.matches(new Bi(o,u))||(u=Ni.EMPTY_NODE),this.indexedFilter_.updateChild(r,o,u,p,E,T)}updateFullNode(r,o,u){o.isLeafNode()&&(o=Ni.EMPTY_NODE);let p=o.withIndex(this.index_);p=p.updatePriority(Ni.EMPTY_NODE);const E=this;return o.forEachChild(_o,(T,V)=>{E.matches(new Bi(T,V))||(p=p.updateImmediateChild(T,Ni.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,p,u)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const o=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),o)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const o=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),o)}return r.getIndex().maxPost()}}class Zp{constructor(r){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=o=>{const u=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new $m(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,o,u,p,E,T){return this.rangedFilter_.matches(new Bi(o,u))||(u=Ni.EMPTY_NODE),r.getImmediateChild(o).equals(u)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,o,u,p,E,T):this.fullLimitUpdateChild_(r,o,u,E,T)}updateFullNode(r,o,u){let p;if(o.isLeafNode()||o.isEmpty())p=Ni.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let E;p=Ni.EMPTY_NODE.withIndex(this.index_),E=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let T=0;for(;E.hasNext()&&T<this.limit_;){const V=E.getNext();if(this.withinDirectionalStart(V)){if(!this.withinDirectionalEnd(V))break;p=p.updateImmediateChild(V.name,V.node),T++}}}else{let E;p=o.withIndex(this.index_),p=p.updatePriority(Ni.EMPTY_NODE),E=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let T=0;for(;E.hasNext();){const V=E.getNext();T<this.limit_&&this.withinDirectionalStart(V)&&this.withinDirectionalEnd(V)?T++:p=p.updateImmediateChild(V.name,Ni.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,p,u)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,o,u,p,E){let T;if(this.reverse_){const Pe=this.index_.getCompare();T=(_t,Kt)=>Pe(Kt,_t)}else T=this.index_.getCompare();const V=r;(0,b.hu)(V.numChildren()===this.limit_,"");const te=new Bi(o,u),ue=this.reverse_?V.getFirstChild(this.index_):V.getLastChild(this.index_),xe=this.rangedFilter_.matches(te);if(V.hasChild(o)){const Pe=V.getImmediateChild(o);let _t=p.getChildAfterChild(this.index_,ue,this.reverse_);for(;null!=_t&&(_t.name===o||V.hasChild(_t.name));)_t=p.getChildAfterChild(this.index_,_t,this.reverse_);const Kt=null==_t?1:T(_t,te);if(xe&&!u.isEmpty()&&Kt>=0)return E?.trackChildChange(Kh(o,u,Pe)),V.updateImmediateChild(o,u);{E?.trackChildChange(Kp(o,Pe));const nn=V.updateImmediateChild(o,Ni.EMPTY_NODE);return null!=_t&&this.rangedFilter_.matches(_t)?(E?.trackChildChange(ri(_t.name,_t.node)),nn.updateImmediateChild(_t.name,_t.node)):nn}}return u.isEmpty()?r:xe&&T(ue,te)>=0?(null!=E&&(E.trackChildChange(Kp(ue.name,ue.node)),E.trackChildChange(ri(o,u))),V.updateImmediateChild(o,u).updateImmediateChild(ue.name,Ni.EMPTY_NODE)):r}}class nh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_o}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,b.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,b.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,b.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,b.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ph}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,b.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_o}copy(){const r=new nh;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Qp(a,r,o){const u=a.copy();return u.startSet_=!0,void 0===r&&(r=null),u.indexStartValue_=r,null!=o?(u.startNameSet_=!0,u.indexStartName_=o):(u.startNameSet_=!1,u.indexStartName_=""),u}function $f(a,r,o){const u=a.copy();return u.endSet_=!0,void 0===r&&(r=null),u.indexEndValue_=r,void 0!==o?(u.endNameSet_=!0,u.indexEndName_=o):(u.endNameSet_=!1,u.indexEndName_=""),u}function Zh(a,r){const o=a.copy();return o.index_=r,o}function n0(a){const r={};if(a.isDefault())return r;let o;if(a.index_===_o?o="$priority":a.index_===r_?o="$value":a.index_===su?o="$key":((0,b.hu)(a.index_ instanceof Hf,"Unrecognized index type!"),o=a.index_.toString()),r.orderBy=(0,b.Wl)(o),a.startSet_){const u=a.startAfterSet_?"startAfter":"startAt";r[u]=(0,b.Wl)(a.indexStartValue_),a.startNameSet_&&(r[u]+=","+(0,b.Wl)(a.indexStartName_))}if(a.endSet_){const u=a.endBeforeSet_?"endBefore":"endAt";r[u]=(0,b.Wl)(a.indexEndValue_),a.endNameSet_&&(r[u]+=","+(0,b.Wl)(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?r.limitToFirst=a.limit_:r.limitToLast=a.limit_),r}function s_(a){const r={};if(a.startSet_&&(r.sp=a.indexStartValue_,a.startNameSet_&&(r.sn=a.indexStartName_),r.sin=!a.startAfterSet_),a.endSet_&&(r.ep=a.indexEndValue_,a.endNameSet_&&(r.en=a.indexEndName_),r.ein=!a.endBeforeSet_),a.limitSet_){r.l=a.limit_;let o=a.viewFrom_;""===o&&(o=a.isViewFromLeft()?"l":"r"),r.vf=o}return a.index_!==_o&&(r.i=a.index_.toString()),r}class o_ extends gy{constructor(r,o,u,p){super(),this.repoInfo_=r,this.onDataUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.log_=Zu("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,o){return void 0!==o?"tag$"+o:((0,b.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,o,u,p){const E=r._path.toString();this.log_("Listen called for "+E+" "+r._queryIdentifier);const T=o_.getListenId_(r,u),V={};this.listens_[T]=V;const te=n0(r._queryParams);this.restRequest_(E+".json",te,(ue,xe)=>{let Pe=xe;if(404===ue&&(Pe=null,ue=null),null===ue&&this.onDataUpdate_(E,Pe,!1,u),(0,b.DV)(this.listens_,T)===V){let _t;_t=ue?401===ue?"permission_denied":"rest_error:"+ue:"ok",p(_t,null)}})}unlisten(r,o){const u=o_.getListenId_(r,o);delete this.listens_[u]}get(r){const o=n0(r._queryParams),u=r._path.toString(),p=new b.BH;return this.restRequest_(u+".json",o,(E,T)=>{let V=T;404===E&&(V=null,E=null),null===E?(this.onDataUpdate_(u,V,!1,null),p.resolve(V)):p.reject(new Error(V))}),p.promise}refreshAuthToken(r){}restRequest_(r,o={},u){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,E])=>{p&&p.accessToken&&(o.auth=p.accessToken),E&&E.token&&(o.ac=E.token);const T=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,b.xO)(o);this.log_("Sending REST request for "+T);const V=new XMLHttpRequest;V.onreadystatechange=()=>{if(u&&4===V.readyState){this.log_("REST Response for "+T+" received. status:",V.status,"response:",V.responseText);let te=null;if(V.status>=200&&V.status<300){try{te=(0,b.cI)(V.responseText)}catch{Cl("Failed to parse JSON response for "+T+": "+V.responseText)}u(null,te)}else 401!==V.status&&404!==V.status&&Cl("Got unsuccessful REST response for "+T+" Status: "+V.status),u(V.status);u=null}},V.open("GET",T,!0),V.send()})}}class a_{constructor(){this.rootNode_=Ni.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,o){this.rootNode_=this.rootNode_.updateChild(r,o)}}function Jp(){return{value:null,children:new Map}}function Yh(a,r,o){if(Li(r))a.value=o,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(r,o);else{const u=Wi(r);a.children.has(u)||a.children.set(u,Jp()),Yh(a.children.get(u),r=Ks(r),o)}}function Qh(a,r){if(Li(r))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const o=a.value;return a.value=null,o.forEachChild(_o,(u,p)=>{Yh(a,new ys(u),p)}),Qh(a,r)}}if(a.children.size>0){const o=Wi(r);return r=Ks(r),a.children.has(o)&&Qh(a.children.get(o),r)&&a.children.delete(o),0===a.children.size}return!0}function l_(a,r,o){null!==a.value?o(r,a.value):function c_(a,r){a.children.forEach((o,u)=>{r(u,o)})}(a,(u,p)=>{l_(p,new ys(r.toString()+"/"+u),o)})}class r0{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),o=Object.assign({},r);return this.last_&&jo(this.last_,(u,p)=>{o[u]=o[u]-p}),this.last_=r,o}}class yE{constructor(r,o){this.server_=o,this.statsToReport_={},this.statsListener_=new r0(r);const u=1e4+2e4*Math.random();Om(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const r=this.statsListener_.get(),o={};let u=!1;jo(r,(p,E)=>{E>0&&(0,b.r3)(this.statsToReport_,p)&&(o[p]=E,u=!0)}),u&&this.server_.reportStats(o),Om(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Du=function(a){return a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",a}(Du||{});function Xp(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class d_{constructor(r,o,u){this.path=r,this.affectedTree=o,this.revert=u,this.type=Du.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Li(this.path)){if(null!=this.affectedTree.value)return(0,b.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new ys(r));return new d_(Cs(),o,this.revert)}}return(0,b.hu)(Wi(this.path)===r,"operationForChild called for unrelated child."),new d_(Ks(this.path),this.affectedTree,this.revert)}}class Gf{constructor(r,o){this.source=r,this.path=o,this.type=Du.LISTEN_COMPLETE}operationForChild(r){return Li(this.path)?new Gf(this.source,Cs()):new Gf(this.source,Ks(this.path))}}class zf{constructor(r,o,u){this.source=r,this.path=o,this.snap=u,this.type=Du.OVERWRITE}operationForChild(r){return Li(this.path)?new zf(this.source,Cs(),this.snap.getImmediateChild(r)):new zf(this.source,Ks(this.path),this.snap)}}class ih{constructor(r,o,u){this.source=r,this.path=o,this.children=u,this.type=Du.MERGE}operationForChild(r){if(Li(this.path)){const o=this.children.subtree(new ys(r));return o.isEmpty()?null:o.value?new zf(this.source,Cs(),o.value):new ih(this.source,Cs(),o)}return(0,b.hu)(Wi(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new ih(this.source,Ks(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jh{constructor(r,o,u){this.node_=r,this.fullyInitialized_=o,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Li(r))return this.isFullyInitialized()&&!this.filtered_;const o=Wi(r);return this.isCompleteForChild(o)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Ry{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Wf(a,r,o,u,p,E){const T=u.filter(V=>V.type===o);T.sort((V,te)=>function vE(a,r,o){if(null==r.childName||null==o.childName)throw(0,b.g5)("Should only compare child_ events.");const u=new Bi(r.childName,r.snapshotNode),p=new Bi(o.childName,o.snapshotNode);return a.index_.compare(u,p)}(a,V,te)),T.forEach(V=>{const te=function o0(a,r,o){return"value"===r.type||"child_removed"===r.type||(r.prevName=o.getPredecessorChildName(r.childName,r.snapshotNode,a.index_)),r}(a,V,E);p.forEach(ue=>{ue.respondsTo(V.type)&&r.push(ue.createEvent(te,a.query_))})})}function f_(a,r){return{eventCache:a,serverCache:r}}function Kf(a,r,o,u){return f_(new Jh(r,o,u),a.serverCache)}function Ju(a,r,o,u){return f_(a.eventCache,new Jh(r,o,u))}function Xh(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function sh(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let em;class Ns{constructor(r,o=(()=>(em||(em=new na(dE)),em))()){this.value=r,this.children=o}static fromObject(r){let o=new Ns(null);return jo(r,(u,p)=>{o=o.set(new ys(u),p)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,o){if(null!=this.value&&o(this.value))return{path:Cs(),value:this.value};if(Li(r))return null;{const u=Wi(r),p=this.children.get(u);if(null!==p){const E=p.findRootMostMatchingPathAndValue(Ks(r),o);return null!=E?{path:Ho(new ys(u),E.path),value:E.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Li(r))return this;{const o=Wi(r),u=this.children.get(o);return null!==u?u.subtree(Ks(r)):new Ns(null)}}set(r,o){if(Li(r))return new Ns(o,this.children);{const u=Wi(r),E=(this.children.get(u)||new Ns(null)).set(Ks(r),o),T=this.children.insert(u,E);return new Ns(this.value,T)}}remove(r){if(Li(r))return this.children.isEmpty()?new Ns(null):new Ns(null,this.children);{const o=Wi(r),u=this.children.get(o);if(u){const p=u.remove(Ks(r));let E;return E=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),null===this.value&&E.isEmpty()?new Ns(null):new Ns(this.value,E)}return this}}get(r){if(Li(r))return this.value;{const o=Wi(r),u=this.children.get(o);return u?u.get(Ks(r)):null}}setTree(r,o){if(Li(r))return o;{const u=Wi(r),E=(this.children.get(u)||new Ns(null)).setTree(Ks(r),o);let T;return T=E.isEmpty()?this.children.remove(u):this.children.insert(u,E),new Ns(this.value,T)}}fold(r){return this.fold_(Cs(),r)}fold_(r,o){const u={};return this.children.inorderTraversal((p,E)=>{u[p]=E.fold_(Ho(r,p),o)}),o(r,this.value,u)}findOnPath(r,o){return this.findOnPath_(r,Cs(),o)}findOnPath_(r,o,u){const p=!!this.value&&u(o,this.value);if(p)return p;if(Li(r))return null;{const E=Wi(r),T=this.children.get(E);return T?T.findOnPath_(Ks(r),Ho(o,E),u):null}}foreachOnPath(r,o){return this.foreachOnPath_(r,Cs(),o)}foreachOnPath_(r,o,u){if(Li(r))return this;{this.value&&u(o,this.value);const p=Wi(r),E=this.children.get(p);return E?E.foreachOnPath_(Ks(r),Ho(o,p),u):new Ns(null)}}foreach(r){this.foreach_(Cs(),r)}foreach_(r,o){this.children.inorderTraversal((u,p)=>{p.foreach_(Ho(r,u),o)}),this.value&&o(r,this.value)}foreachChild(r){this.children.inorderTraversal((o,u)=>{u.value&&r(o,u.value)})}}class Su{constructor(r){this.writeTree_=r}static empty(){return new Su(new Ns(null))}}function bd(a,r,o){if(Li(r))return new Su(new Ns(o));{const u=a.writeTree_.findRootMostValueAndPath(r);if(null!=u){const p=u.path;let E=u.value;const T=Dl(p,r);return E=E.updateChild(T,o),new Su(a.writeTree_.set(p,E))}{const p=new Ns(o),E=a.writeTree_.setTree(r,p);return new Su(E)}}}function tm(a,r,o){let u=a;return jo(o,(p,E)=>{u=bd(u,Ho(r,p),E)}),u}function nm(a,r){if(Li(r))return Su.empty();{const o=a.writeTree_.setTree(r,new Ns(null));return new Su(o)}}function Wm(a,r){return null!=Xu(a,r)}function Xu(a,r){const o=a.writeTree_.findRootMostValueAndPath(r);return null!=o?a.writeTree_.get(o.path).getChild(Dl(o.path,r)):null}function My(a){const r=[],o=a.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(_o,(u,p)=>{r.push(new Bi(u,p))}):a.writeTree_.children.inorderTraversal((u,p)=>{null!=p.value&&r.push(new Bi(u,p.value))}),r}function oh(a,r){if(Li(r))return a;{const o=Xu(a,r);return new Su(null!=o?new Ns(o):a.writeTree_.subtree(r))}}function Km(a){return a.writeTree_.isEmpty()}function Nc(a,r){return qm(Cs(),a.writeTree_,r)}function qm(a,r,o){if(null!=r.value)return o.updateChild(a,r.value);{let u=null;return r.children.inorderTraversal((p,E)=>{".priority"===p?((0,b.hu)(null!==E.value,"Priority writes must always be leaf nodes"),u=E.value):o=qm(Ho(a,p),E,o)}),!o.getChild(a).isEmpty()&&null!==u&&(o=o.updateChild(Ho(a,".priority"),u)),o}}function rm(a,r){return am(r,a)}function im(a,r){if(a.snap)return ru(a.path,r);for(const o in a.children)if(a.children.hasOwnProperty(o)&&ru(Ho(a.path,o),r))return!0;return!1}function p_(a){return a.visible}function sm(a,r,o){let u=Su.empty();for(let p=0;p<a.length;++p){const E=a[p];if(r(E)){const T=E.path;let V;if(E.snap)ru(o,T)?(V=Dl(o,T),u=bd(u,V,E.snap)):ru(T,o)&&(V=Dl(T,o),u=bd(u,Cs(),E.snap.getChild(V)));else{if(!E.children)throw(0,b.g5)("WriteRecord should have .snap or .children");if(ru(o,T))V=Dl(o,T),u=tm(u,V,E.children);else if(ru(T,o))if(V=Dl(T,o),Li(V))u=tm(u,Cs(),E.children);else{const te=(0,b.DV)(E.children,Wi(V));if(te){const ue=te.getChild(Ks(V));u=bd(u,Cs(),ue)}}}}}return u}function m_(a,r,o,u,p){if(u||p){const E=oh(a.visibleWrites,r);return!p&&Km(E)?o:p||null!=o||Wm(E,Cs())?Nc(sm(a.allWrites,function(ue){return(ue.visible||p)&&(!u||!~u.indexOf(ue.writeId))&&(ru(ue.path,r)||ru(r,ue.path))},r),o||Ni.EMPTY_NODE):null}{const E=Xu(a.visibleWrites,r);if(null!=E)return E;{const T=oh(a.visibleWrites,r);return Km(T)?o:null!=o||Wm(T,Cs())?Nc(T,o||Ni.EMPTY_NODE):null}}}function Ym(a,r,o,u){return m_(a.writeTree,a.treePath,r,o,u)}function qf(a,r){return function a0(a,r,o){let u=Ni.EMPTY_NODE;const p=Xu(a.visibleWrites,r);if(p)return p.isLeafNode()||p.forEachChild(_o,(E,T)=>{u=u.updateImmediateChild(E,T)}),u;if(o){const E=oh(a.visibleWrites,r);return o.forEachChild(_o,(T,V)=>{const te=Nc(oh(E,new ys(T)),V);u=u.updateImmediateChild(T,te)}),My(E).forEach(T=>{u=u.updateImmediateChild(T.name,T.node)}),u}return My(oh(a.visibleWrites,r)).forEach(T=>{u=u.updateImmediateChild(T.name,T.node)}),u}(a.writeTree,a.treePath,r)}function Ly(a,r,o,u){return function g_(a,r,o,u,p){(0,b.hu)(u||p,"Either existingEventSnap or existingServerSnap must exist");const E=Ho(r,o);if(Wm(a.visibleWrites,E))return null;{const T=oh(a.visibleWrites,E);return Km(T)?p.getChild(o):Nc(T,p.getChild(o))}}(a.writeTree,a.treePath,r,o,u)}function Qm(a,r){return function om(a,r){return Xu(a.visibleWrites,r)}(a.writeTree,Ho(a.treePath,r))}function Uy(a,r,o){return function Ny(a,r,o,u){const p=Ho(r,o),E=Xu(a.visibleWrites,p);return null!=E?E:u.isCompleteForChild(o)?Nc(oh(a.visibleWrites,p),u.getNode().getImmediateChild(o)):null}(a.writeTree,a.treePath,r,o)}function c0(a,r){return am(Ho(a.treePath,r),a.writeTree)}function am(a,r){return{treePath:a,writeTree:r}}class IE{constructor(){this.changeMap=new Map}trackChildChange(r){const o=r.type,u=r.childName;(0,b.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,b.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(u);if(p){const E=p.type;if("child_added"===o&&"child_removed"===E)this.changeMap.set(u,Kh(u,r.snapshotNode,p.snapshotNode));else if("child_removed"===o&&"child_added"===E)this.changeMap.delete(u);else if("child_removed"===o&&"child_changed"===E)this.changeMap.set(u,Kp(u,p.oldSnap));else if("child_changed"===o&&"child_added"===E)this.changeMap.set(u,ri(u,r.snapshotNode));else{if("child_changed"!==o||"child_changed"!==E)throw(0,b.g5)("Illegal combination of changes: "+r+" occurred after "+p);this.changeMap.set(u,Kh(u,r.snapshotNode,p.oldSnap))}}else this.changeMap.set(u,r)}getChanges(){return Array.from(this.changeMap.values())}}const Vy=new class u0{getCompleteChild(r){return null}getChildAfterChild(r,o,u){return null}};class Jm{constructor(r,o,u=null){this.writes_=r,this.viewCache_=o,this.optCompleteServerCache_=u}getCompleteChild(r){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(r))return o.getNode().getImmediateChild(r);{const u=null!=this.optCompleteServerCache_?new Jh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uy(this.writes_,r,u)}}getChildAfterChild(r,o,u){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sh(this.viewCache_),E=function Fy(a,r,o,u,p,E){return function ky(a,r,o,u,p,E,T){let V;const te=oh(a.visibleWrites,r),ue=Xu(te,Cs());if(null!=ue)V=ue;else{if(null==o)return[];V=Nc(te,o)}if(V=V.withIndex(T),V.isEmpty()||V.isLeafNode())return[];{const xe=[],Pe=T.getCompare(),_t=E?V.getReverseIteratorFrom(u,T):V.getIteratorFrom(u,T);let Kt=_t.getNext();for(;Kt&&xe.length<p;)0!==Pe(Kt,u)&&xe.push(Kt),Kt=_t.getNext();return xe}}(a.writeTree,a.treePath,r,o,u,p,E)}(this.writes_,p,o,1,u,r);return 0===E.length?null:E[0]}}function Yi(a,r,o,u,p,E){const T=r.eventCache;if(null!=Qm(u,o))return r;{let V,te;if(Li(o))if((0,b.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const ue=sh(r),Pe=qf(u,ue instanceof Ni?ue:Ni.EMPTY_NODE);V=a.filter.updateFullNode(r.eventCache.getNode(),Pe,E)}else{const ue=Ym(u,sh(r));V=a.filter.updateFullNode(r.eventCache.getNode(),ue,E)}else{const ue=Wi(o);if(".priority"===ue){(0,b.hu)(1===Tu(o),"Can't have a priority with additional path components");const xe=T.getNode();te=r.serverCache.getNode();const Pe=Ly(u,o,xe,te);V=null!=Pe?a.filter.updatePriority(xe,Pe):T.getNode()}else{const xe=Ks(o);let Pe;if(T.isCompleteForChild(ue)){te=r.serverCache.getNode();const _t=Ly(u,o,T.getNode(),te);Pe=null!=_t?T.getNode().getImmediateChild(ue).updateChild(xe,_t):T.getNode().getImmediateChild(ue)}else Pe=Uy(u,ue,r.serverCache);V=null!=Pe?a.filter.updateChild(T.getNode(),ue,Pe,xe,p,E):T.getNode()}}return Kf(r,V,T.isFullyInitialized()||Li(o),a.filter.filtersNodes())}}function Zf(a,r,o,u,p,E,T,V){const te=r.serverCache;let ue;const xe=T?a.filter:a.filter.getIndexedFilter();if(Li(o))ue=xe.updateFullNode(te.getNode(),u,null);else if(xe.filtersNodes()&&!te.isFiltered()){const Kt=te.getNode().updateChild(o,u);ue=xe.updateFullNode(te.getNode(),Kt,null)}else{const Kt=Wi(o);if(!te.isCompleteForPath(o)&&Tu(o)>1)return r;const Mt=Ks(o),zn=te.getNode().getImmediateChild(Kt).updateChild(Mt,u);ue=".priority"===Kt?xe.updatePriority(te.getNode(),zn):xe.updateChild(te.getNode(),Kt,zn,Mt,Vy,null)}const Pe=Ju(r,ue,te.isFullyInitialized()||Li(o),xe.filtersNodes());return Yi(a,Pe,o,p,new Jm(p,Pe,E),V)}function y_(a,r,o,u,p,E,T){const V=r.eventCache;let te,ue;const xe=new Jm(p,r,E);if(Li(o))ue=a.filter.updateFullNode(r.eventCache.getNode(),u,T),te=Kf(r,ue,!0,a.filter.filtersNodes());else{const Pe=Wi(o);if(".priority"===Pe)ue=a.filter.updatePriority(r.eventCache.getNode(),u),te=Kf(r,ue,V.isFullyInitialized(),V.isFiltered());else{const _t=Ks(o),Kt=V.getNode().getImmediateChild(Pe);let Mt;if(Li(_t))Mt=u;else{const nn=xe.getCompleteChild(Pe);Mt=null!=nn?".priority"===Hh(_t)&&nn.getChild(Hp(_t)).isEmpty()?nn:nn.updateChild(_t,u):Ni.EMPTY_NODE}te=Kt.equals(Mt)?r:Kf(r,a.filter.updateChild(V.getNode(),Pe,Mt,_t,xe,T),V.isFullyInitialized(),a.filter.filtersNodes())}}return te}function ah(a,r){return a.eventCache.isCompleteForChild(r)}function ko(a,r,o){return o.foreach((u,p)=>{r=r.updateChild(u,p)}),r}function fl(a,r,o,u,p,E,T,V){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let ue,te=r;ue=Li(o)?u:new Ns(null).setTree(o,u);const xe=r.serverCache.getNode();return ue.children.inorderTraversal((Pe,_t)=>{if(xe.hasChild(Pe)){const Mt=ko(0,r.serverCache.getNode().getImmediateChild(Pe),_t);te=Zf(a,te,new ys(Pe),Mt,p,E,T,V)}}),ue.children.inorderTraversal((Pe,_t)=>{const Kt=!r.serverCache.isCompleteForChild(Pe)&&null===_t.value;if(!xe.hasChild(Pe)&&!Kt){const nn=ko(0,r.serverCache.getNode().getImmediateChild(Pe),_t);te=Zf(a,te,new ys(Pe),nn,p,E,T,V)}}),te}class Xm{constructor(r,o){this.query_=r,this.eventRegistrations_=[];const u=this.query_._queryParams,p=new qp(u.getIndex()),E=function Gm(a){return a.loadsAllData()?new qp(a.getIndex()):a.hasLimit()?new Zp(a):new $m(a)}(u);this.processor_=function d0(a){return{filter:a}}(E);const T=o.serverCache,V=o.eventCache,te=p.updateFullNode(Ni.EMPTY_NODE,T.getNode(),null),ue=E.updateFullNode(Ni.EMPTY_NODE,V.getNode(),null),xe=new Jh(te,T.isFullyInitialized(),p.filtersNodes()),Pe=new Jh(ue,V.isFullyInitialized(),E.filtersNodes());this.viewCache_=f_(Pe,xe),this.eventGenerator_=new Ry(this.query_)}get query(){return this.query_}}function bE(a,r){const o=sh(a.viewCache_);return o&&(a.query._queryParams.loadsAllData()||!Li(r)&&!o.getImmediateChild(Wi(r)).isEmpty())?o.getChild(r):null}function jy(a){return 0===a.eventRegistrations_.length}function Hy(a,r,o){const u=[];if(o){(0,b.hu)(null==r,"A cancel should cancel all event registrations.");const p=a.query._path;a.eventRegistrations_.forEach(E=>{const T=E.createCancelEvent(o,p);T&&u.push(T)})}if(r){let p=[];for(let E=0;E<a.eventRegistrations_.length;++E){const T=a.eventRegistrations_[E];if(T.matches(r)){if(r.hasAnyCallback()){p=p.concat(a.eventRegistrations_.slice(E+1));break}}else p.push(T)}a.eventRegistrations_=p}else a.eventRegistrations_=[];return u}function Go(a,r,o,u){r.type===Du.MERGE&&null!==r.source.queryId&&((0,b.hu)(sh(a.viewCache_),"We should always have a full cache before handling merges"),(0,b.hu)(Xh(a.viewCache_),"Missing event cache, even though we have a server cache"));const p=a.viewCache_,E=function f0(a,r,o,u,p){const E=new IE;let T,V;if(o.type===Du.OVERWRITE){const ue=o;ue.source.fromUser?T=y_(a,r,ue.path,ue.snap,u,p,E):((0,b.hu)(ue.source.fromServer,"Unknown source."),V=ue.source.tagged||r.serverCache.isFiltered()&&!Li(ue.path),T=Zf(a,r,ue.path,ue.snap,u,p,V,E))}else if(o.type===Du.MERGE){const ue=o;ue.source.fromUser?T=function p0(a,r,o,u,p,E,T){let V=r;return u.foreach((te,ue)=>{const xe=Ho(o,te);ah(r,Wi(xe))&&(V=y_(a,V,xe,ue,p,E,T))}),u.foreach((te,ue)=>{const xe=Ho(o,te);ah(r,Wi(xe))||(V=y_(a,V,xe,ue,p,E,T))}),V}(a,r,ue.path,ue.children,u,p,E):((0,b.hu)(ue.source.fromServer,"Unknown source."),V=ue.source.tagged||r.serverCache.isFiltered(),T=fl(a,r,ue.path,ue.children,u,p,V,E))}else if(o.type===Du.ACK_USER_WRITE){const ue=o;T=ue.revert?function wE(a,r,o,u,p,E){let T;if(null!=Qm(u,o))return r;{const V=new Jm(u,r,p),te=r.eventCache.getNode();let ue;if(Li(o)||".priority"===Wi(o)){let xe;if(r.serverCache.isFullyInitialized())xe=Ym(u,sh(r));else{const Pe=r.serverCache.getNode();(0,b.hu)(Pe instanceof Ni,"serverChildren would be complete if leaf node"),xe=qf(u,Pe)}ue=a.filter.updateFullNode(te,xe,E)}else{const xe=Wi(o);let Pe=Uy(u,xe,r.serverCache);null==Pe&&r.serverCache.isCompleteForChild(xe)&&(Pe=te.getImmediateChild(xe)),ue=null!=Pe?a.filter.updateChild(te,xe,Pe,Ks(o),V,E):r.eventCache.getNode().hasChild(xe)?a.filter.updateChild(te,xe,Ni.EMPTY_NODE,Ks(o),V,E):te,ue.isEmpty()&&r.serverCache.isFullyInitialized()&&(T=Ym(u,sh(r)),T.isLeafNode()&&(ue=a.filter.updateFullNode(ue,T,E)))}return T=r.serverCache.isFullyInitialized()||null!=Qm(u,Cs()),Kf(r,ue,T,a.filter.filtersNodes())}}(a,r,ue.path,u,p,E):function Td(a,r,o,u,p,E,T){if(null!=Qm(p,o))return r;const V=r.serverCache.isFiltered(),te=r.serverCache;if(null!=u.value){if(Li(o)&&te.isFullyInitialized()||te.isCompleteForPath(o))return Zf(a,r,o,te.getNode().getChild(o),p,E,V,T);if(Li(o)){let ue=new Ns(null);return te.getNode().forEachChild(su,(xe,Pe)=>{ue=ue.set(new ys(xe),Pe)}),fl(a,r,o,ue,p,E,V,T)}return r}{let ue=new Ns(null);return u.foreach((xe,Pe)=>{const _t=Ho(o,xe);te.isCompleteForPath(_t)&&(ue=ue.set(xe,te.getNode().getChild(_t)))}),fl(a,r,o,ue,p,E,V,T)}}(a,r,ue.path,ue.affectedTree,u,p,E)}else{if(o.type!==Du.LISTEN_COMPLETE)throw(0,b.g5)("Unknown operation type: "+o.type);T=function m0(a,r,o,u,p){const E=r.serverCache;return Yi(a,Ju(r,E.getNode(),E.isFullyInitialized()||Li(o),E.isFiltered()),o,u,Vy,p)}(a,r,o.path,u,E)}const te=E.getChanges();return function __(a,r,o){const u=r.eventCache;if(u.isFullyInitialized()){const p=u.getNode().isLeafNode()||u.getNode().isEmpty(),E=Xh(a);(o.length>0||!a.eventCache.isFullyInitialized()||p&&!u.getNode().equals(E)||!u.getNode().getPriority().equals(E.getPriority()))&&o.push(Sy(Xh(r)))}}(r,T,te),{viewCache:T,changes:te}}(a.processor_,p,r,o,u);return function h0(a,r){(0,b.hu)(r.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,b.hu)(r.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,E.viewCache),(0,b.hu)(E.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=E.viewCache,TE(a,E.changes,E.viewCache.eventCache.getNode(),null)}function TE(a,r,o,u){return function h_(a,r,o,u){const p=[],E=[];return r.forEach(T=>{"child_changed"===T.type&&a.index_.indexedValueChanged(T.oldSnap,T.snapshotNode)&&E.push(function qh(a,r){return{type:"child_moved",snapshotNode:r,childName:a}}(T.childName,T.snapshotNode))}),Wf(a,p,"child_removed",r,u,o),Wf(a,p,"child_added",r,u,o),Wf(a,p,"child_moved",E,u,o),Wf(a,p,"child_changed",r,u,o),Wf(a,p,"value",r,u,o),p}(a.eventGenerator_,r,o,u?[u]:a.eventRegistrations_)}let ra,Al;class eg{constructor(){this.views=new Map}}function Sl(a,r,o,u){const p=r.source.queryId;if(null!==p){const E=a.views.get(p);return(0,b.hu)(null!=E,"SyncTree gave us an op for an invalid query."),Go(E,r,o,u)}{let E=[];for(const T of a.views.values())E=E.concat(Go(T,r,o,u));return E}}function tf(a,r,o,u,p){const T=a.views.get(r._queryIdentifier);if(!T){let V=Ym(o,p?u:null),te=!1;V?te=!0:u instanceof Ni?(V=qf(o,u),te=!1):(V=Ni.EMPTY_NODE,te=!1);const ue=f_(new Jh(V,te,!1),new Jh(u,p,!1));return new Xm(r,ue)}return T}function Gy(a){const r=[];for(const o of a.views.values())o.query._queryParams.loadsAllData()||r.push(o);return r}function au(a,r){let o=null;for(const u of a.views.values())o=o||bE(u,r);return o}function Yf(a,r){return r._queryParams.loadsAllData()?lh(a):a.views.get(r._queryIdentifier)}function nf(a,r){return null!=Yf(a,r)}function Vl(a){return null!=lh(a)}function lh(a){for(const r of a.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Ru=1;class cm{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Ns(null),this.pendingWriteTree_=function l0(){return{visibleWrites:Su.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I_(a,r,o,u,p){return function Zm(a,r,o,u,p){(0,b.hu)(u>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),a.allWrites.push({path:r,snap:o,writeId:u,visible:p}),p&&(a.visibleWrites=bd(a.visibleWrites,r,o)),a.lastWriteId=u}(a.pendingWriteTree_,r,o,u,p),p?um(a,new zf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,o)):[]}function Dd(a,r,o=!1){const u=function Oy(a,r){for(let o=0;o<a.allWrites.length;o++){const u=a.allWrites[o];if(u.writeId===r)return u}return null}(a.pendingWriteTree_,r);if(function xy(a,r){const o=a.allWrites.findIndex(V=>V.writeId===r);(0,b.hu)(o>=0,"removeWrite called with nonexistent writeId.");const u=a.allWrites[o];a.allWrites.splice(o,1);let p=u.visible,E=!1,T=a.allWrites.length-1;for(;p&&T>=0;){const V=a.allWrites[T];V.visible&&(T>=o&&im(V,u.path)?p=!1:ru(u.path,V.path)&&(E=!0)),T--}return!!p&&(E?(function ef(a){a.visibleWrites=sm(a.allWrites,p_,Cs()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(u.snap?a.visibleWrites=nm(a.visibleWrites,u.path):jo(u.children,te=>{a.visibleWrites=nm(a.visibleWrites,Ho(u.path,te))}),!0))}(a.pendingWriteTree_,r)){let E=new Ns(null);return null!=u.snap?E=E.set(Cs(),!0):jo(u.children,T=>{E=E.set(new ys(T),!0)}),um(a,new d_(u.path,E,o))}return[]}function Qf(a,r,o){return um(a,new zf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}function sf(a,r,o,u,p=!1){const E=r._path,T=a.syncPointTree_.get(E);let V=[];if(T&&("default"===r._queryIdentifier||nf(T,r))){const te=function Au(a,r,o,u){const p=r._queryIdentifier,E=[];let T=[];const V=Vl(a);if("default"===p)for(const[te,ue]of a.views.entries())T=T.concat(Hy(ue,o,u)),jy(ue)&&(a.views.delete(te),ue.query._queryParams.loadsAllData()||E.push(ue.query));else{const te=a.views.get(p);te&&(T=T.concat(Hy(te,o,u)),jy(te)&&(a.views.delete(p),te.query._queryParams.loadsAllData()||E.push(te.query)))}return V&&!Vl(a)&&E.push(new(function Cd(){return(0,b.hu)(ra,"Reference.ts has not been loaded"),ra}())(r._repo,r._path)),{removed:E,events:T}}(T,r,o,u);(function lm(a){return 0===a.views.size})(T)&&(a.syncPointTree_=a.syncPointTree_.remove(E));const ue=te.removed;if(V=te.events,!p){const xe=-1!==ue.findIndex(_t=>_t._queryParams.loadsAllData()),Pe=a.syncPointTree_.findOnPath(E,(_t,Kt)=>Vl(Kt));if(xe&&!Pe){const _t=a.syncPointTree_.subtree(E);if(!_t.isEmpty()){const Kt=function Ky(a){return a.fold((r,o,u)=>{if(o&&Vl(o))return[lh(o)];{let p=[];return o&&(p=Gy(o)),jo(u,(E,T)=>{p=p.concat(T)}),p}})}(_t);for(let Mt=0;Mt<Kt.length;++Mt){const nn=Kt[Mt],zn=nn.query,Br=E0(a,nn);a.listenProvider_.startListening(nd(zn),ed(a,zn),Br.hashFn,Br.onComplete)}}}!Pe&&ue.length>0&&!u&&(xe?a.listenProvider_.stopListening(nd(r),null):ue.forEach(_t=>{const Kt=a.queryToTagMap.get(rg(_t));a.listenProvider_.stopListening(nd(_t),Kt)}))}!function ig(a,r){for(let o=0;o<r.length;++o){const u=r[o];if(!u._queryParams.loadsAllData()){const p=rg(u),E=a.queryToTagMap.get(p);a.queryToTagMap.delete(p),a.tagToQueryMap.delete(E)}}}(a,ue)}return V}function af(a,r,o,u){const p=T_(a,u);if(null!=p){const E=Jf(p),T=E.path,V=E.queryId,te=Dl(T,r);return td(a,T,new zf(Xp(V),te,o))}return[]}function w_(a,r,o,u=!1){const p=r._path;let E=null,T=!1;a.syncPointTree_.foreachOnPath(p,(_t,Kt)=>{const Mt=Dl(_t,p);E=E||au(Kt,Mt),T=T||Vl(Kt)});let te,V=a.syncPointTree_.get(p);V?(T=T||Vl(V),E=E||au(V,Cs())):(V=new eg,a.syncPointTree_=a.syncPointTree_.set(p,V)),null!=E?te=!0:(te=!1,E=Ni.EMPTY_NODE,a.syncPointTree_.subtree(p).foreachChild((Kt,Mt)=>{const nn=au(Mt,Cs());nn&&(E=E.updateImmediateChild(Kt,nn))}));const ue=nf(V,r);if(!ue&&!r._queryParams.loadsAllData()){const _t=rg(r);(0,b.hu)(!a.queryToTagMap.has(_t),"View does not exist, but we have a tag");const Kt=function dm(){return Ru++}();a.queryToTagMap.set(_t,Kt),a.tagToQueryMap.set(Kt,_t)}let Pe=function E_(a,r,o,u,p,E){const T=tf(a,r,u,p,E);return a.views.has(r._queryIdentifier)||a.views.set(r._queryIdentifier,T),function g0(a,r){a.eventRegistrations_.push(r)}(T,o),function $y(a,r){const o=a.viewCache_.eventCache,u=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(_o,(E,T)=>{u.push(ri(E,T))}),o.isFullyInitialized()&&u.push(Sy(o.getNode())),TE(a,u,o.getNode(),r)}(T,o)}(V,r,o,rm(a.pendingWriteTree_,p),E,te);if(!ue&&!T&&!u){const _t=Yf(V,r);Pe=Pe.concat(function hm(a,r,o){const u=r._path,p=ed(a,r),E=E0(a,o),T=a.listenProvider_.startListening(nd(r),p,E.hashFn,E.onComplete),V=a.syncPointTree_.subtree(u);if(p)(0,b.hu)(!Vl(V.value),"If we're adding a query, it shouldn't be shadowed");else{const te=V.fold((ue,xe,Pe)=>{if(!Li(ue)&&xe&&Vl(xe))return[lh(xe).query];{let _t=[];return xe&&(_t=_t.concat(Gy(xe).map(Kt=>Kt.query))),jo(Pe,(Kt,Mt)=>{_t=_t.concat(Mt)}),_t}});for(let ue=0;ue<te.length;++ue){const xe=te[ue];a.listenProvider_.stopListening(nd(xe),ed(a,xe))}}return T}(a,r,_t))}return Pe}function zy(a,r,o){const p=a.pendingWriteTree_,E=a.syncPointTree_.findOnPath(r,(T,V)=>{const ue=au(V,Dl(T,r));if(ue)return ue});return m_(p,r,E,o,!0)}function um(a,r){return Wy(r,a.syncPointTree_,null,rm(a.pendingWriteTree_,Cs()))}function Wy(a,r,o,u){if(Li(a.path))return b_(a,r,o,u);{const p=r.get(Cs());null==o&&null!=p&&(o=au(p,Cs()));let E=[];const T=Wi(a.path),V=a.operationForChild(T),te=r.children.get(T);if(te&&V){const ue=o?o.getImmediateChild(T):null,xe=c0(u,T);E=E.concat(Wy(V,te,ue,xe))}return p&&(E=E.concat(Sl(p,a,u,o))),E}}function b_(a,r,o,u){const p=r.get(Cs());null==o&&null!=p&&(o=au(p,Cs()));let E=[];return r.children.inorderTraversal((T,V)=>{const te=o?o.getImmediateChild(T):null,ue=c0(u,T),xe=a.operationForChild(T);xe&&(E=E.concat(b_(xe,V,te,ue)))}),p&&(E=E.concat(Sl(p,a,u,o))),E}function E0(a,r){const o=r.query,u=ed(a,o);return{hashFn:()=>(function By(a){return a.viewCache_.serverCache.getNode()}(r)||Ni.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return u?function rf(a,r,o){const u=T_(a,o);if(u){const p=Jf(u),E=p.path,T=p.queryId,V=Dl(E,r);return td(a,E,new Gf(Xp(T),V))}return[]}(a,o._path,u):function y0(a,r){return um(a,new Gf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(a,o._path);{const E=function qv(a,r){let o="Unknown Error";"too_big"===a?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?o="Client doesn't have permission to access the desired data.":"unavailable"===a&&(o="The service is unavailable");const u=new Error(a+" at "+r._path.toString()+": "+o);return u.code=a.toUpperCase(),u}(p,o);return sf(a,o,null,E)}}}}function ed(a,r){const o=rg(r);return a.queryToTagMap.get(o)}function rg(a){return a._path.toString()+"$"+a._queryIdentifier}function T_(a,r){return a.tagToQueryMap.get(r)}function Jf(a){const r=a.indexOf("$");return(0,b.hu)(-1!==r&&r<a.length-1,"Bad queryKey."),{queryId:a.substr(r+1),path:new ys(a.substr(0,r))}}function td(a,r,o){const u=a.syncPointTree_.get(r);return(0,b.hu)(u,"Missing sync point for query tag that we're tracking"),Sl(u,o,rm(a.pendingWriteTree_,r),null)}function nd(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(function tg(){return(0,b.hu)(Al,"Reference.ts has not been loaded"),Al}())(a._repo,a._path):a}class qy{constructor(r){this.node_=r}getImmediateChild(r){const o=this.node_.getImmediateChild(r);return new qy(o)}node(){return this.node_}}class Sd{constructor(r,o){this.syncTree_=r,this.path_=o}getImmediateChild(r){const o=Ho(this.path_,r);return new Sd(this.syncTree_,o)}node(){return zy(this.syncTree_,this.path_)}}const I0=function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a},C_=function(a,r,o){return a&&"object"==typeof a?((0,b.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?sg(a[".sv"],r,o):"object"==typeof a[".sv"]?lf(a[".sv"],r):void(0,b.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},sg=function(a,r,o){if("timestamp"===a)return o.timestamp;(0,b.hu)(!1,"Unexpected server value: "+a)},lf=function(a,r,o){a.hasOwnProperty("increment")||(0,b.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const u=a.increment;"number"!=typeof u&&(0,b.hu)(!1,"Unexpected increment value: "+u);const p=r.node();if((0,b.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return u;const T=p.getValue();return"number"!=typeof T?u:T+u},cf=function(a,r,o,u){return rd(r,new Sd(o,a),u)},fm=function(a,r,o){return rd(a,new qy(r),o)};function rd(a,r,o){const u=a.getPriority().val(),p=C_(u,r.getImmediateChild(".priority"),o);let E;if(a.isLeafNode()){const T=a,V=C_(T.getValue(),r,o);return V!==T.getValue()||p!==T.getPriority().val()?new wd(V,$o(p)):a}{const T=a;return E=T,p!==T.getPriority().val()&&(E=E.updatePriority(new wd(p))),T.forEachChild(_o,(V,te)=>{const ue=rd(te,r.getImmediateChild(V),o);ue!==te&&(E=E.updateImmediateChild(V,ue))}),E}}class SE{constructor(r="",o=null,u={children:{},childCount:0}){this.name=r,this.parent=o,this.node=u}}function Zy(a,r){let o=r instanceof ys?r:new ys(r),u=a,p=Wi(o);for(;null!==p;){const E=(0,b.DV)(u.node.children,p)||{children:{},childCount:0};u=new SE(p,u,E),o=Ks(o),p=Wi(o)}return u}function ch(a){return a.node.value}function og(a,r){a.node.value=r,Xf(a)}function ag(a){return a.node.childCount>0}function D_(a,r){jo(a.node.children,(o,u)=>{r(new SE(o,a,u))})}function lg(a,r,o,u){o&&!u&&r(a),D_(a,p=>{lg(p,r,!0,u)}),o&&u&&r(a)}function pm(a){return new ys(null===a.parent?a.name:pm(a.parent)+"/"+a.name)}function Xf(a){null!==a.parent&&function AE(a,r,o){const u=function w0(a){return void 0===ch(a)&&!ag(a)}(o),p=(0,b.r3)(a.node.children,r);u&&p?(delete a.node.children[r],a.node.childCount--,Xf(a)):!u&&!p&&(a.node.children[r]=o.node,a.node.childCount++,Xf(a))}(a.parent,a.name,a)}const RE=/[\[\].#$\/\u0000-\u001F\u007F]/,T0=/[\[\].#$\u0000-\u001F\u007F]/,cg=10485760,ep=function(a){return"string"==typeof a&&0!==a.length&&!RE.test(a)},ug=function(a){return"string"==typeof a&&0!==a.length&&!T0.test(a)},uh=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!Mp(a)||a&&"object"==typeof a&&(0,b.r3)(a,".sv")},yc=function(a,r,o,u){u&&void 0===r||Ad((0,b.gK)(a,"value"),r,o)},Ad=function(a,r,o){const u=o instanceof ys?new iI(o,a):o;if(void 0===r)throw new Error(a+"contains undefined "+Gh(u));if("function"==typeof r)throw new Error(a+"contains a function "+Gh(u)+" with contents = "+r.toString());if(Mp(r))throw new Error(a+"contains "+r.toString()+" "+Gh(u));if("string"==typeof r&&r.length>cg/3&&(0,b.ug)(r)>cg)throw new Error(a+"contains a string greater than "+cg+" utf8 bytes "+Gh(u)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let p=!1,E=!1;if(jo(r,(T,V)=>{if(".value"===T)p=!0;else if(".priority"!==T&&".sv"!==T&&(E=!0,!ep(T)))throw new Error(a+" contains an invalid key ("+T+") "+Gh(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yy(a,r){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(r),a.byteLength_+=(0,b.ug)(r),iu(a)})(u,T),Ad(a,V,u),function vy(a){const r=a.parts_.pop();a.byteLength_-=(0,b.ug)(r),a.parts_.length>0&&(a.byteLength_-=1)}(u)}),p&&E)throw new Error(a+' contains ".value" child '+Gh(u)+" in addition to actual children.")}},ME=function(a,r,o,u){if(u&&void 0===r)return;const p=(0,b.gK)(a,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(p+" must be an object containing the children to replace.");const E=[];jo(r,(T,V)=>{const te=new ys(T);if(Ad(p,V,Ho(o,te)),".priority"===Hh(te)&&!uh(V))throw new Error(p+"contains an invalid value for '"+te.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(te)}),function(a,r){let o,u;for(o=0;o<r.length;o++){u=r[o];const E=$h(u);for(let T=0;T<E.length;T++)if((".priority"!==E[T]||T!==E.length-1)&&!ep(E[T]))throw new Error(a+"contains an invalid key ("+E[T]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(nu);let p=null;for(o=0;o<r.length;o++){if(u=r[o],null!==p&&ru(p,u))throw new Error(a+"contains a path "+p.toString()+" that is ancestor of another path "+u.toString());p=u}}(p,E)},S0=function(a,r,o){if(!o||void 0!==r){if(Mp(r))throw new Error((0,b.gK)(a,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uh(r))throw new Error((0,b.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dg=function(a,r,o,u){if(!(u&&void 0===o||ep(o)))throw new Error((0,b.gK)(a,r)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tp=function(a,r,o,u){if(!(u&&void 0===o||ug(o)))throw new Error((0,b.gK)(a,r)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Yy=function(a,r,o,u){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),tp(a,r,o,u)},Qa=function(a,r){if(".info"===Wi(r))throw new Error(a+" failed = Can't modify data under /.info/")},id=function(a,r){const o=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!ep(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==o.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),ug(a)}(o))throw new Error((0,b.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class hg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sd(a,r){let o=null;for(let u=0;u<r.length;u++){const p=r[u],E=p.getPath();null!==o&&!Cu(E,o.path)&&(a.eventLists_.push(o),o=null),null===o&&(o={events:[],path:E}),o.events.push(p)}o&&a.eventLists_.push(o)}function Qy(a,r,o){sd(a,o),Jy(a,u=>Cu(u,r))}function tc(a,r,o){sd(a,o),Jy(a,u=>ru(u,r)||ru(r,u))}function Jy(a,r){a.recursionDepth_++;let o=!0;for(let u=0;u<a.eventLists_.length;u++){const p=a.eventLists_[u];p&&(r(p.path)?(Rd(a.eventLists_[u]),a.eventLists_[u]=null):o=!1)}o&&(a.eventLists_=[]),a.recursionDepth_--}function Rd(a){for(let r=0;r<a.events.length;r++){const o=a.events[r];if(null!==o){a.events[r]=null;const u=o.getEventRunner();qd&&so("event: "+o.toString()),Nh(u)}}}const Xy="repo_interrupt",PE=25;class A0{constructor(r,o,u,p){this.repoInfo_=r,this.forceRestClient_=o,this.authTokenProvider_=u,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jp(),this.transactionQueueTree_=new SE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ev(a){const o=a.infoData_.getNode(new ys(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function np(a){return I0({timestamp:ev(a)})}function tv(a,r,o,u,p){a.dataUpdateCount++;const E=new ys(r);o=a.interceptServerDataCallback_?a.interceptServerDataCallback_(r,o):o;let T=[];if(p)if(u){const te=(0,b.UI)(o,ue=>$o(ue));T=function v0(a,r,o,u){const p=T_(a,u);if(p){const E=Jf(p),T=E.path,V=E.queryId,te=Dl(T,r),ue=Ns.fromObject(o);return td(a,T,new ih(Xp(V),te,ue))}return[]}(a.serverSyncTree_,E,te,p)}else{const te=$o(o);T=af(a.serverSyncTree_,E,te,p)}else if(u){const te=(0,b.UI)(o,ue=>$o(ue));T=function ng(a,r,o){const u=Ns.fromObject(o);return um(a,new ih({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,u))}(a.serverSyncTree_,E,te)}else{const te=$o(o);T=Qf(a.serverSyncTree_,E,te)}let V=E;T.length>0&&(V=Mu(a,E)),tc(a.eventQueue_,V,T)}function nv(a,r){mm(a,"connected",r),!1===r&&function P0(a){uf(a,"onDisconnectEvents");const r=np(a),o=Jp();l_(a.onDisconnect_,Cs(),(p,E)=>{const T=cf(p,E,a.serverSyncTree_,r);Yh(o,p,T)});let u=[];l_(o,Cs(),(p,E)=>{u=u.concat(Qf(a.serverSyncTree_,p,E));const T=S_(a,p);Mu(a,T)}),a.onDisconnect_=Jp(),tc(a.eventQueue_,Cs(),u)}(a)}function mm(a,r,o){const u=new ys("/.info/"+r),p=$o(o);a.infoData_.updateSnapshot(u,p);const E=Qf(a.infoSyncTree_,u,p);tc(a.eventQueue_,u,E)}function rp(a){return a.nextWriteId_++}function gm(a,r,o,u,p){uf(a,"set",{path:r.toString(),value:o,priority:u});const E=np(a),T=$o(o,u),V=zy(a.serverSyncTree_,r),te=fm(T,V,E),ue=rp(a),xe=I_(a.serverSyncTree_,r,te,ue,!0);sd(a.eventQueue_,xe),a.server_.put(r.toString(),T.val(!0),(_t,Kt)=>{const Mt="ok"===_t;Mt||Cl("set at "+r+" failed: "+_t);const nn=Dd(a.serverSyncTree_,ue,!Mt);tc(a.eventQueue_,r,nn),Lc(0,p,_t,Kt)});const Pe=S_(a,r);Mu(a,Pe),tc(a.eventQueue_,Pe,[])}function O0(a,r,o){a.server_.onDisconnectCancel(r.toString(),(u,p)=>{"ok"===u&&Qh(a.onDisconnect_,r),Lc(0,o,u,p)})}function rv(a,r,o,u){const p=$o(o);a.server_.onDisconnectPut(r.toString(),p.val(!0),(E,T)=>{"ok"===E&&Yh(a.onDisconnect_,r,p),Lc(0,u,E,T)})}function dh(a,r,o){let u;u=".info"===Wi(r._path)?sf(a.infoSyncTree_,r,o):sf(a.serverSyncTree_,r,o),Qy(a.eventQueue_,r._path,u)}function xE(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Xy)}function uf(a,...r){let o="";a.persistentConnection_&&(o=a.persistentConnection_.id+":"),so(o,...r)}function Lc(a,r,o,u){r&&Nh(()=>{if("ok"===o)r(null);else{const p=(o||"error").toUpperCase();let E=p;u&&(E+=": "+u);const T=new Error(E);T.code=p,r(T)}})}function k0(a,r,o){return zy(a.serverSyncTree_,r,o)||Ni.EMPTY_NODE}function _m(a,r=a.transactionQueueTree_){if(r||Ra(a,r),ch(r)){const o=ov(a,r);(0,b.hu)(o.length>0,"Sending zero length transaction queue"),o.every(p=>0===p.status)&&function NE(a,r,o){const u=o.map(ue=>ue.currentWriteId),p=k0(a,r,u);let E=p;const T=p.hash();for(let ue=0;ue<o.length;ue++){const xe=o[ue];(0,b.hu)(0===xe.status,"tryToSendTransactionQueue_: items in queue should all be run."),xe.status=1,xe.retryCount++;const Pe=Dl(r,xe.path);E=E.updateChild(Pe,xe.currentOutputSnapshotRaw)}const V=E.val(!0),te=r;a.server_.put(te.toString(),V,ue=>{uf(a,"transaction put response",{path:te.toString(),status:ue});let xe=[];if("ok"===ue){const Pe=[];for(let _t=0;_t<o.length;_t++)o[_t].status=2,xe=xe.concat(Dd(a.serverSyncTree_,o[_t].currentWriteId)),o[_t].onComplete&&Pe.push(()=>o[_t].onComplete(null,!0,o[_t].currentOutputSnapshotResolved)),o[_t].unwatcher();Ra(a,Zy(a.transactionQueueTree_,r)),_m(a,a.transactionQueueTree_),tc(a.eventQueue_,r,xe);for(let _t=0;_t<Pe.length;_t++)Nh(Pe[_t])}else{if("datastale"===ue)for(let Pe=0;Pe<o.length;Pe++)o[Pe].status=3===o[Pe].status?4:0;else{Cl("transaction at "+te.toString()+" failed: "+ue);for(let Pe=0;Pe<o.length;Pe++)o[Pe].status=4,o[Pe].abortReason=ue}Mu(a,r)}},T)}(a,pm(r),o)}else ag(r)&&D_(r,o=>{_m(a,o)})}function Mu(a,r){const o=L0(a,r),u=pm(o);return function kE(a,r,o){if(0===r.length)return;const u=[];let p=[];const T=r.filter(V=>0===V.status).map(V=>V.currentWriteId);for(let V=0;V<r.length;V++){const te=r[V],ue=Dl(o,te.path);let Pe,xe=!1;if((0,b.hu)(null!==ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===te.status)xe=!0,Pe=te.abortReason,p=p.concat(Dd(a.serverSyncTree_,te.currentWriteId,!0));else if(0===te.status)if(te.retryCount>=PE)xe=!0,Pe="maxretry",p=p.concat(Dd(a.serverSyncTree_,te.currentWriteId,!0));else{const _t=k0(a,te.path,T);te.currentInputSnapshot=_t;const Kt=r[V].update(_t.val());if(void 0!==Kt){Ad("transaction failed: Data returned ",Kt,te.path);let Mt=$o(Kt);"object"==typeof Kt&&null!=Kt&&(0,b.r3)(Kt,".priority")||(Mt=Mt.updatePriority(_t.getPriority()));const zn=te.currentWriteId,Br=np(a),pi=fm(Mt,_t,Br);te.currentOutputSnapshotRaw=Mt,te.currentOutputSnapshotResolved=pi,te.currentWriteId=rp(a),T.splice(T.indexOf(zn),1),p=p.concat(I_(a.serverSyncTree_,te.path,pi,te.currentWriteId,te.applyLocally)),p=p.concat(Dd(a.serverSyncTree_,zn,!0))}else xe=!0,Pe="nodata",p=p.concat(Dd(a.serverSyncTree_,te.currentWriteId,!0))}tc(a.eventQueue_,o,p),p=[],xe&&(r[V].status=2,setTimeout(r[V].unwatcher,Math.floor(0)),r[V].onComplete&&u.push("nodata"===Pe?()=>r[V].onComplete(null,!1,r[V].currentInputSnapshot):()=>r[V].onComplete(new Error(Pe),!1,null)))}Ra(a,a.transactionQueueTree_);for(let V=0;V<u.length;V++)Nh(u[V]);_m(a,a.transactionQueueTree_)}(a,ov(a,o),u),u}function L0(a,r){let o,u=a.transactionQueueTree_;for(o=Wi(r);null!==o&&void 0===ch(u);)u=Zy(u,o),o=Wi(r=Ks(r));return u}function ov(a,r){const o=[];return F0(a,r,o),o.sort((u,p)=>u.order-p.order),o}function F0(a,r,o){const u=ch(r);if(u)for(let p=0;p<u.length;p++)o.push(u[p]);D_(r,p=>{F0(a,p,o)})}function Ra(a,r){const o=ch(r);if(o){let u=0;for(let p=0;p<o.length;p++)2!==o[p].status&&(o[u]=o[p],u++);o.length=u,og(r,o.length>0?o:void 0)}D_(r,u=>{Ra(a,u)})}function S_(a,r){const o=pm(L0(a,r)),u=Zy(a.transactionQueueTree_,r);return function b0(a,r,o){let u=o?a:a.parent;for(;null!==u;){if(r(u))return!0;u=u.parent}}(u,p=>{av(a,p)}),av(a,u),lg(u,p=>{av(a,p)}),o}function av(a,r){const o=ch(r);if(o){const u=[];let p=[],E=-1;for(let T=0;T<o.length;T++)3===o[T].status||(1===o[T].status?((0,b.hu)(E===T-1,"All SENT items should be at beginning of queue."),E=T,o[T].status=3,o[T].abortReason="set"):((0,b.hu)(0===o[T].status,"Unexpected transaction status in abort"),o[T].unwatcher(),p=p.concat(Dd(a.serverSyncTree_,o[T].currentWriteId,!0)),o[T].onComplete&&u.push(o[T].onComplete.bind(null,new Error("set"),!1,null))));-1===E?og(r,void 0):o.length=E+1,tc(a.eventQueue_,pm(r),p);for(let T=0;T<u.length;T++)Nh(u[T])}}const A_=function(a,r){const o=U0(a),u=o.namespace;return"firebase.com"===o.domain&&Tl(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==o.domain&&Tl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Vg(o.host,o.secure,u,"ws"===o.scheme||"wss"===o.scheme,r,"",u!==o.subdomain),path:new ys(o.pathString)}},U0=function(a){let r="",o="",u="",p="",E="",T=!0,V="https",te=443;if("string"==typeof a){let ue=a.indexOf("//");ue>=0&&(V=a.substring(0,ue-1),a=a.substring(ue+2));let xe=a.indexOf("/");-1===xe&&(xe=a.length);let Pe=a.indexOf("?");-1===Pe&&(Pe=a.length),r=a.substring(0,Math.min(xe,Pe)),xe<Pe&&(p=function oI(a){let r="";const o=a.split("/");for(let u=0;u<o.length;u++)if(o[u].length>0){let p=o[u];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}r+="/"+p}return r}(a.substring(xe,Pe)));const _t=function LE(a){const r={};"?"===a.charAt(0)&&(a=a.substring(1));for(const o of a.split("&")){if(0===o.length)continue;const u=o.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Cl(`Invalid query segment '${o}' in query '${a}'`)}return r}(a.substring(Math.min(a.length,Pe)));ue=r.indexOf(":"),ue>=0?(T="https"===V||"wss"===V,te=parseInt(r.substring(ue+1),10)):ue=r.length;const Kt=r.slice(0,ue);if("localhost"===Kt.toLowerCase())o="localhost";else if(Kt.split(".").length<=2)o=Kt;else{const Mt=r.indexOf(".");u=r.substring(0,Mt).toLowerCase(),o=r.substring(Mt+1),E=u}"ns"in _t&&(E=_t.ns)}return{host:r,port:te,domain:o,subdomain:u,secure:T,scheme:V,pathString:p,namespace:E}},lv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",df=function(){let a=0;const r=[];return function(o){const u=o===a;let p;a=o;const E=new Array(8);for(p=7;p>=0;p--)E[p]=lv.charAt(o%64),o=Math.floor(o/64);(0,b.hu)(0===o,"Cannot push at time == 0");let T=E.join("");if(u){for(p=11;p>=0&&63===r[p];p--)r[p]=0;r[p]++}else for(p=0;p<12;p++)r[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)T+=lv.charAt(r[p]);return(0,b.hu)(20===T.length,"nextPushId: Length should be 20."),T}}();class cv{constructor(r,o,u,p){this.eventType=r,this.eventRegistration=o,this.snapshot=u,this.prevName=p}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,b.Wl)(this.snapshot.exportVal())}}class uv{constructor(r,o,u){this.eventRegistration=r,this.error=o,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hf{constructor(r,o){this.snapshotCallback=r,this.cancelCallback=o}onValue(r,o){this.snapshotCallback.call(null,r,o)}onCancel(r){return(0,b.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class R_{constructor(r,o){this._repo=r,this._path=o}cancel(){const r=new b.BH;return O0(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Qa("OnDisconnect.remove",this._path);const r=new b.BH;return rv(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Qa("OnDisconnect.set",this._path),yc("OnDisconnect.set",r,this._path,!1);const o=new b.BH;return rv(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}setWithPriority(r,o){Qa("OnDisconnect.setWithPriority",this._path),yc("OnDisconnect.setWithPriority",r,this._path,!1),S0("OnDisconnect.setWithPriority",o,!1);const u=new b.BH;return function x0(a,r,o,u,p){const E=$o(o,u);a.server_.onDisconnectPut(r.toString(),E.val(!0),(T,V)=>{"ok"===T&&Yh(a.onDisconnect_,r,E),Lc(0,p,T,V)})}(this._repo,this._path,r,o,u.wrapCallback(()=>{})),u.promise}update(r){Qa("OnDisconnect.update",this._path),ME("OnDisconnect.update",r,this._path,!1);const o=new b.BH;return function N0(a,r,o,u){if((0,b.xb)(o))return so("onDisconnect().update() called with empty data.  Don't do anything."),void Lc(0,u,"ok",void 0);a.server_.onDisconnectMerge(r.toString(),o,(p,E)=>{"ok"===p&&jo(o,(T,V)=>{const te=$o(V);Yh(a.onDisconnect_,Ho(r,T),te)}),Lc(0,u,p,E)})}(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}}class vc{constructor(r,o,u,p){this._repo=r,this._path=o,this._queryParams=u,this._orderByCalled=p}get key(){return Li(this._path)?null:Hh(this._path)}get ref(){return new Fa(this._repo,this._path)}get _queryIdentifier(){const r=s_(this._queryParams),o=Pg(r);return"{}"===o?"default":o}get _queryObject(){return s_(this._queryParams)}isEqual(r){if(!((r=(0,b.m9)(r))instanceof vc))return!1;const o=this._repo===r._repo,u=Cu(this._path,r._path);return o&&u&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Qg(a){let r="";for(let o=a.pieceNum_;o<a.pieces_.length;o++)""!==a.pieces_[o]&&(r+="/"+encodeURIComponent(String(a.pieces_[o])));return r||"/"}(this._path)}}function dv(a,r){if(!0===a._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function od(a){let r=null,o=null;if(a.hasStart()&&(r=a.getIndexStartValue()),a.hasEnd()&&(o=a.getIndexEndValue()),a.getIndex()===su){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==bu)throw new Error(u);if("string"!=typeof r)throw new Error(p)}if(a.hasEnd()){if(a.getIndexEndName()!==Ph)throw new Error(u);if("string"!=typeof o)throw new Error(p)}}else if(a.getIndex()===_o){if(null!=r&&!uh(r)||null!=o&&!uh(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,b.hu)(a.getIndex()instanceof Hf||a.getIndex()===r_,"unknown index type."),null!=r&&"object"==typeof r||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hh(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fa extends vc{constructor(r,o){super(r,o,new nh,!1)}get parent(){const r=Hp(this._path);return null===r?null:new Fa(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class ff{constructor(r,o,u){this._node=r,this.ref=o,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const o=new ys(r),u=yo(this.ref,r);return new ff(this._node.getChild(o),u,_o)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,p)=>r(new ff(p,yo(this.ref,u),_o)))}hasChild(r){const o=new ys(r);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function M_(a,r){return(a=(0,b.m9)(a))._checkNotDeleted("ref"),void 0!==r?yo(a._root,r):a._root}function Bl(a,r){(a=(0,b.m9)(a))._checkNotDeleted("refFromURL");const o=A_(r,a._repo.repoInfo_.nodeAdmin);id("refFromURL",o);const u=o.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&u.host!==a._repo.repoInfo_.host&&Tl("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+a._repo.repoInfo_.host+")"),M_(a,o.path.toString())}function yo(a,r){return null===Wi((a=(0,b.m9)(a))._path)?Yy("child","path",r,!1):tp("child","path",r,!1),new Fa(a._repo,Ho(a._path,r))}function sp(a,r){a=(0,b.m9)(a),Qa("set",a._path),yc("set",r,a._path,!1);const o=new b.BH;return gm(a._repo,a._path,r,null,o.wrapCallback(()=>{})),o.promise}function FE(a,r){ME("update",r,a._path,!1);const o=new b.BH;return function OE(a,r,o,u){uf(a,"update",{path:r.toString(),value:o});let p=!0;const E=np(a),T={};if(jo(o,(V,te)=>{p=!1,T[V]=cf(Ho(r,V),$o(te),a.serverSyncTree_,E)}),p)so("update() called with empty data.  Don't do anything."),Lc(0,u,"ok",void 0);else{const V=rp(a),te=function _0(a,r,o,u){!function Py(a,r,o,u){(0,b.hu)(u>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:r,children:o,writeId:u,visible:!0}),a.visibleWrites=tm(a.visibleWrites,r,o),a.lastWriteId=u}(a.pendingWriteTree_,r,o,u);const p=Ns.fromObject(o);return um(a,new ih({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,p))}(a.serverSyncTree_,r,T,V);sd(a.eventQueue_,te),a.server_.merge(r.toString(),o,(ue,xe)=>{const Pe="ok"===ue;Pe||Cl("update at "+r+" failed: "+ue);const _t=Dd(a.serverSyncTree_,V,!Pe),Kt=_t.length>0?Mu(a,r):r;tc(a.eventQueue_,Kt,_t),Lc(0,u,ue,xe)}),jo(o,ue=>{const xe=S_(a,Ho(r,ue));Mu(a,xe)}),tc(a.eventQueue_,r,[])}}(a._repo,a._path,r,o.wrapCallback(()=>{})),o.promise}function pg(a){a=(0,b.m9)(a);const r=new hf(()=>{}),o=new Fc(r);return function ip(a,r,o){const u=function DE(a,r){const o=r._path;let u=null;a.syncPointTree_.foreachOnPath(o,(ue,xe)=>{const Pe=Dl(ue,o);u=u||au(xe,Pe)});let p=a.syncPointTree_.get(o);p?u=u||au(p,Cs()):(p=new eg,a.syncPointTree_=a.syncPointTree_.set(o,p));const E=null!=u,T=E?new Jh(u,!0,!1):null;return function v_(a){return Xh(a.viewCache_)}(tf(p,r,rm(a.pendingWriteTree_,r._path),E?T.getNode():Ni.EMPTY_NODE,E))}(a.serverSyncTree_,r);return null!=u?Promise.resolve(u):a.server_.get(r).then(p=>{const E=$o(p).withIndex(r._queryParams.getIndex());let T;if(w_(a.serverSyncTree_,r,o,!0),r._queryParams.loadsAllData())T=Qf(a.serverSyncTree_,r._path,E);else{const V=ed(a.serverSyncTree_,r);T=af(a.serverSyncTree_,r._path,E,V)}return tc(a.eventQueue_,r._path,T),sf(a.serverSyncTree_,r,o,null,!0),E},p=>(uf(a,"get for query "+(0,b.Wl)(r)+" failed: "+p),Promise.reject(new Error(p))))}(a._repo,a,o).then(u=>new ff(u,new Fa(a._repo,a._path),a._queryParams.getIndex()))}class Fc{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,o){const u=o._queryParams.getIndex();return new cv("value",this,new ff(r.snapshotNode,new Fa(o._repo,o._path),u))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new uv(this,r,o):null}matches(r){return r instanceof Fc&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Md{constructor(r,o){this.eventType=r,this.callbackContext=o}respondsTo(r){let o="children_added"===r?"child_added":r;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new uv(this,r,o):null}createEvent(r,o){(0,b.hu)(null!=r.childName,"Child events should have a childName.");const u=yo(new Fa(o._repo,o._path),r.childName),p=o._queryParams.getIndex();return new cv(r.type,this,new ff(r.snapshotNode,u,p),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Md&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pf(a,r,o,u,p){let E;if("object"==typeof u&&(E=void 0,p=u),"function"==typeof u&&(E=u),p&&p.onlyOnce){const te=o,ue=(xe,Pe)=>{dh(a._repo,a,V),te(xe,Pe)};ue.userCallback=o.userCallback,ue.context=o.context,o=ue}const T=new hf(o,E||void 0),V="value"===r?new Fc(T):new Md(r,T);return function iv(a,r,o){let u;u=".info"===Wi(r._path)?w_(a.infoSyncTree_,r,o):w_(a.serverSyncTree_,r,o),Qy(a.eventQueue_,r._path,u)}(a._repo,a,V),()=>dh(a._repo,a,V)}function fh(a,r,o,u){return pf(a,"value",r,o,u)}function V0(a,r,o,u){return pf(a,"child_added",r,o,u)}function pv(a,r,o,u){return pf(a,"child_changed",r,o,u)}function mv(a,r,o,u){return pf(a,"child_moved",r,o,u)}function Pu(a,r,o,u){return pf(a,"child_removed",r,o,u)}function B0(a,r,o){let u=null;const p=o?new hf(o):null;"value"===r?u=new Fc(p):r&&(u=new Md(r,p)),dh(a._repo,a,u)}class Ou{}class gv extends Ou{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){yc("endAt",this._value,r._path,!0);const o=$f(r._queryParams,this._value,this._key);if(hh(o),od(o),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vc(r._repo,r._path,o,r._orderByCalled)}}class UE extends Ou{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){yc("endBefore",this._value,r._path,!1);const o=function t0(a,r,o){let u;return u=$f(a,r,a.index_===su||o?o:bu),u.endBeforeSet_=!0,u}(r._queryParams,this._value,this._key);if(hh(o),od(o),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vc(r._repo,r._path,o,r._orderByCalled)}}class op extends Ou{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){yc("startAt",this._value,r._path,!0);const o=Qp(r._queryParams,this._value,this._key);if(hh(o),od(o),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vc(r._repo,r._path,o,r._orderByCalled)}}class vv extends Ou{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){yc("startAfter",this._value,r._path,!1);const o=function Ay(a,r,o){let u;return u=Qp(a,r,a.index_===su||o?o:Ph),u.startAfterSet_=!0,u}(r._queryParams,this._value,this._key);if(hh(o),od(o),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vc(r._repo,r._path,o,r._orderByCalled)}}class j0 extends Ou{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vc(r._repo,r._path,function Yp(a,r){const o=a.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="l",o}(r._queryParams,this._limit),r._orderByCalled)}}class Iv extends Ou{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vc(r._repo,r._path,function i_(a,r){const o=a.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="r",o}(r._queryParams,this._limit),r._orderByCalled)}}class H0 extends Ou{constructor(r){super(),this._path=r}_apply(r){dv(r,"orderByChild");const o=new ys(this._path);if(Li(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new Hf(o),p=Zh(r._queryParams,u);return od(p),new vc(r._repo,r._path,p,!0)}}class $0 extends Ou{_apply(r){dv(r,"orderByKey");const o=Zh(r._queryParams,su);return od(o),new vc(r._repo,r._path,o,!0)}}class G0 extends Ou{_apply(r){dv(r,"orderByPriority");const o=Zh(r._queryParams,_o);return od(o),new vc(r._repo,r._path,o,!0)}}class W0 extends Ou{_apply(r){dv(r,"orderByValue");const o=Zh(r._queryParams,r_);return od(o),new vc(r._repo,r._path,o,!0)}}class s extends Ou{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){if(yc("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gv(this._value,this._key)._apply(new op(this._value,this._key)._apply(r))}}function t(a,...r){let o=(0,b.m9)(a);for(const u of r)o=u._apply(o);return o}(function CE(a){(0,b.hu)(!ra,"__referenceConstructor has already been defined"),ra=a})(Fa),function kc(a){(0,b.hu)(!Al,"__referenceConstructor has already been defined"),Al=a}(Fa);const h={};function F(a,r,o,u,p){let E=u||a.options.databaseURL;void 0===E&&(a.options.projectId||Tl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),so("Using default host for project ",a.options.projectId),E=`${a.options.projectId}-default-rtdb.firebaseio.com`);let te,ue,T=A_(E,p),V=T.repoInfo;typeof process<"u"&&process.env&&(ue=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ue?(te=!0,E=`http://${ue}?ns=${V.namespace}`,T=A_(E,p),V=T.repoInfo):te=!T.repoInfo.secure;const xe=p&&te?new Sa(Sa.OWNER):new kh(a.name,a.options,r);id("Invalid Firebase Database URL",T),Li(T.path)||Tl("Database URL must point to the root of a Firebase Database (not including a child path).");const Pe=function ce(a,r,o,u){let p=h[r.name];p||(p={},h[r.name]=p);let E=p[a.toURLString()];return E&&Tl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new A0(a,false,o,u),p[a.toURLString()]=E,E}(V,a,xe,new Yv(a.name,o));return new Ze(Pe,a)}class Ze{constructor(r,o){this._repoInternal=r,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function R0(a,r,o){if(a.stats_=Fh(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new o_(a.repoInfo_,(u,p,E,T)=>{tv(a,u,p,E,T)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>nv(a,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,b.Wl)(o)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}a.persistentConnection_=new Jd(a.repoInfo_,r,(u,p,E,T)=>{tv(a,u,p,E,T)},u=>{nv(a,u)},u=>{!function M0(a,r){jo(r,(o,u)=>{mm(a,o,u)})}(a,u)},a.authTokenProvider_,a.appCheckProvider_,o),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(u=>{a.server_.refreshAuthToken(u)}),a.appCheckProvider_.addTokenChangeListener(u=>{a.server_.refreshAppCheckToken(u.token)}),a.statsReporter_=function jg(a,r){const o=a.toString();return xp[o]||(xp[o]=r()),xp[o]}(a.repoInfo_,()=>new yE(a.stats_,a.server_)),a.infoData_=new a_,a.infoSyncTree_=new cm({startListening:(u,p,E,T)=>{let V=[];const te=a.infoData_.getNode(u._path);return te.isEmpty()||(V=Qf(a.infoSyncTree_,u._path,te),setTimeout(()=>{T("ok")},0)),V},stopListening:()=>{}}),mm(a,"connected",!1),a.serverSyncTree_=new cm({startListening:(u,p,E,T)=>(a.server_.listen(u,E,p,(V,te)=>{const ue=T(V,te);tc(a.eventQueue_,u._path,ue)}),[]),stopListening:(u,p)=>{a.server_.unlisten(u,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fa(this._repo,Cs())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function J(a,r){const o=h[r];(!o||o[a.key]!==a)&&Tl(`Database ${r}(${a.repoInfo_}) has already been deleted.`),xE(a),delete o[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&Tl("Cannot call "+r+" on a deleted database.")}}function Ht(){Fp.IS_TRANSPORT_INITIALIZED&&Cl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function rn(){Ht(),Bh.forceDisallow()}function Tn(){Ht(),Id.forceDisallow(),Bh.forceAllow()}function _i(a,r){Ts(a,r)}const vo={".sv":"timestamp"};class ap{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Jd.prototype.simpleListen=function(a,r){this.sendRequest("q",{p:a},r)},Jd.prototype.echo=function(a,r){this.sendRequest("echo",{d:a},r)},function sa(a){Ap(Sp.SDK_VERSION),(0,Sp._registerComponent)(new G.wA("database",(r,{instanceIdentifier:o})=>F(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,Sp.registerVersion)(Pf,"0.14.4",a),(0,Sp.registerVersion)(Pf,"0.14.4","esm2017")}();const aI=new Fe.Yd("@firebase/database-compat"),HE=function(a){aI.warn("FIREBASE WARNING: "+a)};class zI{constructor(r){this._delegate=r}cancel(r){(0,b.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,b.Wj)("OnDisconnect.cancel","onComplete",r,!0);const o=this._delegate.cancel();return r&&o.then(()=>r(null),u=>r(u)),o}remove(r){(0,b.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,b.Wj)("OnDisconnect.remove","onComplete",r,!0);const o=this._delegate.remove();return r&&o.then(()=>r(null),u=>r(u)),o}set(r,o){(0,b.Dv)("OnDisconnect.set",1,2,arguments.length),(0,b.Wj)("OnDisconnect.set","onComplete",o,!0);const u=this._delegate.set(r);return o&&u.then(()=>o(null),p=>o(p)),u}setWithPriority(r,o,u){(0,b.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,b.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const p=this._delegate.setWithPriority(r,o);return u&&p.then(()=>u(null),E=>u(E)),p}update(r,o){if((0,b.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let E=0;E<r.length;++E)p[""+E]=r[E];r=p,HE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,b.Wj)("OnDisconnect.update","onComplete",o,!0);const u=this._delegate.update(r);return o&&u.then(()=>o(null),p=>o(p)),u}}class WI{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return(0,b.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ym{constructor(r,o){this._database=r,this._delegate=o}val(){return(0,b.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,b.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,b.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,b.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,b.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),tp("DataSnapshot.child","path",r,!1),new ym(this._database,this._delegate.child(r))}hasChild(r){return(0,b.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tp("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,b.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,b.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,b.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(o=>r(new ym(this._database,o)))}hasChildren(){return(0,b.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,b.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,b.Dv)("DataSnapshot.ref",0,0,arguments.length),new ad(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ja{constructor(r,o){this.database=r,this._delegate=o}on(r,o,u,p){var E;(0,b.Dv)("Query.on",2,4,arguments.length),(0,b.Wj)("Query.on","callback",o,!1);const T=Ja.getCancelAndContextArgs_("Query.on",u,p),V=(ue,xe)=>{o.call(T.context,new ym(this.database,ue),xe)};V.userCallback=o,V.context=T.context;const te=null===(E=T.cancel)||void 0===E?void 0:E.bind(T.context);switch(r){case"value":return fh(this._delegate,V,te),o;case"child_added":return V0(this._delegate,V,te),o;case"child_removed":return Pu(this._delegate,V,te),o;case"child_changed":return pv(this._delegate,V,te),o;case"child_moved":return mv(this._delegate,V,te),o;default:throw new Error((0,b.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,o,u){if((0,b.Dv)("Query.off",0,3,arguments.length),function(a,r,o){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,b.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,b.Wj)("Query.off","callback",o,!0),(0,b.lb)("Query.off","context",u,!0),o){const p=()=>{};p.userCallback=o,p.context=u,B0(this._delegate,r,p)}else B0(this._delegate,r)}get(){return pg(this._delegate).then(r=>new ym(this.database,r))}once(r,o,u,p){(0,b.Dv)("Query.once",1,4,arguments.length),(0,b.Wj)("Query.once","callback",o,!0);const E=Ja.getCancelAndContextArgs_("Query.once",u,p),T=new b.BH,V=(ue,xe)=>{const Pe=new ym(this.database,ue);o&&o.call(E.context,Pe,xe),T.resolve(Pe)};V.userCallback=o,V.context=E.context;const te=ue=>{E.cancel&&E.cancel.call(E.context,ue),T.reject(ue)};switch(r){case"value":fh(this._delegate,V,te,{onlyOnce:!0});break;case"child_added":V0(this._delegate,V,te,{onlyOnce:!0});break;case"child_removed":Pu(this._delegate,V,te,{onlyOnce:!0});break;case"child_changed":pv(this._delegate,V,te,{onlyOnce:!0});break;case"child_moved":mv(this._delegate,V,te,{onlyOnce:!0});break;default:throw new Error((0,b.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return T.promise}limitToFirst(r){return(0,b.Dv)("Query.limitToFirst",1,1,arguments.length),new Ja(this.database,t(this._delegate,function Ev(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new j0(a)}(r)))}limitToLast(r){return(0,b.Dv)("Query.limitToLast",1,1,arguments.length),new Ja(this.database,t(this._delegate,function wv(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Iv(a)}(r)))}orderByChild(r){return(0,b.Dv)("Query.orderByChild",1,1,arguments.length),new Ja(this.database,t(this._delegate,function bv(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tp("orderByChild","path",a,!1),new H0(a)}(r)))}orderByKey(){return(0,b.Dv)("Query.orderByKey",0,0,arguments.length),new Ja(this.database,t(this._delegate,function VE(){return new $0}()))}orderByPriority(){return(0,b.Dv)("Query.orderByPriority",0,0,arguments.length),new Ja(this.database,t(this._delegate,function z0(){return new G0}()))}orderByValue(){return(0,b.Dv)("Query.orderByValue",0,0,arguments.length),new Ja(this.database,t(this._delegate,function BE(){return new W0}()))}startAt(r=null,o){return(0,b.Dv)("Query.startAt",0,2,arguments.length),new Ja(this.database,t(this._delegate,function mg(a=null,r){return dg("startAt","key",r,!0),new op(a,r)}(r,o)))}startAfter(r=null,o){return(0,b.Dv)("Query.startAfter",0,2,arguments.length),new Ja(this.database,t(this._delegate,function P_(a,r){return dg("startAfter","key",r,!0),new vv(a,r)}(r,o)))}endAt(r=null,o){return(0,b.Dv)("Query.endAt",0,2,arguments.length),new Ja(this.database,t(this._delegate,function _v(a,r){return dg("endAt","key",r,!0),new gv(a,r)}(r,o)))}endBefore(r=null,o){return(0,b.Dv)("Query.endBefore",0,2,arguments.length),new Ja(this.database,t(this._delegate,function yv(a,r){return dg("endBefore","key",r,!0),new UE(a,r)}(r,o)))}equalTo(r,o){return(0,b.Dv)("Query.equalTo",1,2,arguments.length),new Ja(this.database,t(this._delegate,function e(a,r){return dg("equalTo","key",r,!0),new s(a,r)}(r,o)))}toString(){return(0,b.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,b.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,b.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Ja))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,o,u){const p={cancel:void 0,context:void 0};if(o&&u)p.cancel=o,(0,b.Wj)(r,"cancel",p.cancel,!0),p.context=u,(0,b.lb)(r,"context",p.context,!0);else if(o)if("object"==typeof o&&null!==o)p.context=o;else{if("function"!=typeof o)throw new Error((0,b.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=o}return p}get ref(){return new ad(this.database,new Fa(this._delegate._repo,this._delegate._path))}}class ad extends Ja{constructor(r,o){super(r,new vc(o._repo,o._path,new nh,!1)),this.database=r,this._delegate=o}getKey(){return(0,b.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,b.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new ad(this.database,yo(this._delegate,r))}getParent(){(0,b.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new ad(this.database,r):null}getRoot(){return(0,b.Dv)("Reference.root",0,0,arguments.length),new ad(this.database,this._delegate.root)}set(r,o){(0,b.Dv)("Reference.set",1,2,arguments.length),(0,b.Wj)("Reference.set","onComplete",o,!0);const u=sp(this._delegate,r);return o&&u.then(()=>o(null),p=>o(p)),u}update(r,o){if((0,b.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let E=0;E<r.length;++E)p[""+E]=r[E];r=p,HE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qa("Reference.update",this._delegate._path),(0,b.Wj)("Reference.update","onComplete",o,!0);const u=FE(this._delegate,r);return o&&u.then(()=>o(null),p=>o(p)),u}setWithPriority(r,o,u){(0,b.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,b.Wj)("Reference.setWithPriority","onComplete",u,!0);const p=function Ec(a,r,o){if(Qa("setWithPriority",a._path),yc("setWithPriority",r,a._path,!1),S0("setWithPriority",o,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const u=new b.BH;return gm(a._repo,a._path,r,o,u.wrapCallback(()=>{})),u.promise}(this._delegate,r,o);return u&&p.then(()=>u(null),E=>u(E)),p}remove(r){(0,b.Dv)("Reference.remove",0,1,arguments.length),(0,b.Wj)("Reference.remove","onComplete",r,!0);const o=function fv(a){return Qa("remove",a._path),sp(a,null)}(this._delegate);return r&&o.then(()=>r(null),u=>r(u)),o}transaction(r,o,u){(0,b.Dv)("Reference.transaction",1,3,arguments.length),(0,b.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,b.Wj)("Reference.transaction","onComplete",o,!0),function(a,r,o,u){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,b.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const p=function K0(a,r,o){var u;if(a=(0,b.m9)(a),Qa("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const p=null===(u=o?.applyLocally)||void 0===u||u,E=new b.BH,V=fh(a,()=>{});return function sv(a,r,o,u,p,E){uf(a,"transaction on "+r);const T={path:r,update:o,onComplete:u,status:null,order:ny(),applyLocally:E,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},V=k0(a,r,void 0);T.currentInputSnapshot=V;const te=T.update(V.val());if(void 0===te)T.unwatcher(),T.currentOutputSnapshotRaw=null,T.currentOutputSnapshotResolved=null,T.onComplete&&T.onComplete(null,!1,T.currentInputSnapshot);else{Ad("transaction failed: Data returned ",te,T.path),T.status=0;const ue=Zy(a.transactionQueueTree_,r),xe=ch(ue)||[];let Pe;xe.push(T),og(ue,xe),"object"==typeof te&&null!==te&&(0,b.r3)(te,".priority")?(Pe=(0,b.DV)(te,".priority"),(0,b.hu)(uh(Pe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Pe=(zy(a.serverSyncTree_,r)||Ni.EMPTY_NODE).getPriority().val();const _t=np(a),Kt=$o(te,Pe),Mt=fm(Kt,V,_t);T.currentOutputSnapshotRaw=Kt,T.currentOutputSnapshotResolved=Mt,T.currentWriteId=rp(a);const nn=I_(a.serverSyncTree_,r,Mt,T.currentWriteId,T.applyLocally);tc(a.eventQueue_,r,nn),_m(a,a.transactionQueueTree_)}}(a._repo,a._path,r,(te,ue,xe)=>{let Pe=null;te?E.reject(te):(Pe=new ff(xe,new Fa(a._repo,a._path),_o),E.resolve(new ap(ue,Pe)))},V,p),E.promise}(this._delegate,r,{applyLocally:u}).then(E=>new WI(E.committed,new ym(this.database,E.snapshot)));return o&&p.then(E=>o(null,E.committed,E.snapshot),E=>o(E,!1,null)),p}setPriority(r,o){(0,b.Dv)("Reference.setPriority",1,2,arguments.length),(0,b.Wj)("Reference.setPriority","onComplete",o,!0);const u=function fg(a,r){a=(0,b.m9)(a),Qa("setPriority",a._path),S0("setPriority",r,!1);const o=new b.BH;return gm(a._repo,Ho(a._path,".priority"),r,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,r);return o&&u.then(()=>o(null),p=>o(p)),u}push(r,o){(0,b.Dv)("Reference.push",0,2,arguments.length),(0,b.Wj)("Reference.push","onComplete",o,!0);const u=function hv(a,r){a=(0,b.m9)(a),Qa("push",a._path),yc("push",r,a._path,!0);const o=ev(a._repo),u=df(o),p=yo(a,u),E=yo(a,u);let T;return T=null!=r?sp(E,r).then(()=>E):Promise.resolve(E),p.then=T.then.bind(T),p.catch=T.then.bind(T,void 0),p}(this._delegate,r),p=u.then(T=>new ad(this.database,T));o&&p.then(()=>o(null),T=>o(T));const E=new ad(this.database,u);return E.then=p.then.bind(p),E.catch=p.catch.bind(p,void 0),E}onDisconnect(){return Qa("Reference.onDisconnect",this._delegate._path),new zI(new R_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class vm{constructor(r,o){this._delegate=r,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:rn,forceLongPolling:Tn}}useEmulator(r,o,u={}){!function Xn(a,r,o,u={}){(a=(0,b.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&Tl("Cannot call useEmulator() after instance has already been initialized.");const p=a._repoInternal;let E;if(p.repoInfo_.nodeAdmin)u.mockUserToken&&Tl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new Sa(Sa.OWNER);else if(u.mockUserToken){const T="string"==typeof u.mockUserToken?u.mockUserToken:(0,b.Sg)(u.mockUserToken,a.app.options.projectId);E=new Sa(T)}!function w(a,r,o,u){a.repoInfo_=new Vg(`${r}:${o}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0),u&&(a.authTokenProvider_=u)}(p,r,o,E)}(this._delegate,r,o,u)}ref(r){if((0,b.Dv)("database.ref",0,1,arguments.length),r instanceof ad){const o=Bl(this._delegate,r.toString());return new ad(this,o)}{const o=M_(this._delegate,r);return new ad(this,o)}}refFromURL(r){(0,b.Dv)("database.refFromURL",1,1,arguments.length);const u=Bl(this._delegate,r);return new ad(this,u)}goOffline(){return(0,b.Dv)("database.goOffline",0,0,arguments.length),function gi(a){(a=(0,b.m9)(a))._checkNotDeleted("goOffline"),xE(a._repo)}(this._delegate)}goOnline(){return(0,b.Dv)("database.goOnline",0,0,arguments.length),function cs(a){(a=(0,b.m9)(a))._checkNotDeleted("goOnline"),function sI(a){a.persistentConnection_&&a.persistentConnection_.resume(Xy)}(a._repo)}(this._delegate)}}vm.ServerValue={TIMESTAMP:function oo(){return vo}(),increment:a=>function Ma(a){return{".sv":{increment:a}}}(a)};var xu=Object.freeze({__proto__:null,initStandalone:function q0({app:a,url:r,version:o,customAuthImpl:u,namespace:p,nodeAdmin:E=!1}){Ap(o);const T=new G.zt("auth-internal",new G.H0("database-standalone"));return T.setComponent(new G.wA("auth-internal",()=>u,"PRIVATE")),{instance:new vm(F(a,T,void 0,r,E),a),namespace:p}}});const Nw=vm.ServerValue;function $E(a){return null==a}function GE(a){return"function"==typeof a.set}function zE(a,r){return GE(r)?r:a.ref(r)}function WE(a,r){if(function cI(a){return"string"==typeof a}(a))return r.stringCase();if(GE(a))return r.firebaseCase();if(function KI(a){return"function"==typeof a.exportVal}(a))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function Cv(a,r,o="on",u=Kd.z){return new vl.y(p=>{let E=null;return E=a[o](r,(T,V)=>{u.schedule(()=>{p.next({snapshot:T,prevKey:V})}),"once"===o&&u.schedule(()=>p.complete())},T=>{u.schedule(()=>p.error(T))}),"on"===o?{unsubscribe(){null!=E&&a.off(r,E)}}:{unsubscribe(){}}}).pipe((0,Fr.U)(p=>{const{snapshot:E,prevKey:T}=p;let V=null;return E.exists()&&(V=E.key),{type:r,payload:E,prevKey:T,key:V}}),(0,aE.B)())}function uI(a,r){const o=a.length;for(let u=0;u<o;u++)if(a[u].payload.key===r)return u;return-1}function ZI(a,r){const{payload:o,prevKey:u,key:p}=r,E=uI(a,p),T=function Dv(a,r){if($E(r))return 0;{const o=uI(a,r);return-1===o?a.length:o+1}}(a,u);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let V=null;r.payload.forEach(te=>{const ue={payload:te,type:"value",prevKey:V,key:te.key};return V=te.key,a=[...a,ue],!1})}return a;case"child_added":if(E>-1){const V=a[E-1];(V&&V.key||null)!==u&&(a=a.filter(te=>te.payload.key!==o.key)).splice(T,0,r)}else{if(null==u)return[r,...a];(a=a.slice()).splice(T,0,r)}return a;case"child_removed":return a.filter(V=>V.payload.key!==o.key);case"child_changed":return a.map(V=>V.payload.key===p?r:V);case"child_moved":if(E>-1){const V=a.splice(E,1)[0];return(a=a.slice()).splice(T,0,V),a}return a;default:return a}}function dI(a){return($E(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function hI(a,r,o){return function qI(a,r,o){return Cv(a,"value","once",o).pipe((0,El.w)(u=>{const p=[(0,Sc.of)(u)];return r.forEach(E=>p.push(Cv(a,E,"on",o))),(0,tu.T)(...p).pipe((0,lE.R)(ZI,[]))}),(0,X_.x)())}(a,r=dI(r),o)}function Sv(a,r,o){const u=(r=dI(r)).map(p=>Cv(a,p,"on",o));return(0,tu.T)(...u)}function gI(a,r){return function(u,p){return WE(u,{stringCase:()=>a.child(u)[r](p),firebaseCase:()=>u[r](p),snapshotCase:()=>u.ref[r](p)})}}function Av(a){return function(o){return o?WE(o,{stringCase:()=>a.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):a.remove()}}function _I(a,r){return function(){return Cv(a,"value","on",r)}}!function lI(a){a.INTERNAL.registerComponent(new G.wA("database-compat",(r,{instanceIdentifier:o})=>{const u=r.getProvider("app-compat").getImmediate(),p=r.getProvider("database").getImmediate({identifier:o});return new vm(p,u)},"PUBLIC").setServiceProps({Reference:ad,Query:Ja,Database:vm,DataSnapshot:ym,enableLogging:_i,INTERNAL:xu,ServerValue:Nw}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.3.4")}(Dp.Z);const QI=new H.OlP("angularfire2.realtimeDatabaseURL"),yI=new H.OlP("angularfire2.database.use-emulator");let vI=(()=>{class a{constructor(o,u,p,E,T,V,te,ue,xe,Pe,_t,Kt,Mt,nn,zn){this.schedulers=V;const Br=te,pi=(0,Ta.on)(o,T,u);ue&&(0,So.nw)(pi,T,xe,_t,Kt,Mt,Pe,nn),this.database=(0,Ta.cc)(`${pi.name}.database.${p}`,"AngularFireDatabase",pi.name,()=>{const mi=T.runOutsideAngular(()=>pi.database(p||void 0));return Br&&mi.useEmulator(...Br),mi},[Br])}list(o,u){const p=this.schedulers.ngZone.runOutsideAngular(()=>zE(this.database,o));let E=p;return u&&(E=u(p)),function Rv(a,r){const o=r.schedulers.outsideAngular,u=r.schedulers.ngZone.run(()=>a.ref);return{query:a,update:gI(u,"update"),set:gI(u,"set"),push:p=>u.push(p),remove:Av(u),snapshotChanges:p=>hI(a,p,o).pipe(Ca.iC),stateChanges:p=>Sv(a,p,o).pipe(Ca.iC),auditTrail:p=>function fI(a,r,o){return function mI(a,r,o){return function pI(a,r){return Cv(a,"value","on",r).pipe((0,Fr.U)(o=>{let u;return o.payload.forEach(p=>(u=p.key,!1)),{data:o,lastKeyToLoad:u}}))}(a,o).pipe((0,cE.M)(r),(0,Fr.U)(([p,E])=>{const T=p.lastKeyToLoad,V=E.map(te=>te.key);return{actions:E,lastKeyToLoad:T,loadedKeys:V}}),function zv(a){return(0,Rg.e)((r,o)=>{let u=!1,p=0;r.subscribe((0,ey.x)(o,E=>(u||(u=!a(E,p++)))&&o.next(E)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,Fr.U)(p=>p.actions))}(a,Sv(a,r).pipe((0,lE.R)((p,E)=>[...p,E],[])),o)}(a,p,o).pipe(Ca.iC),valueChanges:(p,E)=>hI(a,p,o).pipe((0,Fr.U)(V=>V.map(te=>E&&E.idField?Object.assign(Object.assign({},te.payload.val()),{[E.idField]:te.key}):te.payload.val())),Ca.iC)}}(E,this)}object(o){return function YI(a,r){return{query:a,snapshotChanges:()=>_I(a,r.schedulers.outsideAngular)().pipe(Ca.iC),update:o=>a.ref.update(o),set:o=>a.ref.set(o),remove:()=>a.ref.remove(),valueChanges:()=>_I(a,r.schedulers.outsideAngular)().pipe(Ca.iC,(0,Fr.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zE(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(o){return new(o||a)(H.LFG(Ta.Dh),H.LFG(Ta.xv,8),H.LFG(QI,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(Ca.HU),H.LFG(yI,8),H.LFG(So.zQ,8),H.LFG(So.Qv,8),H.LFG(So.L6,8),H.LFG(So._Q,8),H.LFG(So.rT,8),H.LFG(So.lh,8),H.LFG(So.f7,8),H.LFG(Sg.nm,8))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),EI=(()=>{class a{constructor(){Y_.Z.registerVersion("angularfire",Ca.q4.full,"rtdb-compat")}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({providers:[vI]}),a})();var II=k(4911),wI=k(8504),bI=k(2438),JI=k(5211),TI=k(8645),kw=k(2420);const gg=new vl.y(kw.Z);var _g=k(2181),Z0=k(3168),CI=k(4674),XI=k(4829);const Mv={connector:()=>new TI.x};function SI(a,r=Mv){const{connector:o}=r;return(0,Rg.e)((u,p)=>{const E=o();(0,XI.Xf)(a(function DI(a){return new vl.y(r=>a.subscribe(r))}(E))).subscribe(p),p.add(u.subscribe(E))})}var x_=k(8180),Lw=k(5177);const Pv="Service workers are disabled or not supported by this browser";class Y0{constructor(r){if(this.serviceWorker=r,r){const u=(0,bI.R)(r,"controllerchange").pipe((0,Fr.U)(()=>r.controller)),p=(0,II.P)(()=>(0,Sc.of)(r.controller)),E=(0,JI.z)(p,u);this.worker=E.pipe((0,_g.h)(xe=>!!xe)),this.registration=this.worker.pipe((0,El.w)(()=>r.getRegistration()));const ue=(0,bI.R)(r,"message").pipe((0,Fr.U)(xe=>xe.data)).pipe((0,_g.h)(xe=>xe&&xe.type)).pipe(function tw(a){return a?r=>SI(a)(r):r=>function ew(a,r){const o=(0,CI.m)(a)?a:()=>a;return(0,CI.m)(r)?SI(r,{connector:o}):u=>new Z0.c(u,o)}(new TI.x)(r)}());ue.connect(),this.events=ue}else this.worker=this.events=this.registration=function AI(a){return(0,II.P)(()=>(0,wI._)(new Error(a)))}(Pv)}postMessage(r,o){return this.worker.pipe((0,x_.q)(1),(0,Is.b)(u=>{u.postMessage({action:r,...o})})).toPromise().then(()=>{})}postMessageWithOperation(r,o,u){const p=this.waitForOperationCompleted(u),E=this.postMessage(r,o);return Promise.all([E,p]).then(([,T])=>T)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(r){let o;return o="string"==typeof r?u=>u.type===r:u=>r.includes(u.type),this.events.pipe((0,_g.h)(o))}nextEventOfType(r){return this.eventsOfType(r).pipe((0,x_.q)(1))}waitForOperationCompleted(r){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,_g.h)(o=>o.nonce===r),(0,x_.q)(1),(0,Fr.U)(o=>{if(void 0!==o.result)return o.result;throw new Error(o.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let RI=(()=>{var a;class r{get isEnabled(){return this.sw.isEnabled}constructor(u){if(this.sw=u,this.pushManager=null,this.subscriptionChanges=new TI.x,!u.isEnabled)return this.messages=gg,this.notificationClicks=gg,void(this.subscription=gg);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Fr.U)(E=>E.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Fr.U)(E=>E.data)),this.pushManager=this.sw.registration.pipe((0,Fr.U)(E=>E.pushManager));const p=this.pushManager.pipe((0,El.w)(E=>E.getSubscription()));this.subscription=(0,tu.T)(p,this.subscriptionChanges)}requestSubscription(u){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Pv));const p={userVisibleOnly:!0};let E=this.decodeBase64(u.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),T=new Uint8Array(new ArrayBuffer(E.length));for(let V=0;V<E.length;V++)T[V]=E.charCodeAt(V);return p.applicationServerKey=T,this.pushManager.pipe((0,El.w)(V=>V.subscribe(p)),(0,x_.q)(1)).toPromise().then(V=>(this.subscriptionChanges.next(V),V))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,x_.q)(1),(0,El.w)(p=>{if(null===p)throw new Error("Not subscribed to push notifications.");return p.unsubscribe().then(E=>{if(!E)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Pv))}decodeBase64(u){return atob(u)}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(Y0))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac}),r})(),N_=(()=>{var a;class r{get isEnabled(){return this.sw.isEnabled}constructor(u){if(this.sw=u,!u.isEnabled)return this.versionUpdates=gg,this.available=gg,this.activated=gg,void(this.unrecoverable=gg);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,_g.h)(p=>"VERSION_READY"===p.type),(0,Fr.U)(p=>({type:"UPDATE_AVAILABLE",current:p.currentVersion,available:p.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pv));const u=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:u},u)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pv));const u=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:u},u)}}return(a=r).\u0275fac=function(u){return new(u||a)(H.LFG(Y0))},a.\u0275prov=H.Yz7({token:a,factory:a.\u0275fac}),r})();const MI=new H.OlP("NGSW_REGISTER_SCRIPT");function PI(a,r,o,u){return()=>{if(!(0,is.NF)(u)||!("serviceWorker"in navigator)||!1===o.enabled)return;let p;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof o.registrationStrategy)p=o.registrationStrategy();else{const[T,...V]=(o.registrationStrategy||"registerWhenStable:30000").split(":");switch(T){case"registerImmediately":p=(0,Sc.of)(null);break;case"registerWithDelay":p=OI(+V[0]||0);break;case"registerWhenStable":p=V[0]?(0,tu.T)(KE(a),OI(+V[0])):KE(a);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}a.get(H.R0b).runOutsideAngular(()=>p.pipe((0,x_.q)(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:o.scope}).catch(T=>console.error("Service worker registration failed with:",T))))}}function OI(a){return(0,Sc.of)(null).pipe((0,Lw.g)(a))}function KE(a){return a.get(H.z2F).isStable.pipe((0,_g.h)(o=>o))}function nw(a,r){return new Y0((0,is.NF)(r)&&!1!==a.enabled?navigator.serviceWorker:void 0)}class Q0{}function rw(a,r={}){return(0,H.MR2)([RI,N_,{provide:MI,useValue:a},{provide:Q0,useValue:r},{provide:Y0,useFactory:nw,deps:[Q0,H.Lbi]},{provide:H.ip1,useFactory:PI,deps:[H.zs3,MI,Q0,H.Lbi],multi:!0}])}let qE=(()=>{var a;class r{static register(u,p={}){return{ngModule:r,providers:[rw(u,p)]}}}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275mod=H.oAB({type:a}),a.\u0275inj=H.cJS({providers:[RI,N_]}),r})(),iw=(()=>{var a;class r{}return(a=r).\u0275fac=function(u){return new(u||a)},a.\u0275mod=H.oAB({type:a,bootstrap:[bo]}),a.\u0275inj=H.cJS({providers:[Yo.b,js.g,es._W],imports:[ll,z.b2,Vr,$i,Zo.JF,fi.uH,wi.u5,cl.Ps,es.Rh.forRoot({timeOut:1e4,positionClass:"toast-top-center"}),Ta.hO.initializeApp(Ce.N.firebaseConfig),So.ww,Ag.yb,rI,EI,qE.register("ngsw-worker.js",{enabled:!(0,H.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]}),r})();z.q6().bootstrapModule(iw).catch(a=>console.error(a))},5619:(un,it,k)=>{k.d(it,{X:()=>z});var g=k(8645);class z extends g.x{constructor(Ae){super(),this._value=Ae}get value(){return this.getValue()}_subscribe(Ae){const Ce=super._subscribe(Ae);return!Ce.closed&&Ae.next(this._value),Ce}getValue(){const{hasError:Ae,thrownError:Ce,_value:De}=this;if(Ae)throw Ce;return this._throwIfClosed(),De}next(Ae){super.next(this._value=Ae)}}},5592:(un,it,k)=>{k.d(it,{y:()=>ke});var g=k(305),z=k(7394),H=k(4850),Ae=k(8407),Ce=k(2653),De=k(4674),Ue=k(1441);let ke=(()=>{class Be{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const wt=new Be;return wt.source=this,wt.operator=ct,wt}subscribe(ct,wt,ft){const Ut=function Se(Be){return Be&&Be instanceof g.Lv||function ye(Be){return Be&&(0,De.m)(Be.next)&&(0,De.m)(Be.error)&&(0,De.m)(Be.complete)}(Be)&&(0,z.Nn)(Be)}(ct)?ct:new g.Hp(ct,wt,ft);return(0,Ue.x)(()=>{const{operator:Ft,source:Ye}=this;Ut.add(Ft?Ft.call(Ut,Ye):Ye?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(ct){try{return this._subscribe(ct)}catch(wt){ct.error(wt)}}forEach(ct,wt){return new(wt=Oe(wt))((ft,Ut)=>{const Ft=new g.Hp({next:Ye=>{try{ct(Ye)}catch(Qt){Ut(Qt),Ft.unsubscribe()}},error:Ut,complete:ft});this.subscribe(Ft)})}_subscribe(ct){var wt;return null===(wt=this.source)||void 0===wt?void 0:wt.subscribe(ct)}[H.L](){return this}pipe(...ct){return(0,Ae.U)(ct)(this)}toPromise(ct){return new(ct=Oe(ct))((wt,ft)=>{let Ut;this.subscribe(Ft=>Ut=Ft,Ft=>ft(Ft),()=>wt(Ut))})}}return Be.create=ut=>new Be(ut),Be})();function Oe(Be){var ut;return null!==(ut=Be??Ce.config.Promise)&&void 0!==ut?ut:Promise}},8645:(un,it,k)=>{k.d(it,{x:()=>Ue});var g=k(5592),z=k(7394);const Ae=(0,k(2306).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=k(9039),De=k(1441);let Ue=(()=>{class Oe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Se){const Be=new ke(this,this);return Be.operator=Se,Be}_throwIfClosed(){if(this.closed)throw new Ae}next(Se){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(Se)}})}error(Se){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Se;const{observers:Be}=this;for(;Be.length;)Be.shift().error(Se)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Se}=this;for(;Se.length;)Se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Se;return(null===(Se=this.observers)||void 0===Se?void 0:Se.length)>0}_trySubscribe(Se){return this._throwIfClosed(),super._trySubscribe(Se)}_subscribe(Se){return this._throwIfClosed(),this._checkFinalizedStatuses(Se),this._innerSubscribe(Se)}_innerSubscribe(Se){const{hasError:Be,isStopped:ut,observers:ct}=this;return Be||ut?z.Lc:(this.currentObservers=null,ct.push(Se),new z.w0(()=>{this.currentObservers=null,(0,Ce.P)(ct,Se)}))}_checkFinalizedStatuses(Se){const{hasError:Be,thrownError:ut,isStopped:ct}=this;Be?Se.error(ut):ct&&Se.complete()}asObservable(){const Se=new g.y;return Se.source=this,Se}}return Oe.create=(ye,Se)=>new ke(ye,Se),Oe})();class ke extends Ue{constructor(ye,Se){super(),this.destination=ye,this.source=Se}next(ye){var Se,Be;null===(Be=null===(Se=this.destination)||void 0===Se?void 0:Se.next)||void 0===Be||Be.call(Se,ye)}error(ye){var Se,Be;null===(Be=null===(Se=this.destination)||void 0===Se?void 0:Se.error)||void 0===Be||Be.call(Se,ye)}complete(){var ye,Se;null===(Se=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===Se||Se.call(ye)}_subscribe(ye){var Se,Be;return null!==(Be=null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(ye))&&void 0!==Be?Be:z.Lc}}},305:(un,it,k)=>{k.d(it,{Hp:()=>ft,Lv:()=>Be});var g=k(4674),z=k(7394),H=k(2653),Ae=k(3894),Ce=k(2420);const De=Oe("C",void 0,void 0);function Oe(Le,Qe,He){return{kind:Le,value:Qe,error:He}}var ye=k(7599),Se=k(1441);class Be extends z.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,z.Nn)(Qe)&&Qe.add(this)):this.destination=Qt}static create(Qe,He,vt){return new ft(Qe,He,vt)}next(Qe){this.isStopped?Ye(function ke(Le){return Oe("N",Le,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?Ye(function Ue(Le){return Oe("E",void 0,Le)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?Ye(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function ct(Le,Qe){return ut.call(Le,Qe)}class wt{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:He}=this;if(He.next)try{He.next(Qe)}catch(vt){Ut(vt)}}error(Qe){const{partialObserver:He}=this;if(He.error)try{He.error(Qe)}catch(vt){Ut(vt)}else Ut(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(He){Ut(He)}}}class ft extends Be{constructor(Qe,He,vt){let Pt;if(super(),(0,g.m)(Qe)||!Qe)Pt={next:Qe??void 0,error:He??void 0,complete:vt??void 0};else{let Ge;this&&H.config.useDeprecatedNextContext?(Ge=Object.create(Qe),Ge.unsubscribe=()=>this.unsubscribe(),Pt={next:Qe.next&&ct(Qe.next,Ge),error:Qe.error&&ct(Qe.error,Ge),complete:Qe.complete&&ct(Qe.complete,Ge)}):Pt=Qe}this.destination=new wt(Pt)}}function Ut(Le){H.config.useDeprecatedSynchronousErrorHandling?(0,Se.O)(Le):(0,Ae.h)(Le)}function Ye(Le,Qe){const{onStoppedNotification:He}=H.config;He&&ye.z.setTimeout(()=>He(Le,Qe))}const Qt={closed:!0,next:Ce.Z,error:function Ft(Le){throw Le},complete:Ce.Z}},7394:(un,it,k)=>{k.d(it,{Lc:()=>De,w0:()=>Ce,Nn:()=>Ue});var g=k(4674);const H=(0,k(2306).d)(Oe=>function(Se){Oe(this),this.message=Se?`${Se.length} errors occurred during unsubscription:\n${Se.map((Be,ut)=>`${ut+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Se});var Ae=k(9039);class Ce{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:Se}=this;if(Se)if(this._parentage=null,Array.isArray(Se))for(const ct of Se)ct.remove(this);else Se.remove(this);const{initialTeardown:Be}=this;if((0,g.m)(Be))try{Be()}catch(ct){ye=ct instanceof H?ct.errors:[ct]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const ct of ut)try{ke(ct)}catch(wt){ye=ye??[],wt instanceof H?ye=[...ye,...wt.errors]:ye.push(wt)}}if(ye)throw new H(ye)}}add(ye){var Se;if(ye&&ye!==this)if(this.closed)ke(ye);else{if(ye instanceof Ce){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(Se=this._finalizers)&&void 0!==Se?Se:[]).push(ye)}}_hasParent(ye){const{_parentage:Se}=this;return Se===ye||Array.isArray(Se)&&Se.includes(ye)}_addParent(ye){const{_parentage:Se}=this;this._parentage=Array.isArray(Se)?(Se.push(ye),Se):Se?[Se,ye]:ye}_removeParent(ye){const{_parentage:Se}=this;Se===ye?this._parentage=null:Array.isArray(Se)&&(0,Ae.P)(Se,ye)}remove(ye){const{_finalizers:Se}=this;Se&&(0,Ae.P)(Se,ye),ye instanceof Ce&&ye._removeParent(this)}}Ce.EMPTY=(()=>{const Oe=new Ce;return Oe.closed=!0,Oe})();const De=Ce.EMPTY;function Ue(Oe){return Oe instanceof Ce||Oe&&"closed"in Oe&&(0,g.m)(Oe.remove)&&(0,g.m)(Oe.add)&&(0,g.m)(Oe.unsubscribe)}function ke(Oe){(0,g.m)(Oe)?Oe():Oe.unsubscribe()}},2653:(un,it,k)=>{k.d(it,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(un,it,k)=>{k.d(it,{c:()=>De});var g=k(5592),z=k(7394),H=k(6196),Ae=k(8251),Ce=k(9360);class De extends g.y{constructor(ke,Oe){super(),this.source=ke,this.subjectFactory=Oe,this._subject=null,this._refCount=0,this._connection=null,(0,Ce.A)(ke)&&(this.lift=ke.lift)}_subscribe(ke){return this.getSubject().subscribe(ke)}getSubject(){const ke=this._subject;return(!ke||ke.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ke}=this;this._subject=this._connection=null,ke?.unsubscribe()}connect(){let ke=this._connection;if(!ke){ke=this._connection=new z.w0;const Oe=this.getSubject();ke.add(this.source.subscribe((0,Ae.x)(Oe,void 0,()=>{this._teardown(),Oe.complete()},ye=>{this._teardown(),Oe.error(ye)},()=>this._teardown()))),ke.closed&&(this._connection=null,ke=z.w0.EMPTY)}return ke}refCount(){return(0,H.x)()(this)}}},2572:(un,it,k)=>{k.d(it,{a:()=>ye});var g=k(5592),z=k(7453),H=k(2459),Ae=k(2737),Ce=k(7400),De=k(9940),Ue=k(2714),ke=k(8251),Oe=k(7103);function ye(...ut){const ct=(0,De.yG)(ut),wt=(0,De.jO)(ut),{args:ft,keys:Ut}=(0,z.D)(ut);if(0===ft.length)return(0,H.D)([],ct);const Ft=new g.y(function Se(ut,ct,wt=Ae.y){return ft=>{Be(ct,()=>{const{length:Ut}=ut,Ft=new Array(Ut);let Ye=Ut,Qt=Ut;for(let Le=0;Le<Ut;Le++)Be(ct,()=>{const Qe=(0,H.D)(ut[Le],ct);let He=!1;Qe.subscribe((0,ke.x)(ft,vt=>{Ft[Le]=vt,He||(He=!0,Qt--),Qt||ft.next(wt(Ft.slice()))},()=>{--Ye||ft.complete()}))},ft)},ft)}}(ft,ct,Ut?Ye=>(0,Ue.n)(Ut,Ye):Ae.y));return wt?Ft.pipe((0,Ce.Z)(wt)):Ft}function Be(ut,ct,wt){ut?(0,Oe.f)(wt,ut,ct):ct()}},5211:(un,it,k)=>{k.d(it,{z:()=>Ce});var g=k(7537),H=k(9940),Ae=k(2459);function Ce(...De){return function z(){return(0,g.J)(1)}()((0,Ae.D)(De,(0,H.yG)(De)))}},4911:(un,it,k)=>{k.d(it,{P:()=>H});var g=k(5592),z=k(4829);function H(Ae){return new g.y(Ce=>{(0,z.Xf)(Ae()).subscribe(Ce)})}},6232:(un,it,k)=>{k.d(it,{E:()=>z});const z=new(k(5592).y)(Ce=>Ce.complete())},9315:(un,it,k)=>{k.d(it,{D:()=>ke});var g=k(5592),z=k(7453),H=k(4829),Ae=k(9940),Ce=k(8251),De=k(7400),Ue=k(2714);function ke(...Oe){const ye=(0,Ae.jO)(Oe),{args:Se,keys:Be}=(0,z.D)(Oe),ut=new g.y(ct=>{const{length:wt}=Se;if(!wt)return void ct.complete();const ft=new Array(wt);let Ut=wt,Ft=wt;for(let Ye=0;Ye<wt;Ye++){let Qt=!1;(0,H.Xf)(Se[Ye]).subscribe((0,Ce.x)(ct,Le=>{Qt||(Qt=!0,Ft--),ft[Ye]=Le},()=>Ut--,void 0,()=>{(!Ut||!Qt)&&(Ft||ct.next(Be?(0,Ue.n)(Be,ft):ft),ct.complete())}))}});return ye?ut.pipe((0,De.Z)(ye)):ut}},2459:(un,it,k)=>{k.d(it,{D:()=>Qe});var g=k(4829),z=k(3093),H=k(5137),De=k(5592),ke=k(4971),Oe=k(4674),ye=k(7103);function Be(He,vt){if(!He)throw new Error("Iterable cannot be null");return new De.y(Pt=>{(0,ye.f)(Pt,vt,()=>{const Ge=He[Symbol.asyncIterator]();(0,ye.f)(Pt,vt,()=>{Ge.next().then(Ke=>{Ke.done?Pt.complete():Pt.next(Ke.value)})},0,!0)})})}var ut=k(8382),ct=k(4026),wt=k(4266),ft=k(3664),Ut=k(5726),Ft=k(9853),Ye=k(541);function Qe(He,vt){return vt?function Le(He,vt){if(null!=He){if((0,ut.c)(He))return function Ae(He,vt){return(0,g.Xf)(He).pipe((0,H.R)(vt),(0,z.Q)(vt))}(He,vt);if((0,wt.z)(He))return function Ue(He,vt){return new De.y(Pt=>{let Ge=0;return vt.schedule(function(){Ge===He.length?Pt.complete():(Pt.next(He[Ge++]),Pt.closed||this.schedule())})})}(He,vt);if((0,ct.t)(He))return function Ce(He,vt){return(0,g.Xf)(He).pipe((0,H.R)(vt),(0,z.Q)(vt))}(He,vt);if((0,Ut.D)(He))return Be(He,vt);if((0,ft.T)(He))return function Se(He,vt){return new De.y(Pt=>{let Ge;return(0,ye.f)(Pt,vt,()=>{Ge=He[ke.h](),(0,ye.f)(Pt,vt,()=>{let Ke,Bt;try{({value:Ke,done:Bt}=Ge.next())}catch(Et){return void Pt.error(Et)}Bt?Pt.complete():Pt.next(Ke)},0,!0)}),()=>(0,Oe.m)(Ge?.return)&&Ge.return()})}(He,vt);if((0,Ye.L)(He))return function Qt(He,vt){return Be((0,Ye.Q)(He),vt)}(He,vt)}throw(0,Ft.z)(He)}(He,vt):(0,g.Xf)(He)}},2438:(un,it,k)=>{k.d(it,{R:()=>ye});var g=k(4829),z=k(5592),H=k(1631),Ae=k(4266),Ce=k(4674),De=k(7400);const Ue=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],Oe=["on","off"];function ye(wt,ft,Ut,Ft){if((0,Ce.m)(Ut)&&(Ft=Ut,Ut=void 0),Ft)return ye(wt,ft,Ut).pipe((0,De.Z)(Ft));const[Ye,Qt]=function ct(wt){return(0,Ce.m)(wt.addEventListener)&&(0,Ce.m)(wt.removeEventListener)}(wt)?ke.map(Le=>Qe=>wt[Le](ft,Qe,Ut)):function Be(wt){return(0,Ce.m)(wt.addListener)&&(0,Ce.m)(wt.removeListener)}(wt)?Ue.map(Se(wt,ft)):function ut(wt){return(0,Ce.m)(wt.on)&&(0,Ce.m)(wt.off)}(wt)?Oe.map(Se(wt,ft)):[];if(!Ye&&(0,Ae.z)(wt))return(0,H.z)(Le=>ye(Le,ft,Ut))((0,g.Xf)(wt));if(!Ye)throw new TypeError("Invalid event target");return new z.y(Le=>{const Qe=(...He)=>Le.next(1<He.length?He:He[0]);return Ye(Qe),()=>Qt(Qe)})}function Se(wt,ft){return Ut=>Ft=>wt[Ut](ft,Ft)}},4829:(un,it,k)=>{k.d(it,{Xf:()=>ut});var g=k(7582),z=k(4266),H=k(4026),Ae=k(5592),Ce=k(8382),De=k(5726),Ue=k(9853),ke=k(3664),Oe=k(541),ye=k(4674),Se=k(3894),Be=k(4850);function ut(Le){if(Le instanceof Ae.y)return Le;if(null!=Le){if((0,Ce.c)(Le))return function ct(Le){return new Ae.y(Qe=>{const He=Le[Be.L]();if((0,ye.m)(He.subscribe))return He.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,z.z)(Le))return function wt(Le){return new Ae.y(Qe=>{for(let He=0;He<Le.length&&!Qe.closed;He++)Qe.next(Le[He]);Qe.complete()})}(Le);if((0,H.t)(Le))return function ft(Le){return new Ae.y(Qe=>{Le.then(He=>{Qe.closed||(Qe.next(He),Qe.complete())},He=>Qe.error(He)).then(null,Se.h)})}(Le);if((0,De.D)(Le))return Ft(Le);if((0,ke.T)(Le))return function Ut(Le){return new Ae.y(Qe=>{for(const He of Le)if(Qe.next(He),Qe.closed)return;Qe.complete()})}(Le);if((0,Oe.L)(Le))return function Ye(Le){return Ft((0,Oe.Q)(Le))}(Le)}throw(0,Ue.z)(Le)}function Ft(Le){return new Ae.y(Qe=>{(function Qt(Le,Qe){var He,vt,Pt,Ge;return(0,g.mG)(this,void 0,void 0,function*(){try{for(He=(0,g.KL)(Le);!(vt=yield He.next()).done;)if(Qe.next(vt.value),Qe.closed)return}catch(Ke){Pt={error:Ke}}finally{try{vt&&!vt.done&&(Ge=He.return)&&(yield Ge.call(He))}finally{if(Pt)throw Pt.error}}Qe.complete()})})(Le,Qe).catch(He=>Qe.error(He))})}},3019:(un,it,k)=>{k.d(it,{T:()=>De});var g=k(7537),z=k(4829),H=k(6232),Ae=k(9940),Ce=k(2459);function De(...Ue){const ke=(0,Ae.yG)(Ue),Oe=(0,Ae._6)(Ue,1/0),ye=Ue;return ye.length?1===ye.length?(0,z.Xf)(ye[0]):(0,g.J)(Oe)((0,Ce.D)(ye,ke)):H.E}},2096:(un,it,k)=>{k.d(it,{of:()=>H});var g=k(9940),z=k(2459);function H(...Ae){const Ce=(0,g.yG)(Ae);return(0,z.D)(Ae,Ce)}},8504:(un,it,k)=>{k.d(it,{_:()=>H});var g=k(5592),z=k(4674);function H(Ae,Ce){const De=(0,z.m)(Ae)?Ae:()=>Ae,Ue=ke=>ke.error(De());return new g.y(Ce?ke=>Ce.schedule(Ue,0,ke):Ue)}},4825:(un,it,k)=>{k.d(it,{H:()=>Ce});var g=k(5592),z=k(6321),H=k(671);function Ce(De=0,Ue,ke=z.P){let Oe=-1;return null!=Ue&&((0,H.K)(Ue)?ke=Ue:Oe=Ue),new g.y(ye=>{let Se=function Ae(De){return De instanceof Date&&!isNaN(De)}(De)?+De-ke.now():De;Se<0&&(Se=0);let Be=0;return ke.schedule(function(){ye.closed||(ye.next(Be++),0<=Oe?this.schedule(void 0,Oe):ye.complete())},Se)})}},8251:(un,it,k)=>{k.d(it,{x:()=>z});var g=k(305);function z(Ae,Ce,De,Ue,ke){return new H(Ae,Ce,De,Ue,ke)}class H extends g.Lv{constructor(Ce,De,Ue,ke,Oe,ye){super(Ce),this.onFinalize=Oe,this.shouldUnsubscribe=ye,this._next=De?function(Se){try{De(Se)}catch(Be){Ce.error(Be)}}:super._next,this._error=ke?function(Se){try{ke(Se)}catch(Be){Ce.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(Se){Ce.error(Se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},6306:(un,it,k)=>{k.d(it,{K:()=>Ae});var g=k(4829),z=k(8251),H=k(9360);function Ae(Ce){return(0,H.e)((De,Ue)=>{let ye,ke=null,Oe=!1;ke=De.subscribe((0,z.x)(Ue,void 0,void 0,Se=>{ye=(0,g.Xf)(Ce(Se,Ae(Ce)(De))),ke?(ke.unsubscribe(),ke=null,ye.subscribe(Ue)):Oe=!0})),Oe&&(ke.unsubscribe(),ke=null,ye.subscribe(Ue))})}},6328:(un,it,k)=>{k.d(it,{b:()=>H});var g=k(1631),z=k(4674);function H(Ae,Ce){return(0,z.m)(Ce)?(0,g.z)(Ae,Ce,1):(0,g.z)(Ae,1)}},3620:(un,it,k)=>{k.d(it,{b:()=>Ae});var g=k(6321),z=k(9360),H=k(8251);function Ae(Ce,De=g.z){return(0,z.e)((Ue,ke)=>{let Oe=null,ye=null,Se=null;const Be=()=>{if(Oe){Oe.unsubscribe(),Oe=null;const ct=ye;ye=null,ke.next(ct)}};function ut(){const ct=Se+Ce,wt=De.now();if(wt<ct)return Oe=this.schedule(void 0,ct-wt),void ke.add(Oe);Be()}Ue.subscribe((0,H.x)(ke,ct=>{ye=ct,Se=De.now(),Oe||(Oe=De.schedule(ut,Ce),ke.add(Oe))},()=>{Be(),ke.complete()},void 0,()=>{ye=Oe=null}))})}},3572:(un,it,k)=>{k.d(it,{d:()=>H});var g=k(9360),z=k(8251);function H(Ae){return(0,g.e)((Ce,De)=>{let Ue=!1;Ce.subscribe((0,z.x)(De,ke=>{Ue=!0,De.next(ke)},()=>{Ue||De.next(Ae),De.complete()}))})}},5177:(un,it,k)=>{k.d(it,{g:()=>ut});var g=k(6321),z=k(5211),H=k(8180),Ae=k(9360),Ce=k(8251),De=k(2420),ke=k(975),Oe=k(1631),ye=k(4829);function Se(ct,wt){return wt?ft=>(0,z.z)(wt.pipe((0,H.q)(1),function Ue(){return(0,Ae.e)((ct,wt)=>{ct.subscribe((0,Ce.x)(wt,De.Z))})}()),ft.pipe(Se(ct))):(0,Oe.z)((ft,Ut)=>(0,ye.Xf)(ct(ft,Ut)).pipe((0,H.q)(1),(0,ke.h)(ft)))}var Be=k(4825);function ut(ct,wt=g.z){const ft=(0,Be.H)(ct,wt);return Se(()=>ft)}},3997:(un,it,k)=>{k.d(it,{x:()=>Ae});var g=k(2737),z=k(9360),H=k(8251);function Ae(De,Ue=g.y){return De=De??Ce,(0,z.e)((ke,Oe)=>{let ye,Se=!0;ke.subscribe((0,H.x)(Oe,Be=>{const ut=Ue(Be);(Se||!De(ye,ut))&&(Se=!1,ye=ut,Oe.next(Be))}))})}function Ce(De,Ue){return De===Ue}},2181:(un,it,k)=>{k.d(it,{h:()=>H});var g=k(9360),z=k(8251);function H(Ae,Ce){return(0,g.e)((De,Ue)=>{let ke=0;De.subscribe((0,z.x)(Ue,Oe=>Ae.call(Ce,Oe,ke++)&&Ue.next(Oe)))})}},4716:(un,it,k)=>{k.d(it,{x:()=>z});var g=k(9360);function z(H){return(0,g.e)((Ae,Ce)=>{try{Ae.subscribe(Ce)}finally{Ce.add(H)}})}},1374:(un,it,k)=>{k.d(it,{P:()=>Ue});var g=k(6973),z=k(2181),H=k(8180),Ae=k(3572),Ce=k(3026),De=k(2737);function Ue(ke,Oe){const ye=arguments.length>=2;return Se=>Se.pipe(ke?(0,z.h)((Be,ut)=>ke(Be,ut,Se)):De.y,(0,H.q)(1),ye?(0,Ae.d)(Oe):(0,Ce.T)(()=>new g.K))}},7398:(un,it,k)=>{k.d(it,{U:()=>H});var g=k(9360),z=k(8251);function H(Ae,Ce){return(0,g.e)((De,Ue)=>{let ke=0;De.subscribe((0,z.x)(Ue,Oe=>{Ue.next(Ae.call(Ce,Oe,ke++))}))})}},975:(un,it,k)=>{k.d(it,{h:()=>z});var g=k(7398);function z(H){return(0,g.U)(()=>H)}},7537:(un,it,k)=>{k.d(it,{J:()=>H});var g=k(1631),z=k(2737);function H(Ae=1/0){return(0,g.z)(z.y,Ae)}},1631:(un,it,k)=>{k.d(it,{z:()=>ke});var g=k(7398),z=k(4829),H=k(9360),Ae=k(7103),Ce=k(8251),Ue=k(4674);function ke(Oe,ye,Se=1/0){return(0,Ue.m)(ye)?ke((Be,ut)=>(0,g.U)((ct,wt)=>ye(Be,ct,ut,wt))((0,z.Xf)(Oe(Be,ut))),Se):("number"==typeof ye&&(Se=ye),(0,H.e)((Be,ut)=>function De(Oe,ye,Se,Be,ut,ct,wt,ft){const Ut=[];let Ft=0,Ye=0,Qt=!1;const Le=()=>{Qt&&!Ut.length&&!Ft&&ye.complete()},Qe=vt=>Ft<Be?He(vt):Ut.push(vt),He=vt=>{ct&&ye.next(vt),Ft++;let Pt=!1;(0,z.Xf)(Se(vt,Ye++)).subscribe((0,Ce.x)(ye,Ge=>{ut?.(Ge),ct?Qe(Ge):ye.next(Ge)},()=>{Pt=!0},void 0,()=>{if(Pt)try{for(Ft--;Ut.length&&Ft<Be;){const Ge=Ut.shift();wt?(0,Ae.f)(ye,wt,()=>He(Ge)):He(Ge)}Le()}catch(Ge){ye.error(Ge)}}))};return Oe.subscribe((0,Ce.x)(ye,Qe,()=>{Qt=!0,Le()})),()=>{ft?.()}}(Be,ut,Oe,Se)))}},3093:(un,it,k)=>{k.d(it,{Q:()=>Ae});var g=k(7103),z=k(9360),H=k(8251);function Ae(Ce,De=0){return(0,z.e)((Ue,ke)=>{Ue.subscribe((0,H.x)(ke,Oe=>(0,g.f)(ke,Ce,()=>ke.next(Oe),De),()=>(0,g.f)(ke,Ce,()=>ke.complete(),De),Oe=>(0,g.f)(ke,Ce,()=>ke.error(Oe),De)))})}},6196:(un,it,k)=>{k.d(it,{x:()=>H});var g=k(9360),z=k(8251);function H(){return(0,g.e)((Ae,Ce)=>{let De=null;Ae._refCount++;const Ue=(0,z.x)(Ce,void 0,void 0,void 0,()=>{if(!Ae||Ae._refCount<=0||0<--Ae._refCount)return void(De=null);const ke=Ae._connection,Oe=De;De=null,ke&&(!Oe||ke===Oe)&&ke.unsubscribe(),Ce.unsubscribe()});Ae.subscribe(Ue),Ue.closed||(De=Ae.connect())})}},6699:(un,it,k)=>{k.d(it,{R:()=>Ae});var g=k(9360),z=k(8251);function Ae(Ce,De){return(0,g.e)(function H(Ce,De,Ue,ke,Oe){return(ye,Se)=>{let Be=Ue,ut=De,ct=0;ye.subscribe((0,z.x)(Se,wt=>{const ft=ct++;ut=Be?Ce(ut,wt,ft):(Be=!0,wt),ke&&Se.next(ut)},Oe&&(()=>{Be&&Se.next(ut),Se.complete()})))}}(Ce,De,arguments.length>=2,!0))}},3020:(un,it,k)=>{k.d(it,{B:()=>Ce});var g=k(4829),z=k(8645),H=k(305),Ae=k(9360);function Ce(Ue={}){const{connector:ke=(()=>new z.x),resetOnError:Oe=!0,resetOnComplete:ye=!0,resetOnRefCountZero:Se=!0}=Ue;return Be=>{let ut,ct,wt,ft=0,Ut=!1,Ft=!1;const Ye=()=>{ct?.unsubscribe(),ct=void 0},Qt=()=>{Ye(),ut=wt=void 0,Ut=Ft=!1},Le=()=>{const Qe=ut;Qt(),Qe?.unsubscribe()};return(0,Ae.e)((Qe,He)=>{ft++,!Ft&&!Ut&&Ye();const vt=wt=wt??ke();He.add(()=>{ft--,0===ft&&!Ft&&!Ut&&(ct=De(Le,Se))}),vt.subscribe(He),!ut&&ft>0&&(ut=new H.Hp({next:Pt=>vt.next(Pt),error:Pt=>{Ft=!0,Ye(),ct=De(Qt,Oe,Pt),vt.error(Pt)},complete:()=>{Ut=!0,Ye(),ct=De(Qt,ye),vt.complete()}}),(0,g.Xf)(Qe).subscribe(ut))})(Be)}}function De(Ue,ke,...Oe){if(!0===ke)return void Ue();if(!1===ke)return;const ye=new H.Hp({next:()=>{ye.unsubscribe(),Ue()}});return(0,g.Xf)(ke(...Oe)).subscribe(ye)}},940:(un,it,k)=>{k.d(it,{d:()=>Ce});var g=k(8645),z=k(4552);class H extends g.x{constructor(Ue=1/0,ke=1/0,Oe=z.l){super(),this._bufferSize=Ue,this._windowTime=ke,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ke===1/0,this._bufferSize=Math.max(1,Ue),this._windowTime=Math.max(1,ke)}next(Ue){const{isStopped:ke,_buffer:Oe,_infiniteTimeWindow:ye,_timestampProvider:Se,_windowTime:Be}=this;ke||(Oe.push(Ue),!ye&&Oe.push(Se.now()+Be)),this._trimBuffer(),super.next(Ue)}_subscribe(Ue){this._throwIfClosed(),this._trimBuffer();const ke=this._innerSubscribe(Ue),{_infiniteTimeWindow:Oe,_buffer:ye}=this,Se=ye.slice();for(let Be=0;Be<Se.length&&!Ue.closed;Be+=Oe?1:2)Ue.next(Se[Be]);return this._checkFinalizedStatuses(Ue),ke}_trimBuffer(){const{_bufferSize:Ue,_timestampProvider:ke,_buffer:Oe,_infiniteTimeWindow:ye}=this,Se=(ye?1:2)*Ue;if(Ue<1/0&&Se<Oe.length&&Oe.splice(0,Oe.length-Se),!ye){const Be=ke.now();let ut=0;for(let ct=1;ct<Oe.length&&Oe[ct]<=Be;ct+=2)ut=ct;ut&&Oe.splice(0,ut+1)}}}var Ae=k(3020);function Ce(De,Ue,ke){let Oe,ye=!1;return De&&"object"==typeof De?({bufferSize:Oe=1/0,windowTime:Ue=1/0,refCount:ye=!1,scheduler:ke}=De):Oe=De??1/0,(0,Ae.B)({connector:()=>new H(Oe,Ue,ke),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ye})}},836:(un,it,k)=>{k.d(it,{T:()=>z});var g=k(2181);function z(H){return(0,g.h)((Ae,Ce)=>H<=Ce)}},7921:(un,it,k)=>{k.d(it,{O:()=>Ae});var g=k(5211),z=k(9940),H=k(9360);function Ae(...Ce){const De=(0,z.yG)(Ce);return(0,H.e)((Ue,ke)=>{(De?(0,g.z)(Ce,Ue,De):(0,g.z)(Ce,Ue)).subscribe(ke)})}},5137:(un,it,k)=>{k.d(it,{R:()=>z});var g=k(9360);function z(H,Ae=0){return(0,g.e)((Ce,De)=>{De.add(H.schedule(()=>Ce.subscribe(De),Ae))})}},4664:(un,it,k)=>{k.d(it,{w:()=>Ae});var g=k(4829),z=k(9360),H=k(8251);function Ae(Ce,De){return(0,z.e)((Ue,ke)=>{let Oe=null,ye=0,Se=!1;const Be=()=>Se&&!Oe&&ke.complete();Ue.subscribe((0,H.x)(ke,ut=>{Oe?.unsubscribe();let ct=0;const wt=ye++;(0,g.Xf)(Ce(ut,wt)).subscribe(Oe=(0,H.x)(ke,ft=>ke.next(De?De(ut,ft,wt,ct++):ft),()=>{Oe=null,Be()}))},()=>{Se=!0,Be()}))})}},8180:(un,it,k)=>{k.d(it,{q:()=>Ae});var g=k(6232),z=k(9360),H=k(8251);function Ae(Ce){return Ce<=0?()=>g.E:(0,z.e)((De,Ue)=>{let ke=0;De.subscribe((0,H.x)(Ue,Oe=>{++ke<=Ce&&(Ue.next(Oe),Ce<=ke&&Ue.complete())}))})}},9773:(un,it,k)=>{k.d(it,{R:()=>Ce});var g=k(9360),z=k(8251),H=k(4829),Ae=k(2420);function Ce(De){return(0,g.e)((Ue,ke)=>{(0,H.Xf)(De).subscribe((0,z.x)(ke,()=>ke.complete(),Ae.Z)),!ke.closed&&Ue.subscribe(ke)})}},9397:(un,it,k)=>{k.d(it,{b:()=>Ce});var g=k(4674),z=k(9360),H=k(8251),Ae=k(2737);function Ce(De,Ue,ke){const Oe=(0,g.m)(De)||Ue||ke?{next:De,error:Ue,complete:ke}:De;return Oe?(0,z.e)((ye,Se)=>{var Be;null===(Be=Oe.subscribe)||void 0===Be||Be.call(Oe);let ut=!0;ye.subscribe((0,H.x)(Se,ct=>{var wt;null===(wt=Oe.next)||void 0===wt||wt.call(Oe,ct),Se.next(ct)},()=>{var ct;ut=!1,null===(ct=Oe.complete)||void 0===ct||ct.call(Oe),Se.complete()},ct=>{var wt;ut=!1,null===(wt=Oe.error)||void 0===wt||wt.call(Oe,ct),Se.error(ct)},()=>{var ct,wt;ut&&(null===(ct=Oe.unsubscribe)||void 0===ct||ct.call(Oe)),null===(wt=Oe.finalize)||void 0===wt||wt.call(Oe)}))}):Ae.y}},3026:(un,it,k)=>{k.d(it,{T:()=>Ae});var g=k(6973),z=k(9360),H=k(8251);function Ae(De=Ce){return(0,z.e)((Ue,ke)=>{let Oe=!1;Ue.subscribe((0,H.x)(ke,ye=>{Oe=!0,ke.next(ye)},()=>Oe?ke.complete():ke.error(De())))})}function Ce(){return new g.K}},2460:(un,it,k)=>{k.d(it,{M:()=>Ue});var g=k(9360),z=k(8251),H=k(4829),Ae=k(2737),Ce=k(2420),De=k(9940);function Ue(...ke){const Oe=(0,De.jO)(ke);return(0,g.e)((ye,Se)=>{const Be=ke.length,ut=new Array(Be);let ct=ke.map(()=>!1),wt=!1;for(let ft=0;ft<Be;ft++)(0,H.Xf)(ke[ft]).subscribe((0,z.x)(Se,Ut=>{ut[ft]=Ut,!wt&&!ct[ft]&&(ct[ft]=!0,(wt=ct.every(Ae.y))&&(ct=null))},Ce.Z));ye.subscribe((0,z.x)(Se,ft=>{if(wt){const Ut=[ft,...ut];Se.next(Oe?Oe(...Ut):Ut)}}))})}},1954:(un,it,k)=>{k.d(it,{o:()=>Ce});var g=k(7394);class z extends g.w0{constructor(Ue,ke){super()}schedule(Ue,ke=0){return this}}const H={setInterval(De,Ue,...ke){const{delegate:Oe}=H;return Oe?.setInterval?Oe.setInterval(De,Ue,...ke):setInterval(De,Ue,...ke)},clearInterval(De){const{delegate:Ue}=H;return(Ue?.clearInterval||clearInterval)(De)},delegate:void 0};var Ae=k(9039);class Ce extends z{constructor(Ue,ke){super(Ue,ke),this.scheduler=Ue,this.work=ke,this.pending=!1}schedule(Ue,ke=0){var Oe;if(this.closed)return this;this.state=Ue;const ye=this.id,Se=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(Se,ye,ke)),this.pending=!0,this.delay=ke,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(Se,this.id,ke),this}requestAsyncId(Ue,ke,Oe=0){return H.setInterval(Ue.flush.bind(Ue,this),Oe)}recycleAsyncId(Ue,ke,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return ke;null!=ke&&H.clearInterval(ke)}execute(Ue,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(Ue,ke);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,ke){let ye,Oe=!1;try{this.work(Ue)}catch(Se){Oe=!0,ye=Se||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:ke}=this,{actions:Oe}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.P)(Oe,this),null!=Ue&&(this.id=this.recycleAsyncId(ke,Ue,null)),this.delay=null,super.unsubscribe()}}}},2631:(un,it,k)=>{k.d(it,{v:()=>H});var g=k(4552);class z{constructor(Ce,De=z.now){this.schedulerActionCtor=Ce,this.now=De}schedule(Ce,De=0,Ue){return new this.schedulerActionCtor(this,Ce).schedule(Ue,De)}}z.now=g.l.now;class H extends z{constructor(Ce,De=z.now){super(Ce,De),this.actions=[],this._active=!1}flush(Ce){const{actions:De}=this;if(this._active)return void De.push(Ce);let Ue;this._active=!0;do{if(Ue=Ce.execute(Ce.state,Ce.delay))break}while(Ce=De.shift());if(this._active=!1,Ue){for(;Ce=De.shift();)Ce.unsubscribe();throw Ue}}}},6321:(un,it,k)=>{k.d(it,{P:()=>Ae,z:()=>H});var g=k(1954);const H=new(k(2631).v)(g.o),Ae=H},4552:(un,it,k)=>{k.d(it,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(un,it,k)=>{k.d(it,{z:()=>g});const g={setTimeout(z,H,...Ae){const{delegate:Ce}=g;return Ce?.setTimeout?Ce.setTimeout(z,H,...Ae):setTimeout(z,H,...Ae)},clearTimeout(z){const{delegate:H}=g;return(H?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4971:(un,it,k)=>{k.d(it,{h:()=>z});const z=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(un,it,k)=>{k.d(it,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(un,it,k)=>{k.d(it,{K:()=>z});const z=(0,k(2306).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(un,it,k)=>{k.d(it,{_6:()=>De,jO:()=>Ae,yG:()=>Ce});var g=k(4674),z=k(671);function H(Ue){return Ue[Ue.length-1]}function Ae(Ue){return(0,g.m)(H(Ue))?Ue.pop():void 0}function Ce(Ue){return(0,z.K)(H(Ue))?Ue.pop():void 0}function De(Ue,ke){return"number"==typeof H(Ue)?Ue.pop():ke}},7453:(un,it,k)=>{k.d(it,{D:()=>Ce});const{isArray:g}=Array,{getPrototypeOf:z,prototype:H,keys:Ae}=Object;function Ce(Ue){if(1===Ue.length){const ke=Ue[0];if(g(ke))return{args:ke,keys:null};if(function De(Ue){return Ue&&"object"==typeof Ue&&z(Ue)===H}(ke)){const Oe=Ae(ke);return{args:Oe.map(ye=>ke[ye]),keys:Oe}}}return{args:Ue,keys:null}}},9039:(un,it,k)=>{function g(z,H){if(z){const Ae=z.indexOf(H);0<=Ae&&z.splice(Ae,1)}}k.d(it,{P:()=>g})},2306:(un,it,k)=>{function g(z){const Ae=z(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}k.d(it,{d:()=>g})},2714:(un,it,k)=>{function g(z,H){return z.reduce((Ae,Ce,De)=>(Ae[Ce]=H[De],Ae),{})}k.d(it,{n:()=>g})},1441:(un,it,k)=>{k.d(it,{O:()=>Ae,x:()=>H});var g=k(2653);let z=null;function H(Ce){if(g.config.useDeprecatedSynchronousErrorHandling){const De=!z;if(De&&(z={errorThrown:!1,error:null}),Ce(),De){const{errorThrown:Ue,error:ke}=z;if(z=null,Ue)throw ke}}else Ce()}function Ae(Ce){g.config.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=Ce)}},7103:(un,it,k)=>{function g(z,H,Ae,Ce=0,De=!1){const Ue=H.schedule(function(){Ae(),De?z.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(z.add(Ue),!De)return Ue}k.d(it,{f:()=>g})},2737:(un,it,k)=>{function g(z){return z}k.d(it,{y:()=>g})},4266:(un,it,k)=>{k.d(it,{z:()=>g});const g=z=>z&&"number"==typeof z.length&&"function"!=typeof z},5726:(un,it,k)=>{k.d(it,{D:()=>z});var g=k(4674);function z(H){return Symbol.asyncIterator&&(0,g.m)(H?.[Symbol.asyncIterator])}},4674:(un,it,k)=>{function g(z){return"function"==typeof z}k.d(it,{m:()=>g})},8382:(un,it,k)=>{k.d(it,{c:()=>H});var g=k(4850),z=k(4674);function H(Ae){return(0,z.m)(Ae[g.L])}},3664:(un,it,k)=>{k.d(it,{T:()=>H});var g=k(4971),z=k(4674);function H(Ae){return(0,z.m)(Ae?.[g.h])}},4026:(un,it,k)=>{k.d(it,{t:()=>z});var g=k(4674);function z(H){return(0,g.m)(H?.then)}},541:(un,it,k)=>{k.d(it,{L:()=>Ae,Q:()=>H});var g=k(7582),z=k(4674);function H(Ce){return(0,g.FC)(this,arguments,function*(){const Ue=Ce.getReader();try{for(;;){const{value:ke,done:Oe}=yield(0,g.qq)(Ue.read());if(Oe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ke)}}finally{Ue.releaseLock()}})}function Ae(Ce){return(0,z.m)(Ce?.getReader)}},671:(un,it,k)=>{k.d(it,{K:()=>z});var g=k(4674);function z(H){return H&&(0,g.m)(H.schedule)}},9360:(un,it,k)=>{k.d(it,{A:()=>z,e:()=>H});var g=k(4674);function z(Ae){return(0,g.m)(Ae?.lift)}function H(Ae){return Ce=>{if(z(Ce))return Ce.lift(function(De){try{return Ae(De,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(un,it,k)=>{k.d(it,{Z:()=>Ae});var g=k(7398);const{isArray:z}=Array;function Ae(Ce){return(0,g.U)(De=>function H(Ce,De){return z(De)?Ce(...De):Ce(De)}(Ce,De))}},2420:(un,it,k)=>{function g(){}k.d(it,{Z:()=>g})},8407:(un,it,k)=>{k.d(it,{U:()=>H,z:()=>z});var g=k(2737);function z(...Ae){return H(Ae)}function H(Ae){return 0===Ae.length?g.y:1===Ae.length?Ae[0]:function(De){return Ae.reduce((Ue,ke)=>ke(Ue),De)}}},3894:(un,it,k)=>{k.d(it,{h:()=>H});var g=k(2653),z=k(7599);function H(Ae){z.z.setTimeout(()=>{const{onUnhandledError:Ce}=g.config;if(!Ce)throw Ae;Ce(Ae)})}},9853:(un,it,k)=>{function g(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(it,{z:()=>g})},6825:(un,it,k)=>{k.d(it,{IO:()=>wt,LC:()=>z,SB:()=>Oe,X$:()=>Ae,ZE:()=>Ft,ZN:()=>Ut,_j:()=>g,eR:()=>Se,jt:()=>Ce,k1:()=>Ye,l3:()=>H,oB:()=>ke,pV:()=>ut,vP:()=>Ue});class g{}class z{}const H="*";function Ae(Qt,Le){return{type:7,name:Qt,definitions:Le,options:{}}}function Ce(Qt,Le=null){return{type:4,styles:Le,timings:Qt}}function Ue(Qt,Le=null){return{type:2,steps:Qt,options:Le}}function ke(Qt){return{type:6,styles:Qt,offset:null}}function Oe(Qt,Le,Qe){return{type:0,name:Qt,styles:Le,options:Qe}}function Se(Qt,Le,Qe=null){return{type:1,expr:Qt,animation:Le,options:Qe}}function ut(Qt=null){return{type:9,options:Qt}}function wt(Qt,Le,Qe=null){return{type:11,selector:Qt,animation:Le,options:Qe}}class Ut{constructor(Le=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Le+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}onStart(Le){this._originalOnStartFns.push(Le),this._onStartFns.push(Le)}onDone(Le){this._originalOnDoneFns.push(Le),this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Le=>Le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Le){this._position=this.totalTime?Le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Le){const Qe="start"==Le?this._onStartFns:this._onDoneFns;Qe.forEach(He=>He()),Qe.length=0}}class Ft{constructor(Le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Le;let Qe=0,He=0,vt=0;const Pt=this.players.length;0==Pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++Qe==Pt&&this._onFinish()}),Ge.onDestroy(()=>{++He==Pt&&this._onDestroy()}),Ge.onStart(()=>{++vt==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,Ke)=>Math.max(Ge,Ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}init(){this.players.forEach(Le=>Le.init())}onStart(Le){this._onStartFns.push(Le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Le=>Le()),this._onStartFns=[])}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Le=>Le.play())}pause(){this.players.forEach(Le=>Le.pause())}restart(){this.players.forEach(Le=>Le.restart())}finish(){this._onFinish(),this.players.forEach(Le=>Le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Le=>Le.destroy()),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this.players.forEach(Le=>Le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Le){const Qe=Le*this.totalTime;this.players.forEach(He=>{const vt=He.totalTime?Math.min(1,Qe/He.totalTime):1;He.setPosition(vt)})}getPosition(){const Le=this.players.reduce((Qe,He)=>null===Qe||He.totalTime>Qe.totalTime?He:Qe,null);return null!=Le?Le.getPosition():0}beforeDestroy(){this.players.forEach(Le=>{Le.beforeDestroy&&Le.beforeDestroy()})}triggerCallback(Le){const Qe="start"==Le?this._onStartFns:this._onDoneFns;Qe.forEach(He=>He()),Qe.length=0}}const Ye="!"},8413:(un,it,k)=>{k.d(it,{vO:()=>Us,qm:()=>q,X6:()=>Vs,yG:()=>ps});var g=k(6814),z=k(5879),H=k(2831),Eo=k(8180),Wo=k(2495),Xa=k(8645),lo=k(2572),fa=k(5211),Hi=k(5592),Ko=k(836),qo=k(3620),Ji=k(7398),Io=k(7921),hi=k(9773);const Lo=new Set;let Fi,lt=(()=>{var $;class ie{constructor(et,xt){this._platform=et,this._nonce=xt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bt}matchMedia(et){return(this._platform.WEBKIT||this._platform.BLINK)&&function ot($,ie){if(!Lo.has($))try{Fi||(Fi=document.createElement("style"),ie&&(Fi.nonce=ie),Fi.setAttribute("type","text/css"),document.head.appendChild(Fi)),Fi.sheet&&(Fi.sheet.insertRule(`@media ${$} {body{ }}`,0),Lo.add($))}catch(Xe){console.error(Xe)}}(et,this._nonce),this._matchMedia(et)}}return($=ie).\u0275fac=function(et){return new(et||$)(z.LFG(H.t4),z.LFG(z.Ojb,8))},$.\u0275prov=z.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),ie})();function bt($){return{matches:"all"===$||""===$,media:$,addListener:()=>{},removeListener:()=>{}}}let Zt=(()=>{var $;class ie{constructor(et,xt){this._mediaMatcher=et,this._zone=xt,this._queries=new Map,this._destroySubject=new Xa.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(et){return Wt((0,Wo.Eq)(et)).some(bn=>this._registerQuery(bn).mql.matches)}observe(et){const bn=Wt((0,Wo.Eq)(et)).map(oi=>this._registerQuery(oi).observable);let Ir=(0,lo.a)(bn);return Ir=(0,fa.z)(Ir.pipe((0,Eo.q)(1)),Ir.pipe((0,Ko.T)(1),(0,qo.b)(0))),Ir.pipe((0,Ji.U)(oi=>{const Ps={matches:!1,breakpoints:{}};return oi.forEach(({matches:Po,query:ma})=>{Ps.matches=Ps.matches||Po,Ps.breakpoints[ma]=Po}),Ps}))}_registerQuery(et){if(this._queries.has(et))return this._queries.get(et);const xt=this._mediaMatcher.matchMedia(et),Ir={observable:new Hi.y(oi=>{const Ps=Po=>this._zone.run(()=>oi.next(Po));return xt.addListener(Ps),()=>{xt.removeListener(Ps)}}).pipe((0,Io.O)(xt),(0,Ji.U)(({matches:oi})=>({query:et,matches:oi})),(0,hi.R)(this._destroySubject)),mql:xt};return this._queries.set(et,Ir),Ir}}return($=ie).\u0275fac=function(et){return new(et||$)(z.LFG(lt),z.LFG(z.R0b))},$.\u0275prov=z.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),ie})();function Wt($){return $.map(ie=>ie.split(",")).reduce((ie,Xe)=>ie.concat(Xe)).map(ie=>ie.trim())}let is=(()=>{var $;class ie{constructor(et){this._platform=et}isDisabled(et){return et.hasAttribute("disabled")}isVisible(et){return function ds($){return!!($.offsetWidth||$.offsetHeight||"function"==typeof $.getClientRects&&$.getClientRects().length)}(et)&&"visible"===getComputedStyle(et).visibility}isTabbable(et){if(!this._platform.isBrowser)return!1;const xt=function wi($){try{return $.frameElement}catch{return null}}(function Is($){return $.ownerDocument&&$.ownerDocument.defaultView||window}(et));if(xt&&(-1===Vr(xt)||!this.isVisible(xt)))return!1;let bn=et.nodeName.toLowerCase(),Ir=Vr(et);return et.hasAttribute("contenteditable")?-1!==Ir:!("iframe"===bn||"object"===bn||this._platform.WEBKIT&&this._platform.IOS&&!function Ss($){let ie=$.nodeName.toLowerCase(),Xe="input"===ie&&$.type;return"text"===Xe||"password"===Xe||"select"===ie||"textarea"===ie}(et))&&("audio"===bn?!!et.hasAttribute("controls")&&-1!==Ir:"video"===bn?-1!==Ir&&(null!==Ir||this._platform.FIREFOX||et.hasAttribute("controls")):et.tabIndex>=0)}isFocusable(et,xt){return function Fr($){return!function sr($){return function wo($){return"input"==$.nodeName.toLowerCase()}($)&&"hidden"==$.type}($)&&(function oa($){let ie=$.nodeName.toLowerCase();return"input"===ie||"select"===ie||"button"===ie||"textarea"===ie}($)||function li($){return function uo($){return"a"==$.nodeName.toLowerCase()}($)&&$.hasAttribute("href")}($)||$.hasAttribute("contenteditable")||bi($))}(et)&&!this.isDisabled(et)&&(xt?.ignoreVisibility||this.isVisible(et))}}return($=ie).\u0275fac=function(et){return new(et||$)(z.LFG(H.t4))},$.\u0275prov=z.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),ie})();function bi($){if(!$.hasAttribute("tabindex")||void 0===$.tabIndex)return!1;let ie=$.getAttribute("tabindex");return!(!ie||isNaN(parseInt(ie,10)))}function Vr($){if(!bi($))return null;const ie=parseInt($.getAttribute("tabindex")||"",10);return isNaN(ie)?-1:ie}class qs{get enabled(){return this._enabled}set enabled(ie){this._enabled=ie,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ie,this._startAnchor),this._toggleAnchorTabIndex(ie,this._endAnchor))}constructor(ie,Xe,et,xt,bn=!1){this._element=ie,this._checker=Xe,this._ngZone=et,this._document=xt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,bn||this.attachAnchors()}destroy(){const ie=this._startAnchor,Xe=this._endAnchor;ie&&(ie.removeEventListener("focus",this.startAnchorListener),ie.remove()),Xe&&(Xe.removeEventListener("focus",this.endAnchorListener),Xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ie){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusInitialElement(ie)))})}focusFirstTabbableElementWhenReady(ie){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusFirstTabbableElement(ie)))})}focusLastTabbableElementWhenReady(ie){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusLastTabbableElement(ie)))})}_getRegionBoundary(ie){const Xe=this._element.querySelectorAll(`[cdk-focus-region-${ie}], [cdkFocusRegion${ie}], [cdk-focus-${ie}]`);return"start"==ie?Xe.length?Xe[0]:this._getFirstTabbableElement(this._element):Xe.length?Xe[Xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ie){const Xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Xe){if(!this._checker.isFocusable(Xe)){const et=this._getFirstTabbableElement(Xe);return et?.focus(ie),!!et}return Xe.focus(ie),!0}return this.focusFirstTabbableElement(ie)}focusFirstTabbableElement(ie){const Xe=this._getRegionBoundary("start");return Xe&&Xe.focus(ie),!!Xe}focusLastTabbableElement(ie){const Xe=this._getRegionBoundary("end");return Xe&&Xe.focus(ie),!!Xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ie){if(this._checker.isFocusable(ie)&&this._checker.isTabbable(ie))return ie;const Xe=ie.children;for(let et=0;et<Xe.length;et++){const xt=Xe[et].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Xe[et]):null;if(xt)return xt}return null}_getLastTabbableElement(ie){if(this._checker.isFocusable(ie)&&this._checker.isTabbable(ie))return ie;const Xe=ie.children;for(let et=Xe.length-1;et>=0;et--){const xt=Xe[et].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Xe[et]):null;if(xt)return xt}return null}_createAnchor(){const ie=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ie),ie.classList.add("cdk-visually-hidden"),ie.classList.add("cdk-focus-trap-anchor"),ie.setAttribute("aria-hidden","true"),ie}_toggleAnchorTabIndex(ie,Xe){ie?Xe.setAttribute("tabindex","0"):Xe.removeAttribute("tabindex")}toggleAnchors(ie){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ie,this._startAnchor),this._toggleAnchorTabIndex(ie,this._endAnchor))}_executeOnStable(ie){this._ngZone.isStable?ie():this._ngZone.onStable.pipe((0,Eo.q)(1)).subscribe(ie)}}class ws extends qs{get enabled(){return this._enabled}set enabled(ie){this._enabled=ie,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(ie,Xe,et,xt,bn,Ir,oi){super(ie,Xe,et,xt,oi.defer),this._focusTrapManager=bn,this._inertStrategy=Ir,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const bo=new z.OlP("FOCUS_TRAP_INERT_STRATEGY");class Cr{constructor(){this._listener=null}preventFocus(ie){this._listener&&ie._document.removeEventListener("focus",this._listener,!0),this._listener=Xe=>this._trapFocus(ie,Xe),ie._ngZone.runOutsideAngular(()=>{ie._document.addEventListener("focus",this._listener,!0)})}allowFocus(ie){this._listener&&(ie._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(ie,Xe){const et=Xe.target,xt=ie._element;et&&!xt.contains(et)&&!et.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{ie.enabled&&!xt.contains(ie._document.activeElement)&&ie.focusFirstTabbableElement()})}}let Va=(()=>{var $;class ie{constructor(){this._focusTrapStack=[]}register(et){this._focusTrapStack=this._focusTrapStack.filter(bn=>bn!==et);let xt=this._focusTrapStack;xt.length&&xt[xt.length-1]._disable(),xt.push(et),et._enable()}deregister(et){et._disable();const xt=this._focusTrapStack,bn=xt.indexOf(et);-1!==bn&&(xt.splice(bn,1),xt.length&&xt[xt.length-1]._enable())}}return($=ie).\u0275fac=function(et){return new(et||$)},$.\u0275prov=z.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),ie})(),Us=(()=>{var $;class ie{constructor(et,xt,bn,Ir,oi){this._checker=et,this._ngZone=xt,this._focusTrapManager=bn,this._document=Ir,this._inertStrategy=oi||new Cr}create(et,xt={defer:!1}){let bn;return bn="boolean"==typeof xt?{defer:xt}:xt,new ws(et,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,bn)}}return($=ie).\u0275fac=function(et){return new(et||$)(z.LFG(is),z.LFG(z.R0b),z.LFG(Va),z.LFG(g.K0),z.LFG(bo,8))},$.\u0275prov=z.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),ie})();function Vs($){return 0===$.buttons||0===$.offsetX&&0===$.offsetY}function ps($){const ie=$.touches&&$.touches[0]||$.changedTouches&&$.changedTouches[0];return!(!ie||-1!==ie.identifier||null!=ie.radiusX&&1!==ie.radiusX||null!=ie.radiusY&&1!==ie.radiusY)}const Qo="cdk-high-contrast-black-on-white",Fo="cdk-high-contrast-white-on-black",ne="cdk-high-contrast-active";let q=(()=>{var $;class ie{constructor(et,xt){this._platform=et,this._document=xt,this._breakpointSubscription=(0,z.f3M)(Zt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const et=this._document.createElement("div");et.style.backgroundColor="rgb(1,2,3)",et.style.position="absolute",this._document.body.appendChild(et);const xt=this._document.defaultView||window,bn=xt&&xt.getComputedStyle?xt.getComputedStyle(et):null,Ir=(bn&&bn.backgroundColor||"").replace(/ /g,"");switch(et.remove(),Ir){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const et=this._document.body.classList;et.remove(ne,Qo,Fo),this._hasCheckedHighContrastMode=!0;const xt=this.getHighContrastMode();1===xt?et.add(ne,Qo):2===xt&&et.add(ne,Fo)}}}return($=ie).\u0275fac=function(et){return new(et||$)(z.LFG(H.t4),z.LFG(g.K0))},$.\u0275prov=z.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),ie})()},9388:(un,it,k)=>{k.d(it,{Is:()=>Ue,vT:()=>Oe});var g=k(5879),z=k(6814);const H=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ae(){return(0,g.f3M)(z.K0)}}),Ce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ue=(()=>{var ye;class Se{constructor(ut){this.value="ltr",this.change=new g.vpe,ut&&(this.value=function De(ye){const Se=ye?.toLowerCase()||"";return"auto"===Se&&typeof navigator<"u"&&navigator?.language?Ce.test(navigator.language)?"rtl":"ltr":"rtl"===Se?"rtl":"ltr"}((ut.body?ut.body.dir:null)||(ut.documentElement?ut.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(ye=Se).\u0275fac=function(ut){return new(ut||ye)(g.LFG(H,8))},ye.\u0275prov=g.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),Se})(),Oe=(()=>{var ye;class Se{}return(ye=Se).\u0275fac=function(ut){return new(ut||ye)},ye.\u0275mod=g.oAB({type:ye}),ye.\u0275inj=g.cJS({}),Se})()},2495:(un,it,k)=>{k.d(it,{Eq:()=>Ce,HM:()=>De,Ig:()=>z,fI:()=>Ue});var g=k(5879);function z(Oe){return null!=Oe&&"false"!=`${Oe}`}function Ce(Oe){return Array.isArray(Oe)?Oe:[Oe]}function De(Oe){return null==Oe?"":"string"==typeof Oe?Oe:`${Oe}px`}function Ue(Oe){return Oe instanceof g.SBq?Oe.nativeElement:Oe}},2831:(un,it,k)=>{k.d(it,{Mq:()=>ct,Oy:()=>Le,i$:()=>Se,sA:()=>Qt,t4:()=>Ae});var g=k(5879),z=k(6814);let H;try{H=typeof Intl<"u"&&Intl.v8BreakIterator}catch{H=!1}let Oe,ut,Ae=(()=>{var Qe;class He{constructor(Pt){this._platformId=Pt,this.isBrowser=this._platformId?(0,z.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!H)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(Qe=He).\u0275fac=function(Pt){return new(Pt||Qe)(g.LFG(g.Lbi))},Qe.\u0275prov=g.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),He})();function Se(Qe){return function ye(){if(null==Oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oe=!0}))}finally{Oe=Oe||!1}return Oe}()?Qe:!!Qe.capture}function ct(){if(null==ut){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ut=!1,ut;if("scrollBehavior"in document.documentElement.style)ut=!0;else{const Qe=Element.prototype.scrollTo;ut=!!Qe&&!/\{\s*\[native code\]\s*\}/.test(Qe.toString())}}return ut}function Qt(Qe){return Qe.composedPath?Qe.composedPath()[0]:Qe.target}function Le(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6814:(un,it,k)=>{k.d(it,{Do:()=>ft,EM:()=>Fr,HT:()=>Ae,JF:()=>Ms,K0:()=>De,Mn:()=>er,Mx:()=>vi,NF:()=>wo,O5:()=>Ki,PM:()=>uo,S$:()=>ut,Tn:()=>Ge,UT:()=>rr,V_:()=>ke,Ye:()=>Ut,ax:()=>br,b0:()=>wt,bD:()=>ds,ez:()=>wi,i8:()=>lt,mk:()=>fr,p6:()=>Tr,q:()=>H,rS:()=>bt,sg:()=>br,tP:()=>Ko,uU:()=>vr,w_:()=>Ce,x:()=>Pt});var g=k(5879);let z=null;function H(){return z}function Ae(N){z||(z=N)}class Ce{}const De=new g.OlP("DocumentToken");let Ue=(()=>{var N;class re{historyGo(Y){throw new Error("Not implemented")}}return(N=re).\u0275fac=function(Y){return new(Y||N)},N.\u0275prov=g.Yz7({token:N,factory:function(){return(0,g.f3M)(Oe)},providedIn:"platform"}),re})();const ke=new g.OlP("Location Initialized");let Oe=(()=>{var N;class re extends Ue{constructor(){super(),this._doc=(0,g.f3M)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(Y){const M=H().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",Y,!1),()=>M.removeEventListener("popstate",Y)}onHashChange(Y){const M=H().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",Y,!1),()=>M.removeEventListener("hashchange",Y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Y){this._location.pathname=Y}pushState(Y,M,K){this._history.pushState(Y,M,K)}replaceState(Y,M,K){this._history.replaceState(Y,M,K)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}}return(N=re).\u0275fac=function(Y){return new(Y||N)},N.\u0275prov=g.Yz7({token:N,factory:function(){return new N},providedIn:"platform"}),re})();function ye(N,re){if(0==N.length)return re;if(0==re.length)return N;let Ne=0;return N.endsWith("/")&&Ne++,re.startsWith("/")&&Ne++,2==Ne?N+re.substring(1):1==Ne?N+re:N+"/"+re}function Se(N){const re=N.match(/#|\?|$/),Ne=re&&re.index||N.length;return N.slice(0,Ne-("/"===N[Ne-1]?1:0))+N.slice(Ne)}function Be(N){return N&&"?"!==N[0]?"?"+N:N}let ut=(()=>{var N;class re{historyGo(Y){throw new Error("Not implemented")}}return(N=re).\u0275fac=function(Y){return new(Y||N)},N.\u0275prov=g.Yz7({token:N,factory:function(){return(0,g.f3M)(wt)},providedIn:"root"}),re})();const ct=new g.OlP("appBaseHref");let wt=(()=>{var N;class re extends ut{constructor(Y,M){super(),this._platformLocation=Y,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return ye(this._baseHref,Y)}path(Y=!1){const M=this._platformLocation.pathname+Be(this._platformLocation.search),K=this._platformLocation.hash;return K&&Y?`${M}${K}`:M}pushState(Y,M,K,ae){const fe=this.prepareExternalUrl(K+Be(ae));this._platformLocation.pushState(Y,M,fe)}replaceState(Y,M,K,ae){const fe=this.prepareExternalUrl(K+Be(ae));this._platformLocation.replaceState(Y,M,fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.LFG(Ue),g.LFG(ct,8))},N.\u0275prov=g.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),re})(),ft=(()=>{var N;class re extends ut{constructor(Y,M){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(Y){const M=ye(this._baseHref,Y);return M.length>0?"#"+M:M}pushState(Y,M,K,ae){let fe=this.prepareExternalUrl(K+Be(ae));0==fe.length&&(fe=this._platformLocation.pathname),this._platformLocation.pushState(Y,M,fe)}replaceState(Y,M,K,ae){let fe=this.prepareExternalUrl(K+Be(ae));0==fe.length&&(fe=this._platformLocation.pathname),this._platformLocation.replaceState(Y,M,fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.LFG(Ue),g.LFG(ct,8))},N.\u0275prov=g.Yz7({token:N,factory:N.\u0275fac}),re})(),Ut=(()=>{var N;class re{constructor(Y){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Y;const M=this._locationStrategy.getBaseHref();this._basePath=function Le(N){if(new RegExp("^(https?:)?//").test(N)){const[,Ne]=N.split(/\/\/[^\/]+/);return Ne}return N}(Se(Qt(M))),this._locationStrategy.onPopState(K=>{this._subject.emit({url:this.path(!0),pop:!0,state:K.state,type:K.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Y=!1){return this.normalize(this._locationStrategy.path(Y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Y,M=""){return this.path()==this.normalize(Y+Be(M))}normalize(Y){return re.stripTrailingSlash(function Ye(N,re){if(!N||!re.startsWith(N))return re;const Ne=re.substring(N.length);return""===Ne||["/",";","?","#"].includes(Ne[0])?Ne:re}(this._basePath,Qt(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._locationStrategy.prepareExternalUrl(Y)}go(Y,M="",K=null){this._locationStrategy.pushState(K,"",Y,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Be(M)),K)}replaceState(Y,M="",K=null){this._locationStrategy.replaceState(K,"",Y,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Be(M)),K)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Y=0){this._locationStrategy.historyGo?.(Y)}onUrlChange(Y){return this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(Y);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Y="",M){this._urlChangeListeners.forEach(K=>K(Y,M))}subscribe(Y,M,K){return this._subject.subscribe({next:Y,error:M,complete:K})}}return(N=re).normalizeQueryParams=Be,N.joinWithSlash=ye,N.stripTrailingSlash=Se,N.\u0275fac=function(Y){return new(Y||N)(g.LFG(ut))},N.\u0275prov=g.Yz7({token:N,factory:function(){return function Ft(){return new Ut((0,g.LFG)(ut))}()},providedIn:"root"}),re})();function Qt(N){return N.replace(/\/index.html$/,"")}var Pt=function(N){return N[N.Format=0]="Format",N[N.Standalone=1]="Standalone",N}(Pt||{}),Ge=function(N){return N[N.Narrow=0]="Narrow",N[N.Abbreviated=1]="Abbreviated",N[N.Wide=2]="Wide",N[N.Short=3]="Short",N}(Ge||{}),Ke=function(N){return N[N.Short=0]="Short",N[N.Medium=1]="Medium",N[N.Long=2]="Long",N[N.Full=3]="Full",N}(Ke||{}),Bt=function(N){return N[N.Decimal=0]="Decimal",N[N.Group=1]="Group",N[N.List=2]="List",N[N.PercentSign=3]="PercentSign",N[N.PlusSign=4]="PlusSign",N[N.MinusSign=5]="MinusSign",N[N.Exponential=6]="Exponential",N[N.SuperscriptingExponent=7]="SuperscriptingExponent",N[N.PerMille=8]="PerMille",N[N.Infinity=9]="Infinity",N[N.NaN=10]="NaN",N[N.TimeSeparator=11]="TimeSeparator",N[N.CurrencyDecimal=12]="CurrencyDecimal",N[N.CurrencyGroup=13]="CurrencyGroup",N}(Bt||{});function er(N,re,Ne){const Y=(0,g.cg1)(N),K=Fn([Y[g.wAp.DaysFormat],Y[g.wAp.DaysStandalone]],re);return Fn(K,Ne)}function rr(N,re,Ne){const Y=(0,g.cg1)(N),K=Fn([Y[g.wAp.MonthsFormat],Y[g.wAp.MonthsStandalone]],re);return Fn(K,Ne)}function Dt(N,re){return Fn((0,g.cg1)(N)[g.wAp.DateFormat],re)}function rt(N,re){return Fn((0,g.cg1)(N)[g.wAp.TimeFormat],re)}function It(N,re){return Fn((0,g.cg1)(N)[g.wAp.DateTimeFormat],re)}function tt(N,re){const Ne=(0,g.cg1)(N),Y=Ne[g.wAp.NumberSymbols][re];if(typeof Y>"u"){if(re===Bt.CurrencyDecimal)return Ne[g.wAp.NumberSymbols][Bt.Decimal];if(re===Bt.CurrencyGroup)return Ne[g.wAp.NumberSymbols][Bt.Group]}return Y}function hn(N){if(!N[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fn(N,re){for(let Ne=re;Ne>-1;Ne--)if(typeof N[Ne]<"u")return N[Ne];throw new Error("Locale data API: locale data undefined")}function Er(N){const[re,Ne]=N.split(":");return{hours:+re,minutes:+Ne}}const hr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ei={},yi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kn=function(N){return N[N.Short=0]="Short",N[N.ShortGMT=1]="ShortGMT",N[N.Long=2]="Long",N[N.Extended=3]="Extended",N}(kn||{}),Wn=function(N){return N[N.FullYear=0]="FullYear",N[N.Month=1]="Month",N[N.Date=2]="Date",N[N.Hours=3]="Hours",N[N.Minutes=4]="Minutes",N[N.Seconds=5]="Seconds",N[N.FractionalSeconds=6]="FractionalSeconds",N[N.Day=7]="Day",N}(Wn||{}),Gn=function(N){return N[N.DayPeriods=0]="DayPeriods",N[N.Days=1]="Days",N[N.Months=2]="Months",N[N.Eras=3]="Eras",N}(Gn||{});function Tr(N,re,Ne,Y){let M=function Q(N){if(pe(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[M,K=1,ae=1]=N.split("-").map(fe=>+fe);return ir(M,K-1,ae)}const Ne=parseFloat(N);if(!isNaN(N-Ne))return new Date(Ne);let Y;if(Y=N.match(hr))return function X(N){const re=new Date(0);let Ne=0,Y=0;const M=N[8]?re.setUTCFullYear:re.setFullYear,K=N[8]?re.setUTCHours:re.setHours;N[9]&&(Ne=Number(N[9]+N[10]),Y=Number(N[9]+N[11])),M.call(re,Number(N[1]),Number(N[2])-1,Number(N[3]));const ae=Number(N[4]||0)-Ne,fe=Number(N[5]||0)-Y,Me=Number(N[6]||0),st=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return K.call(re,ae,fe,Me,st),re}(Y)}const re=new Date(N);if(!pe(re))throw new Error(`Unable to convert "${N}" into a date`);return re}(N);re=ai(Ne,re)||re;let fe,ae=[];for(;re;){if(fe=yi.exec(re),!fe){ae.push(re);break}{ae=ae.concat(fe.slice(1));const nt=ae.pop();if(!nt)break;re=nt}}let Me=M.getTimezoneOffset();Y&&(Me=Vn(Y,Me),M=function ve(N,re,Ne){const Y=Ne?-1:1,M=N.getTimezoneOffset();return function pr(N,re){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+re),N}(N,Y*(Vn(re,M)-M))}(M,Y,!0));let st="";return ae.forEach(nt=>{const At=function vn(N){if(Nt[N])return Nt[N];let re;switch(N){case"G":case"GG":case"GGG":re=yr(Gn.Eras,Ge.Abbreviated);break;case"GGGG":re=yr(Gn.Eras,Ge.Wide);break;case"GGGGG":re=yr(Gn.Eras,Ge.Narrow);break;case"y":re=ur(Wn.FullYear,1,0,!1,!0);break;case"yy":re=ur(Wn.FullYear,2,0,!0,!0);break;case"yyy":re=ur(Wn.FullYear,3,0,!1,!0);break;case"yyyy":re=ur(Wn.FullYear,4,0,!1,!0);break;case"Y":re=Gt(1);break;case"YY":re=Gt(2,!0);break;case"YYY":re=Gt(3);break;case"YYYY":re=Gt(4);break;case"M":case"L":re=ur(Wn.Month,1,1);break;case"MM":case"LL":re=ur(Wn.Month,2,1);break;case"MMM":re=yr(Gn.Months,Ge.Abbreviated);break;case"MMMM":re=yr(Gn.Months,Ge.Wide);break;case"MMMMM":re=yr(Gn.Months,Ge.Narrow);break;case"LLL":re=yr(Gn.Months,Ge.Abbreviated,Pt.Standalone);break;case"LLLL":re=yr(Gn.Months,Ge.Wide,Pt.Standalone);break;case"LLLLL":re=yr(Gn.Months,Ge.Narrow,Pt.Standalone);break;case"w":re=Je(1);break;case"ww":re=Je(2);break;case"W":re=Je(1,!0);break;case"d":re=ur(Wn.Date,1);break;case"dd":re=ur(Wn.Date,2);break;case"c":case"cc":re=ur(Wn.Day,1);break;case"ccc":re=yr(Gn.Days,Ge.Abbreviated,Pt.Standalone);break;case"cccc":re=yr(Gn.Days,Ge.Wide,Pt.Standalone);break;case"ccccc":re=yr(Gn.Days,Ge.Narrow,Pt.Standalone);break;case"cccccc":re=yr(Gn.Days,Ge.Short,Pt.Standalone);break;case"E":case"EE":case"EEE":re=yr(Gn.Days,Ge.Abbreviated);break;case"EEEE":re=yr(Gn.Days,Ge.Wide);break;case"EEEEE":re=yr(Gn.Days,Ge.Narrow);break;case"EEEEEE":re=yr(Gn.Days,Ge.Short);break;case"a":case"aa":case"aaa":re=yr(Gn.DayPeriods,Ge.Abbreviated);break;case"aaaa":re=yr(Gn.DayPeriods,Ge.Wide);break;case"aaaaa":re=yr(Gn.DayPeriods,Ge.Narrow);break;case"b":case"bb":case"bbb":re=yr(Gn.DayPeriods,Ge.Abbreviated,Pt.Standalone,!0);break;case"bbbb":re=yr(Gn.DayPeriods,Ge.Wide,Pt.Standalone,!0);break;case"bbbbb":re=yr(Gn.DayPeriods,Ge.Narrow,Pt.Standalone,!0);break;case"B":case"BB":case"BBB":re=yr(Gn.DayPeriods,Ge.Abbreviated,Pt.Format,!0);break;case"BBBB":re=yr(Gn.DayPeriods,Ge.Wide,Pt.Format,!0);break;case"BBBBB":re=yr(Gn.DayPeriods,Ge.Narrow,Pt.Format,!0);break;case"h":re=ur(Wn.Hours,1,-12);break;case"hh":re=ur(Wn.Hours,2,-12);break;case"H":re=ur(Wn.Hours,1);break;case"HH":re=ur(Wn.Hours,2);break;case"m":re=ur(Wn.Minutes,1);break;case"mm":re=ur(Wn.Minutes,2);break;case"s":re=ur(Wn.Seconds,1);break;case"ss":re=ur(Wn.Seconds,2);break;case"S":re=ur(Wn.FractionalSeconds,1);break;case"SS":re=ur(Wn.FractionalSeconds,2);break;case"SSS":re=ur(Wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=Si(kn.Short);break;case"ZZZZZ":re=Si(kn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=Si(kn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=Si(kn.Long);break;default:return null}return Nt[N]=re,re}(nt);st+=At?At(M,Ne,Me):"''"===nt?"'":nt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),st}function ir(N,re,Ne){const Y=new Date(0);return Y.setFullYear(N,re,Ne),Y.setHours(0,0,0),Y}function ai(N,re){const Ne=function Nn(N){return(0,g.cg1)(N)[g.wAp.LocaleId]}(N);if(Ei[Ne]=Ei[Ne]||{},Ei[Ne][re])return Ei[Ne][re];let Y="";switch(re){case"shortDate":Y=Dt(N,Ke.Short);break;case"mediumDate":Y=Dt(N,Ke.Medium);break;case"longDate":Y=Dt(N,Ke.Long);break;case"fullDate":Y=Dt(N,Ke.Full);break;case"shortTime":Y=rt(N,Ke.Short);break;case"mediumTime":Y=rt(N,Ke.Medium);break;case"longTime":Y=rt(N,Ke.Long);break;case"fullTime":Y=rt(N,Ke.Full);break;case"short":const M=ai(N,"shortTime"),K=ai(N,"shortDate");Y=Ar(It(N,Ke.Short),[M,K]);break;case"medium":const ae=ai(N,"mediumTime"),fe=ai(N,"mediumDate");Y=Ar(It(N,Ke.Medium),[ae,fe]);break;case"long":const Me=ai(N,"longTime"),st=ai(N,"longDate");Y=Ar(It(N,Ke.Long),[Me,st]);break;case"full":const nt=ai(N,"fullTime"),At=ai(N,"fullDate");Y=Ar(It(N,Ke.Full),[nt,At])}return Y&&(Ei[Ne][re]=Y),Y}function Ar(N,re){return re&&(N=N.replace(/\{([^}]+)}/g,function(Ne,Y){return null!=re&&Y in re?re[Y]:Ne})),N}function Lr(N,re,Ne="-",Y,M){let K="";(N<0||M&&N<=0)&&(M?N=1-N:(N=-N,K=Ne));let ae=String(N);for(;ae.length<re;)ae="0"+ae;return Y&&(ae=ae.slice(ae.length-re)),K+ae}function ur(N,re,Ne=0,Y=!1,M=!1){return function(K,ae){let fe=function Qr(N,re){switch(N){case Wn.FullYear:return re.getFullYear();case Wn.Month:return re.getMonth();case Wn.Date:return re.getDate();case Wn.Hours:return re.getHours();case Wn.Minutes:return re.getMinutes();case Wn.Seconds:return re.getSeconds();case Wn.FractionalSeconds:return re.getMilliseconds();case Wn.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,K);if((Ne>0||fe>-Ne)&&(fe+=Ne),N===Wn.Hours)0===fe&&-12===Ne&&(fe=12);else if(N===Wn.FractionalSeconds)return function qt(N,re){return Lr(N,3).substring(0,re)}(fe,re);const Me=tt(ae,Bt.MinusSign);return Lr(fe,re,Me,Y,M)}}function yr(N,re,Ne=Pt.Format,Y=!1){return function(M,K){return function nr(N,re,Ne,Y,M,K){switch(Ne){case Gn.Months:return rr(re,M,Y)[N.getMonth()];case Gn.Days:return er(re,M,Y)[N.getDay()];case Gn.DayPeriods:const ae=N.getHours(),fe=N.getMinutes();if(K){const st=function Cn(N){const re=(0,g.cg1)(N);return hn(re),(re[g.wAp.ExtraData][2]||[]).map(Y=>"string"==typeof Y?Er(Y):[Er(Y[0]),Er(Y[1])])}(re),nt=function Bn(N,re,Ne){const Y=(0,g.cg1)(N);hn(Y);const K=Fn([Y[g.wAp.ExtraData][0],Y[g.wAp.ExtraData][1]],re)||[];return Fn(K,Ne)||[]}(re,M,Y),At=st.findIndex(Jt=>{if(Array.isArray(Jt)){const[mn,on]=Jt,jn=ae>=mn.hours&&fe>=mn.minutes,mr=ae<on.hours||ae===on.hours&&fe<on.minutes;if(mn.hours<on.hours){if(jn&&mr)return!0}else if(jn||mr)return!0}else if(Jt.hours===ae&&Jt.minutes===fe)return!0;return!1});if(-1!==At)return nt[At]}return function yn(N,re,Ne){const Y=(0,g.cg1)(N),K=Fn([Y[g.wAp.DayPeriodsFormat],Y[g.wAp.DayPeriodsStandalone]],re);return Fn(K,Ne)}(re,M,Y)[ae<12?0:1];case Gn.Eras:return function Nr(N,re){return Fn((0,g.cg1)(N)[g.wAp.Eras],re)}(re,Y)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ne}`)}}(M,K,N,re,Ne,Y)}}function Si(N){return function(re,Ne,Y){const M=-1*Y,K=tt(Ne,Bt.MinusSign),ae=M>0?Math.floor(M/60):Math.ceil(M/60);switch(N){case kn.Short:return(M>=0?"+":"")+Lr(ae,2,K)+Lr(Math.abs(M%60),2,K);case kn.ShortGMT:return"GMT"+(M>=0?"+":"")+Lr(ae,1,K);case kn.Long:return"GMT"+(M>=0?"+":"")+Lr(ae,2,K)+":"+Lr(Math.abs(M%60),2,K);case kn.Extended:return 0===Y?"Z":(M>=0?"+":"")+Lr(ae,2,K)+":"+Lr(Math.abs(M%60),2,K);default:throw new Error(`Unknown zone width "${N}"`)}}}const di=0,$r=4;function $t(N){return ir(N.getFullYear(),N.getMonth(),N.getDate()+($r-N.getDay()))}function Je(N,re=!1){return function(Ne,Y){let M;if(re){const K=new Date(Ne.getFullYear(),Ne.getMonth(),1).getDay()-1,ae=Ne.getDate();M=1+Math.floor((ae+K)/7)}else{const K=$t(Ne),ae=function Jr(N){const re=ir(N,di,1).getDay();return ir(N,0,1+(re<=$r?$r:$r+7)-re)}(K.getFullYear()),fe=K.getTime()-ae.getTime();M=1+Math.round(fe/6048e5)}return Lr(M,N,tt(Y,Bt.MinusSign))}}function Gt(N,re=!1){return function(Ne,Y){return Lr($t(Ne).getFullYear(),N,tt(Y,Bt.MinusSign),re)}}const Nt={};function Vn(N,re){N=N.replace(/:/g,"");const Ne=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(Ne)?re:Ne}function pe(N){return N instanceof Date&&!isNaN(N.valueOf())}function vi(N,re){re=encodeURIComponent(re);for(const Ne of N.split(";")){const Y=Ne.indexOf("="),[M,K]=-1==Y?[Ne,""]:[Ne.slice(0,Y),Ne.slice(Y+1)];if(M.trim()===re)return decodeURIComponent(K)}return null}const ao=/\s+/,Ds=[];let fr=(()=>{var N;class re{constructor(Y,M,K,ae){this._iterableDiffers=Y,this._keyValueDiffers=M,this._ngEl=K,this._renderer=ae,this.initialClasses=Ds,this.stateMap=new Map}set klass(Y){this.initialClasses=null!=Y?Y.trim().split(ao):Ds}set ngClass(Y){this.rawClass="string"==typeof Y?Y.trim().split(ao):Y}ngDoCheck(){for(const M of this.initialClasses)this._updateState(M,!0);const Y=this.rawClass;if(Array.isArray(Y)||Y instanceof Set)for(const M of Y)this._updateState(M,!0);else if(null!=Y)for(const M of Object.keys(Y))this._updateState(M,!!Y[M]);this._applyStateDiff()}_updateState(Y,M){const K=this.stateMap.get(Y);void 0!==K?(K.enabled!==M&&(K.changed=!0,K.enabled=M),K.touched=!0):this.stateMap.set(Y,{enabled:M,changed:!0,touched:!0})}_applyStateDiff(){for(const Y of this.stateMap){const M=Y[0],K=Y[1];K.changed?(this._toggleClass(M,K.enabled),K.changed=!1):K.touched||(K.enabled&&this._toggleClass(M,!1),this.stateMap.delete(M)),K.touched=!1}}_toggleClass(Y,M){(Y=Y.trim()).length>0&&Y.split(ao).forEach(K=>{M?this._renderer.addClass(this._ngEl.nativeElement,K):this._renderer.removeClass(this._ngEl.nativeElement,K)})}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),re})();class rs{constructor(re,Ne,Y,M){this.$implicit=re,this.ngForOf=Ne,this.index=Y,this.count=M}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let br=(()=>{var N;class re{set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}constructor(Y,M,K){this._viewContainer=Y,this._template=M,this._differs=K,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;!this._differ&&Y&&(this._differ=this._differs.find(Y).create(this.ngForTrackBy))}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const M=this._viewContainer;Y.forEachOperation((K,ae,fe)=>{if(null==K.previousIndex)M.createEmbeddedView(this._template,new rs(K.item,this._ngForOf,-1,-1),null===fe?void 0:fe);else if(null==fe)M.remove(null===ae?void 0:ae);else if(null!==ae){const Me=M.get(ae);M.move(Me,fe),ji(Me,K)}});for(let K=0,ae=M.length;K<ae;K++){const Me=M.get(K).context;Me.index=K,Me.count=ae,Me.ngForOf=this._ngForOf}Y.forEachIdentityChange(K=>{ji(M.get(K.currentIndex),K)})}static ngTemplateContextGuard(Y,M){return!0}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),re})();function ji(N,re){N.context.$implicit=re.item}let Ki=(()=>{var N;class re{constructor(Y,M){this._viewContainer=Y,this._context=new qi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){Ls("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){Ls("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,M){return!0}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.Y36(g.s_b),g.Y36(g.Rgc))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),re})();class qi{constructor(){this.$implicit=null,this.ngIf=null}}function Ls(N,re){if(re&&!re.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,g.AaK)(re)}'.`)}let Ko=(()=>{var N;class re{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Y){if(Y.ngTemplateOutlet||Y.ngTemplateOutletInjector){const M=this._viewContainerRef;if(this._viewRef&&M.remove(M.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:K,ngTemplateOutletContext:ae,ngTemplateOutletInjector:fe}=this;this._viewRef=M.createEmbeddedView(K,ae,fe?{injector:fe}:void 0)}else this._viewRef=null}else this._viewRef&&Y.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.Y36(g.s_b))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),re})();function Ji(N,re){return new g.vHH(2100,!1)}let lt=(()=>{var N;class re{transform(Y){if(null==Y)return null;if("string"!=typeof Y)throw Ji();return Y.toLowerCase()}}return(N=re).\u0275fac=function(Y){return new(Y||N)},N.\u0275pipe=g.Yjl({name:"lowercase",type:N,pure:!0,standalone:!0}),re})();const ot=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bt=(()=>{var N;class re{transform(Y){if(null==Y)return null;if("string"!=typeof Y)throw Ji();return Y.replace(ot,M=>M[0].toUpperCase()+M.slice(1).toLowerCase())}}return(N=re).\u0275fac=function(Y){return new(Y||N)},N.\u0275pipe=g.Yjl({name:"titlecase",type:N,pure:!0,standalone:!0}),re})();const Sn=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),lr=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let vr=(()=>{var N;class re{constructor(Y,M,K){this.locale=Y,this.defaultTimezone=M,this.defaultOptions=K}transform(Y,M,K,ae){if(null==Y||""===Y||Y!=Y)return null;try{return Tr(Y,M??this.defaultOptions?.dateFormat??"mediumDate",ae||this.locale,K??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fe){throw Ji()}}}return(N=re).\u0275fac=function(Y){return new(Y||N)(g.Y36(g.soG,16),g.Y36(Sn,24),g.Y36(lr,24))},N.\u0275pipe=g.Yjl({name:"date",type:N,pure:!0,standalone:!0}),re})(),wi=(()=>{var N;class re{}return(N=re).\u0275fac=function(Y){return new(Y||N)},N.\u0275mod=g.oAB({type:N}),N.\u0275inj=g.cJS({}),re})();const ds="browser",oa="server";function wo(N){return N===ds}function uo(N){return N===oa}let Fr=(()=>{var N;class re{}return(N=re).\u0275prov=(0,g.Yz7)({token:N,providedIn:"root",factory:()=>new Is((0,g.LFG)(De),window)}),re})();class Is{constructor(re,Ne){this.document=re,this.window=Ne,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const Ne=function qs(N,re){const Ne=N.getElementById(re)||N.getElementsByName(re)[0];if(Ne)return Ne;if("function"==typeof N.createTreeWalker&&N.body&&"function"==typeof N.body.attachShadow){const Y=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let M=Y.currentNode;for(;M;){const K=M.shadowRoot;if(K){const ae=K.getElementById(re)||K.querySelector(`[name="${re}"]`);if(ae)return ae}M=Y.nextNode()}}return null}(this.document,re);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const Ne=re.getBoundingClientRect(),Y=Ne.left+this.window.pageXOffset,M=Ne.top+this.window.pageYOffset,K=this.offset();this.window.scrollTo(Y-K[0],M-K[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ms{}},9862:(un,it,k)=>{k.d(it,{JF:()=>de,WM:()=>ut,eN:()=>ht});var g=k(5879),z=k(2096),H=k(2459),Ae=k(5592),Ce=k(6328),De=k(2181),Ue=k(7398),ke=k(4716),Oe=k(4664),ye=k(6814);class Se{}class Be{}class ut{constructor(ze){this.normalizedNames=new Map,this.lazyUpdate=null,ze?"string"==typeof ze?this.lazyInit=()=>{this.headers=new Map,ze.split("\n").forEach(Rt=>{const Ot=Rt.indexOf(":");if(Ot>0){const fn=Rt.slice(0,Ot),sn=fn.toLowerCase(),Hn=Rt.slice(Ot+1).trim();this.maybeSetNormalizedName(fn,sn),this.headers.has(sn)?this.headers.get(sn).push(Hn):this.headers.set(sn,[Hn])}})}:typeof Headers<"u"&&ze instanceof Headers?(this.headers=new Map,ze.forEach((Rt,Ot)=>{this.setHeaderEntries(Ot,Rt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ze).forEach(([Rt,Ot])=>{this.setHeaderEntries(Rt,Ot)})}:this.headers=new Map}has(ze){return this.init(),this.headers.has(ze.toLowerCase())}get(ze){this.init();const Rt=this.headers.get(ze.toLowerCase());return Rt&&Rt.length>0?Rt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ze){return this.init(),this.headers.get(ze.toLowerCase())||null}append(ze,Rt){return this.clone({name:ze,value:Rt,op:"a"})}set(ze,Rt){return this.clone({name:ze,value:Rt,op:"s"})}delete(ze,Rt){return this.clone({name:ze,value:Rt,op:"d"})}maybeSetNormalizedName(ze,Rt){this.normalizedNames.has(Rt)||this.normalizedNames.set(Rt,ze)}init(){this.lazyInit&&(this.lazyInit instanceof ut?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ze=>this.applyUpdate(ze)),this.lazyUpdate=null))}copyFrom(ze){ze.init(),Array.from(ze.headers.keys()).forEach(Rt=>{this.headers.set(Rt,ze.headers.get(Rt)),this.normalizedNames.set(Rt,ze.normalizedNames.get(Rt))})}clone(ze){const Rt=new ut;return Rt.lazyInit=this.lazyInit&&this.lazyInit instanceof ut?this.lazyInit:this,Rt.lazyUpdate=(this.lazyUpdate||[]).concat([ze]),Rt}applyUpdate(ze){const Rt=ze.name.toLowerCase();switch(ze.op){case"a":case"s":let Ot=ze.value;if("string"==typeof Ot&&(Ot=[Ot]),0===Ot.length)return;this.maybeSetNormalizedName(ze.name,Rt);const fn=("a"===ze.op?this.headers.get(Rt):void 0)||[];fn.push(...Ot),this.headers.set(Rt,fn);break;case"d":const sn=ze.value;if(sn){let Hn=this.headers.get(Rt);if(!Hn)return;Hn=Hn.filter(gn=>-1===sn.indexOf(gn)),0===Hn.length?(this.headers.delete(Rt),this.normalizedNames.delete(Rt)):this.headers.set(Rt,Hn)}else this.headers.delete(Rt),this.normalizedNames.delete(Rt)}}setHeaderEntries(ze,Rt){const Ot=(Array.isArray(Rt)?Rt:[Rt]).map(sn=>sn.toString()),fn=ze.toLowerCase();this.headers.set(fn,Ot),this.maybeSetNormalizedName(ze,fn)}forEach(ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(Rt=>ze(this.normalizedNames.get(Rt),this.headers.get(Rt)))}}class wt{encodeKey(ze){return Ye(ze)}encodeValue(ze){return Ye(ze)}decodeKey(ze){return decodeURIComponent(ze)}decodeValue(ze){return decodeURIComponent(ze)}}const Ut=/%(\d[a-f0-9])/gi,Ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye(dt){return encodeURIComponent(dt).replace(Ut,(ze,Rt)=>Ft[Rt]??ze)}function Qt(dt){return`${dt}`}class Le{constructor(ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ze.encoder||new wt,ze.fromString){if(ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ft(dt,ze){const Rt=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(fn=>{const sn=fn.indexOf("="),[Hn,gn]=-1==sn?[ze.decodeKey(fn),""]:[ze.decodeKey(fn.slice(0,sn)),ze.decodeValue(fn.slice(sn+1))],Pr=Rt.get(Hn)||[];Pr.push(gn),Rt.set(Hn,Pr)}),Rt}(ze.fromString,this.encoder)}else ze.fromObject?(this.map=new Map,Object.keys(ze.fromObject).forEach(Rt=>{const Ot=ze.fromObject[Rt],fn=Array.isArray(Ot)?Ot.map(Qt):[Qt(Ot)];this.map.set(Rt,fn)})):this.map=null}has(ze){return this.init(),this.map.has(ze)}get(ze){this.init();const Rt=this.map.get(ze);return Rt?Rt[0]:null}getAll(ze){return this.init(),this.map.get(ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ze,Rt){return this.clone({param:ze,value:Rt,op:"a"})}appendAll(ze){const Rt=[];return Object.keys(ze).forEach(Ot=>{const fn=ze[Ot];Array.isArray(fn)?fn.forEach(sn=>{Rt.push({param:Ot,value:sn,op:"a"})}):Rt.push({param:Ot,value:fn,op:"a"})}),this.clone(Rt)}set(ze,Rt){return this.clone({param:ze,value:Rt,op:"s"})}delete(ze,Rt){return this.clone({param:ze,value:Rt,op:"d"})}toString(){return this.init(),this.keys().map(ze=>{const Rt=this.encoder.encodeKey(ze);return this.map.get(ze).map(Ot=>Rt+"="+this.encoder.encodeValue(Ot)).join("&")}).filter(ze=>""!==ze).join("&")}clone(ze){const Rt=new Le({encoder:this.encoder});return Rt.cloneFrom=this.cloneFrom||this,Rt.updates=(this.updates||[]).concat(ze),Rt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ze=>this.map.set(ze,this.cloneFrom.map.get(ze))),this.updates.forEach(ze=>{switch(ze.op){case"a":case"s":const Rt=("a"===ze.op?this.map.get(ze.param):void 0)||[];Rt.push(Qt(ze.value)),this.map.set(ze.param,Rt);break;case"d":if(void 0===ze.value){this.map.delete(ze.param);break}{let Ot=this.map.get(ze.param)||[];const fn=Ot.indexOf(Qt(ze.value));-1!==fn&&Ot.splice(fn,1),Ot.length>0?this.map.set(ze.param,Ot):this.map.delete(ze.param)}}}),this.cloneFrom=this.updates=null)}}class He{constructor(){this.map=new Map}set(ze,Rt){return this.map.set(ze,Rt),this}get(ze){return this.map.has(ze)||this.map.set(ze,ze.defaultValue()),this.map.get(ze)}delete(ze){return this.map.delete(ze),this}has(ze){return this.map.has(ze)}keys(){return this.map.keys()}}function Pt(dt){return typeof ArrayBuffer<"u"&&dt instanceof ArrayBuffer}function Ge(dt){return typeof Blob<"u"&&dt instanceof Blob}function Ke(dt){return typeof FormData<"u"&&dt instanceof FormData}class Et{constructor(ze,Rt,Ot,fn){let sn;if(this.url=Rt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ze.toUpperCase(),function vt(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fn?(this.body=void 0!==Ot?Ot:null,sn=fn):sn=Ot,sn&&(this.reportProgress=!!sn.reportProgress,this.withCredentials=!!sn.withCredentials,sn.responseType&&(this.responseType=sn.responseType),sn.headers&&(this.headers=sn.headers),sn.context&&(this.context=sn.context),sn.params&&(this.params=sn.params)),this.headers||(this.headers=new ut),this.context||(this.context=new He),this.params){const Hn=this.params.toString();if(0===Hn.length)this.urlWithParams=Rt;else{const gn=Rt.indexOf("?");this.urlWithParams=Rt+(-1===gn?"?":gn<Rt.length-1?"&":"")+Hn}}else this.params=new Le,this.urlWithParams=Rt}serializeBody(){return null===this.body?null:Pt(this.body)||Ge(this.body)||Ke(this.body)||function Bt(dt){return typeof URLSearchParams<"u"&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Ge(this.body)?this.body.type||null:Pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ze={}){const Rt=ze.method||this.method,Ot=ze.url||this.url,fn=ze.responseType||this.responseType,sn=void 0!==ze.body?ze.body:this.body,Hn=void 0!==ze.withCredentials?ze.withCredentials:this.withCredentials,gn=void 0!==ze.reportProgress?ze.reportProgress:this.reportProgress;let Pr=ze.headers||this.headers,Rr=ze.params||this.params;const Ai=ze.context??this.context;return void 0!==ze.setHeaders&&(Pr=Object.keys(ze.setHeaders).reduce((ks,Kr)=>ks.set(Kr,ze.setHeaders[Kr]),Pr)),ze.setParams&&(Rr=Object.keys(ze.setParams).reduce((ks,Kr)=>ks.set(Kr,ze.setParams[Kr]),Rr)),new Et(Rt,Ot,sn,{params:Rr,headers:Pr,context:Ai,reportProgress:gn,responseType:fn,withCredentials:Hn})}}var Nn=function(dt){return dt[dt.Sent=0]="Sent",dt[dt.UploadProgress=1]="UploadProgress",dt[dt.ResponseHeader=2]="ResponseHeader",dt[dt.DownloadProgress=3]="DownloadProgress",dt[dt.Response=4]="Response",dt[dt.User=5]="User",dt}(Nn||{});class yn{constructor(ze,Rt=200,Ot="OK"){this.headers=ze.headers||new ut,this.status=void 0!==ze.status?ze.status:Rt,this.statusText=ze.statusText||Ot,this.url=ze.url||null,this.ok=this.status>=200&&this.status<300}}class er extends yn{constructor(ze={}){super(ze),this.type=Nn.ResponseHeader}clone(ze={}){return new er({headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class rr extends yn{constructor(ze={}){super(ze),this.type=Nn.Response,this.body=void 0!==ze.body?ze.body:null}clone(ze={}){return new rr({body:void 0!==ze.body?ze.body:this.body,headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class Nr extends yn{constructor(ze){super(ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ze.url||"(unknown url)"}`:`Http failure response for ${ze.url||"(unknown url)"}: ${ze.status} ${ze.statusText}`,this.error=ze.error||null}}function Sr(dt,ze){return{body:ze,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let ht=(()=>{var dt;class ze{constructor(Ot){this.handler=Ot}request(Ot,fn,sn={}){let Hn;if(Ot instanceof Et)Hn=Ot;else{let Rr,Ai;Rr=sn.headers instanceof ut?sn.headers:new ut(sn.headers),sn.params&&(Ai=sn.params instanceof Le?sn.params:new Le({fromObject:sn.params})),Hn=new Et(Ot,fn,void 0!==sn.body?sn.body:null,{headers:Rr,context:sn.context,params:Ai,reportProgress:sn.reportProgress,responseType:sn.responseType||"json",withCredentials:sn.withCredentials})}const gn=(0,z.of)(Hn).pipe((0,Ce.b)(Rr=>this.handler.handle(Rr)));if(Ot instanceof Et||"events"===sn.observe)return gn;const Pr=gn.pipe((0,De.h)(Rr=>Rr instanceof rr));switch(sn.observe||"body"){case"body":switch(Hn.responseType){case"arraybuffer":return Pr.pipe((0,Ue.U)(Rr=>{if(null!==Rr.body&&!(Rr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Rr.body}));case"blob":return Pr.pipe((0,Ue.U)(Rr=>{if(null!==Rr.body&&!(Rr.body instanceof Blob))throw new Error("Response is not a Blob.");return Rr.body}));case"text":return Pr.pipe((0,Ue.U)(Rr=>{if(null!==Rr.body&&"string"!=typeof Rr.body)throw new Error("Response is not a string.");return Rr.body}));default:return Pr.pipe((0,Ue.U)(Rr=>Rr.body))}case"response":return Pr;default:throw new Error(`Unreachable: unhandled observe type ${sn.observe}}`)}}delete(Ot,fn={}){return this.request("DELETE",Ot,fn)}get(Ot,fn={}){return this.request("GET",Ot,fn)}head(Ot,fn={}){return this.request("HEAD",Ot,fn)}jsonp(Ot,fn){return this.request("JSONP",Ot,{params:(new Le).append(fn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ot,fn={}){return this.request("OPTIONS",Ot,fn)}patch(Ot,fn,sn={}){return this.request("PATCH",Ot,Sr(sn,fn))}post(Ot,fn,sn={}){return this.request("POST",Ot,Sr(sn,fn))}put(Ot,fn,sn={}){return this.request("PUT",Ot,Sr(sn,fn))}}return(dt=ze).\u0275fac=function(Ot){return new(Ot||dt)(g.LFG(Se))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac}),ze})();function qe(dt,ze){return ze(dt)}function jt(dt,ze){return(Rt,Ot)=>ze.intercept(Rt,{handle:fn=>dt(fn,Ot)})}const hn=new g.OlP(""),Cn=new g.OlP(""),Bn=new g.OlP("");function xr(){let dt=null;return(ze,Rt)=>{null===dt&&(dt=((0,g.f3M)(hn,{optional:!0})??[]).reduceRight(jt,qe));const Ot=(0,g.f3M)(g.HDt),fn=Ot.add();return dt(ze,Rt).pipe((0,ke.x)(()=>Ot.remove(fn)))}}let Fn=(()=>{var dt;class ze extends Se{constructor(Ot,fn){super(),this.backend=Ot,this.injector=fn,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Ot){if(null===this.chain){const sn=Array.from(new Set([...this.injector.get(Cn),...this.injector.get(Bn,[])]));this.chain=sn.reduceRight((Hn,gn)=>function en(dt,ze,Rt){return(Ot,fn)=>Rt.runInContext(()=>ze(Ot,sn=>dt(sn,fn)))}(Hn,gn,this.injector),qe)}const fn=this.pendingTasks.add();return this.chain(Ot,sn=>this.backend.handle(sn)).pipe((0,ke.x)(()=>this.pendingTasks.remove(fn)))}}return(dt=ze).\u0275fac=function(Ot){return new(Ot||dt)(g.LFG(Be),g.LFG(g.lqb))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac}),ze})();const ir=/^\)\]\}',?\n/;let Ar=(()=>{var dt;class ze{constructor(Ot){this.xhrFactory=Ot}handle(Ot){if("JSONP"===Ot.method)throw new g.vHH(-2800,!1);const fn=this.xhrFactory;return(fn.\u0275loadImpl?(0,H.D)(fn.\u0275loadImpl()):(0,z.of)(null)).pipe((0,Oe.w)(()=>new Ae.y(Hn=>{const gn=fn.build();if(gn.open(Ot.method,Ot.urlWithParams),Ot.withCredentials&&(gn.withCredentials=!0),Ot.headers.forEach((fr,ii)=>gn.setRequestHeader(fr,ii.join(","))),Ot.headers.has("Accept")||gn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ot.headers.has("Content-Type")){const fr=Ot.detectContentTypeHeader();null!==fr&&gn.setRequestHeader("Content-Type",fr)}if(Ot.responseType){const fr=Ot.responseType.toLowerCase();gn.responseType="json"!==fr?fr:"text"}const Pr=Ot.serializeBody();let Rr=null;const Ai=()=>{if(null!==Rr)return Rr;const fr=gn.statusText||"OK",ii=new ut(gn.getAllResponseHeaders()),Ri=function ai(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(gn)||Ot.url;return Rr=new er({headers:ii,status:gn.status,statusText:fr,url:Ri}),Rr},ks=()=>{let{headers:fr,status:ii,statusText:Ri,url:rs}=Ai(),br=null;204!==ii&&(br=typeof gn.response>"u"?gn.responseText:gn.response),0===ii&&(ii=br?200:0);let ji=ii>=200&&ii<300;if("json"===Ot.responseType&&"string"==typeof br){const Gr=br;br=br.replace(ir,"");try{br=""!==br?JSON.parse(br):null}catch(Ki){br=Gr,ji&&(ji=!1,br={error:Ki,text:br})}}ji?(Hn.next(new rr({body:br,headers:fr,status:ii,statusText:Ri,url:rs||void 0})),Hn.complete()):Hn.error(new Nr({error:br,headers:fr,status:ii,statusText:Ri,url:rs||void 0}))},Kr=fr=>{const{url:ii}=Ai(),Ri=new Nr({error:fr,status:gn.status||0,statusText:gn.statusText||"Unknown Error",url:ii||void 0});Hn.error(Ri)};let vi=!1;const ao=fr=>{vi||(Hn.next(Ai()),vi=!0);let ii={type:Nn.DownloadProgress,loaded:fr.loaded};fr.lengthComputable&&(ii.total=fr.total),"text"===Ot.responseType&&gn.responseText&&(ii.partialText=gn.responseText),Hn.next(ii)},Ds=fr=>{let ii={type:Nn.UploadProgress,loaded:fr.loaded};fr.lengthComputable&&(ii.total=fr.total),Hn.next(ii)};return gn.addEventListener("load",ks),gn.addEventListener("error",Kr),gn.addEventListener("timeout",Kr),gn.addEventListener("abort",Kr),Ot.reportProgress&&(gn.addEventListener("progress",ao),null!==Pr&&gn.upload&&gn.upload.addEventListener("progress",Ds)),gn.send(Pr),Hn.next({type:Nn.Sent}),()=>{gn.removeEventListener("error",Kr),gn.removeEventListener("abort",Kr),gn.removeEventListener("load",ks),gn.removeEventListener("timeout",Kr),Ot.reportProgress&&(gn.removeEventListener("progress",ao),null!==Pr&&gn.upload&&gn.upload.removeEventListener("progress",Ds)),gn.readyState!==gn.DONE&&gn.abort()}})))}}return(dt=ze).\u0275fac=function(Ot){return new(Ot||dt)(g.LFG(ye.JF))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac}),ze})();const Lr=new g.OlP("XSRF_ENABLED"),ur=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yr=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nr{}let Si=(()=>{var dt;class ze{constructor(Ot,fn,sn){this.doc=Ot,this.platform=fn,this.cookieName=sn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ot=this.doc.cookie||"";return Ot!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ye.Mx)(Ot,this.cookieName),this.lastCookieString=Ot),this.lastToken}}return(dt=ze).\u0275fac=function(Ot){return new(Ot||dt)(g.LFG(ye.K0),g.LFG(g.Lbi),g.LFG(ur))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac}),ze})();function di(dt,ze){const Rt=dt.url.toLowerCase();if(!(0,g.f3M)(Lr)||"GET"===dt.method||"HEAD"===dt.method||Rt.startsWith("http://")||Rt.startsWith("https://"))return ze(dt);const Ot=(0,g.f3M)(nr).getToken(),fn=(0,g.f3M)(yr);return null!=Ot&&!dt.headers.has(fn)&&(dt=dt.clone({headers:dt.headers.set(fn,Ot)})),ze(dt)}var Jr=function(dt){return dt[dt.Interceptors=0]="Interceptors",dt[dt.LegacyInterceptors=1]="LegacyInterceptors",dt[dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dt[dt.NoXsrfProtection=3]="NoXsrfProtection",dt[dt.JsonpSupport=4]="JsonpSupport",dt[dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",dt[dt.Fetch=6]="Fetch",dt}(Jr||{});function $t(dt,ze){return{\u0275kind:dt,\u0275providers:ze}}function Je(...dt){const ze=[ht,Ar,Fn,{provide:Se,useExisting:Fn},{provide:Be,useExisting:Ar},{provide:Cn,useValue:di,multi:!0},{provide:Lr,useValue:!0},{provide:nr,useClass:Si}];for(const Rt of dt)ze.push(...Rt.\u0275providers);return(0,g.MR2)(ze)}const Nt=new g.OlP("LEGACY_INTERCEPTOR_FN");let de=(()=>{var dt;class ze{}return(dt=ze).\u0275fac=function(Ot){return new(Ot||dt)},dt.\u0275mod=g.oAB({type:dt}),dt.\u0275inj=g.cJS({providers:[Je($t(Jr.LegacyInterceptors,[{provide:Nt,useFactory:xr},{provide:Cn,useExisting:Nt,multi:!0}]))]}),ze})()},5879:(un,it,k)=>{k.d(it,{$8M:()=>hd,$WT:()=>vr,$Z:()=>qp,AFp:()=>ry,ALo:()=>Qw,AaK:()=>Be,AsE:()=>vv,BQk:()=>Yy,CHM:()=>jc,CRH:()=>pb,DdM:()=>jw,EJc:()=>SC,EiD:()=>Sp,EpF:()=>Qy,F$t:()=>nv,F4k:()=>Jy,FYo:()=>jp,FiY:()=>fd,Gf:()=>hb,GfV:()=>_y,GkF:()=>Qa,Gpc:()=>wt,HDt:()=>Fb,Hsn:()=>M0,Ikx:()=>vo,IyS:()=>G0,JOm:()=>Eh,JVY:()=>Rf,JZr:()=>Qt,Jf7:()=>su,KtG:()=>Ln,L6k:()=>Am,LAX:()=>q_,LFG:()=>tn,LMc:()=>UD,LSH:()=>Mg,Lbi:()=>kf,Lck:()=>nc,MAs:()=>cg,MGl:()=>rp,MMx:()=>NI,MR2:()=>Cl,NdJ:()=>Rd,O4$:()=>In,Ojb:()=>oy,OlP:()=>Ts,Oqu:()=>op,P3R:()=>bl,PXZ:()=>eD,Q6J:()=>ep,QGY:()=>tc,QbO:()=>sy,Qsj:()=>Lm,R0b:()=>Ya,RDi:()=>Vv,Rgc:()=>XE,SBq:()=>Bp,SDv:()=>pi,Sil:()=>MC,Suo:()=>fb,TTD:()=>aa,TgZ:()=>uh,Tol:()=>M_,Udp:()=>od,VKq:()=>Hw,VuI:()=>LD,W1O:()=>yb,WLB:()=>$w,X6Q:()=>lD,XFs:()=>kn,Xpm:()=>Io,Xq5:()=>Hy,Xts:()=>so,Y36:()=>qh,YKP:()=>Rs,YNc:()=>b0,Yjl:()=>Zt,Yz7:()=>hn,Z0I:()=>Fn,ZZ4:()=>Aw,_Bn:()=>Zr,_UZ:()=>Ad,_Vd:()=>Vp,_c5:()=>TD,_uU:()=>gv,aQg:()=>Rw,c2e:()=>Lb,cJS:()=>Bn,cg1:()=>jE,d8E:()=>oo,dDg:()=>YC,dqk:()=>Ar,eBb:()=>$v,eFA:()=>Kb,eJc:()=>hw,ekj:()=>hh,eoX:()=>$b,f3M:()=>dn,g9A:()=>iy,h0i:()=>Wr,hGG:()=>CD,hij:()=>mg,iGM:()=>db,ifc:()=>sn,ip1:()=>kb,jDz:()=>Em,kEZ:()=>Gw,kL8:()=>aI,kcU:()=>or,l5B:()=>zw,lG2:()=>bt,lcZ:()=>Jw,lqb:()=>Yu,lri:()=>jb,mCW:()=>Mf,n5z:()=>ea,oAB:()=>Fi,oJD:()=>Ap,oxw:()=>np,pB0:()=>Z_,q3G:()=>qu,q4F:()=>Fm,qFp:()=>VD,qLn:()=>Wh,qOj:()=>Zf,qZA:()=>yc,qzn:()=>Xc,rWj:()=>Hb,rg0:()=>nl,s9C:()=>mm,sBO:()=>cD,s_b:()=>FI,soG:()=>VI,tb:()=>ww,tp0:()=>$u,uIk:()=>Gy,vHH:()=>Le,vpe:()=>iu,wAp:()=>O_,xi3:()=>Xw,xp6:()=>Kp,ynx:()=>tp,z2F:()=>nE,z3N:()=>Za,zSh:()=>Og,zW0:()=>Xm,zs3:()=>nu});var g=k(8645),z=k(7394),H=k(5592),Ae=k(3019),Ce=k(5619),De=k(2096),Ue=k(3020),ke=k(4664),Oe=k(3997);function ye(n){for(let i in n)if(n[i]===ye)return i;throw Error("Could not find renamed property on target object.")}function Se(n,i){for(const c in i)i.hasOwnProperty(c)&&!n.hasOwnProperty(c)&&(n[c]=i[c])}function Be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const c=i.indexOf("\n");return-1===c?i:i.substring(0,c)}function ut(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ct=ye({__forward_ref__:ye});function wt(n){return n.__forward_ref__=wt,n.toString=function(){return Be(this())},n}function ft(n){return Ut(n)?n():n}function Ut(n){return"function"==typeof n&&n.hasOwnProperty(ct)&&n.__forward_ref__===wt}function Ft(n){return n&&!!n.\u0275providers}const Qt="https://g.co/ng/security#xss";class Le extends Error{constructor(i,c){super(function Qe(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,c)),this.code=i}}function He(n){return"string"==typeof n?n:null==n?"":String(n)}function Bt(n,i){throw new Le(-201,!1)}function Te(n,i,c,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${c} ${d} ${i} <=Actual]`))}function hn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function xr(n){return Er(n,Kn)||Er(n,Ei)}function Fn(n){return null!==xr(n)}function Er(n,i){return n.hasOwnProperty(i)?n[i]:null}function ui(n){return n&&(n.hasOwnProperty(hr)||n.hasOwnProperty(yi))?n[hr]:null}const Kn=ye({\u0275prov:ye}),hr=ye({\u0275inj:ye}),Ei=ye({ngInjectableDef:ye}),yi=ye({ngInjectorDef:ye});var kn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(kn||{});let Wn;function Tr(n){const i=Wn;return Wn=n,i}function ir(n,i,c){const d=xr(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&kn.Optional?null:void 0!==i?i:void Bt(Be(n))}const Ar=globalThis,Nt={},vn="__NG_DI_FLAG__",Vn="ngTempTokenPath",ve=/\n/gm,X="__source";let pe;function je(n){const i=pe;return pe=n,i}function St(n,i=kn.Default){if(void 0===pe)throw new Le(-203,!1);return null===pe?ir(n,void 0,i):pe.get(n,i&kn.Optional?null:void 0,i)}function tn(n,i=kn.Default){return(function Gn(){return Wn}()||St)(ft(n),i)}function dn(n,i=kn.Default){return tn(n,Rn(i))}function Rn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qn(n){const i=[];for(let c=0;c<n.length;c++){const d=ft(n[c]);if(Array.isArray(d)){if(0===d.length)throw new Le(900,!1);let f,y=kn.Default;for(let C=0;C<d.length;C++){const P=d[C],j=dt(P);"number"==typeof j?-1===j?f=P.token:y|=j:f=P}i.push(tn(f,y))}else i.push(tn(d))}return i}function Yr(n,i){return n[vn]=i,n.prototype[vn]=i,n}function dt(n){return n[vn]}function Ot(n){return{toString:n}.toString()}var fn=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fn||{}),sn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(sn||{});const Hn={},gn=[],Pr=ye({\u0275cmp:ye}),Rr=ye({\u0275dir:ye}),Ai=ye({\u0275pipe:ye}),ks=ye({\u0275mod:ye}),Kr=ye({\u0275fac:ye}),vi=ye({__NG_ELEMENT_ID__:ye}),ao=ye({__NG_ENV_ID__:ye});function Ds(n,i,c){let d=n.length;for(;;){const f=n.indexOf(i,c);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const y=i.length;if(f+y===d||n.charCodeAt(f+y)<=32)return f}c=f+1}}function fr(n,i,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const y=c[d++],C=c[d++],P=c[d++];n.setAttribute(i,C,P,y)}else{const y=f,C=c[++d];Ri(y)?n.setProperty(i,y,C):n.setAttribute(i,y,C),d++}}return d}function ii(n){return 3===n||4===n||6===n}function Ri(n){return 64===n.charCodeAt(0)}function rs(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let c=-1;for(let d=0;d<i.length;d++){const f=i[d];"number"==typeof f?c=f:0===c||br(n,c,f,null,-1===c||2===c?i[++d]:null)}}return n}function br(n,i,c,d,f){let y=0,C=n.length;if(-1===i)C=-1;else for(;y<n.length;){const P=n[y++];if("number"==typeof P){if(P===i){C=-1;break}if(P>i){C=y-1;break}}}for(;y<n.length;){const P=n[y];if("number"==typeof P)break;if(P===c){if(null===d)return void(null!==f&&(n[y+1]=f));if(d===n[y+1])return void(n[y+2]=f)}y++,null!==d&&y++,null!==f&&y++}-1!==C&&(n.splice(C,0,i),y=C+1),n.splice(y++,0,c),null!==d&&n.splice(y++,0,d),null!==f&&n.splice(y++,0,f)}const ji="ng-template";function Gr(n,i,c){let d=0,f=!0;for(;d<n.length;){let y=n[d++];if("string"==typeof y&&f){const C=n[d++];if(c&&"class"===y&&-1!==Ds(C.toLowerCase(),i,0))return!0}else{if(1===y){for(;d<n.length&&"string"==typeof(y=n[d++]);)if(y.toLowerCase()===i)return!0;return!1}"number"==typeof y&&(f=!1)}}return!1}function Ki(n){return 4===n.type&&n.value!==ji}function qi(n,i,c){return i===(4!==n.type||c?n.value:ji)}function Ls(n,i,c){let d=4;const f=n.attrs||[],y=function Xa(n){for(let i=0;i<n.length;i++)if(ii(n[i]))return i;return n.length}(f);let C=!1;for(let P=0;P<i.length;P++){const j=i[P];if("number"!=typeof j){if(!C)if(4&d){if(d=2|1&d,""!==j&&!qi(n,j,c)||""===j&&1===i.length){if(Zi(d))return!1;C=!0}}else{const oe=8&d?j:i[++P];if(8&d&&null!==n.attrs){if(!Gr(n.attrs,oe,c)){if(Zi(d))return!1;C=!0}continue}const $e=Fs(8&d?"class":j,f,Ki(n),c);if(-1===$e){if(Zi(d))return!1;C=!0;continue}if(""!==oe){let yt;yt=$e>y?"":f[$e+1].toLowerCase();const Lt=8&d?yt:null;if(Lt&&-1!==Ds(Lt,oe,0)||2&d&&oe!==yt){if(Zi(d))return!1;C=!0}}}}else{if(!C&&!Zi(d)&&!Zi(j))return!1;if(C&&Zi(j))continue;C=!1,d=j|1&d}}return Zi(d)||C}function Zi(n){return 0==(1&n)}function Fs(n,i,c,d){if(null===i)return-1;let f=0;if(d||!c){let y=!1;for(;f<i.length;){const C=i[f];if(C===n)return f;if(3===C||6===C)y=!0;else{if(1===C||2===C){let P=i[++f];for(;"string"==typeof P;)P=i[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=y?1:2}return-1}return function lo(n,i){let c=n.indexOf(4);if(c>-1)for(c++;c<n.length;){const d=n[c];if("number"==typeof d)return-1;if(d===i)return c;c++}return-1}(i,n)}function Eo(n,i,c=!1){for(let d=0;d<i.length;d++)if(Ls(n,i[d],c))return!0;return!1}function fa(n,i){e:for(let c=0;c<i.length;c++){const d=i[c];if(n.length===d.length){for(let f=0;f<n.length;f++)if(n[f]!==d[f])continue e;return!0}}return!1}function Hi(n,i){return n?":not("+i.trim()+")":i}function Ko(n){let i=n[0],c=1,d=2,f="",y=!1;for(;c<n.length;){let C=n[c];if("string"==typeof C)if(2&d){const P=n[++c];f+="["+C+(P.length>0?'="'+P+'"':"")+"]"}else 8&d?f+="."+C:4&d&&(f+=" "+C);else""!==f&&!Zi(C)&&(i+=Hi(y,f),f=""),d=C,y=y||!Zi(d);c++}return""!==f&&(i+=Hi(y,f)),i}function Io(n){return Ot(()=>{const i=Mi(n),c={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sn.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""};co(c);const d=n.dependencies;return c.directiveDefs=Ii(d,!1),c.pipeDefs=Ii(d,!0),c.id=function Es(n){let i=0;const c=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of c)i=Math.imul(31,i)+f.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(c),c})}function Ao(n){return Wt(n)||Sn(n)}function Lo(n){return null!==n}function Fi(n){return Ot(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ot(n,i){if(null==n)return Hn;const c={};for(const d in n)if(n.hasOwnProperty(d)){let f=n[d],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),c[f]=d,i&&(i[f]=y)}return c}function bt(n){return Ot(()=>{const i=Mi(n);return co(i),i})}function Zt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wt(n){return n[Pr]||null}function Sn(n){return n[Rr]||null}function lr(n){return n[Ai]||null}function vr(n){const i=Wt(n)||Sn(n)||lr(n);return null!==i&&i.standalone}function dr(n,i){const c=n[ks]||null;if(!c&&!0===i)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return c}function Mi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:n.inputs||Hn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ot(n.inputs,i),outputs:ot(n.outputs)}}function co(n){n.features?.forEach(i=>i(n))}function Ii(n,i){if(!n)return null;const c=i?lr:Ao;return()=>("function"==typeof n?n():n).map(d=>c(d)).filter(Lo)}const Xr=0,Mn=1,Qn=2,si=3,Zn=4,Ro=5,ki=6,is=7,wi=8,ds=9,oa=10,sr=11,li=12,wo=13,uo=14,bi=15,Vr=16,Ss=17,Fr=18,Is=19,qs=20,Zo=21,Ms=22,ws=23,bo=24,Cr=25,Us=1,Vs=2,ps=7,Xi=9,Bs=11;function $i(n){return Array.isArray(n)&&"object"==typeof n[Us]}function fi(n){return Array.isArray(n)&&!0===n[Us]}function Yo(n){return 0!=(4&n.flags)}function js(n){return n.componentOffset>-1}function es(n){return 1==(1&n.flags)}function Or(n){return!!n.template}function pa(n){return 0!=(512&n[Qn])}function Os(n,i){return n.hasOwnProperty(Kr)?n[Kr]:null}let el=Ar.WeakRef??class _a{constructor(i){this.ref=i}deref(){return this.ref}},ml=0,To=null,Oa=!1;function hs(n){const i=To;return To=n,i}class rc{constructor(){this.id=ml++,this.ref=function tl(n){return new el(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,c]of this.producers){const d=c.producerNode.deref();if(null!=d&&c.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(i),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Oa;Oa=!0;try{for(const[c,d]of this.consumers){const f=d.consumerNode.deref();null!=f&&f.trackingVersion===d.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),f?.producers.delete(this.id))}}finally{Oa=i}}producerAccessed(){if(Oa)throw new Error("");if(null===To)return;let i=To.producers.get(this.id);void 0===i?(i={consumerNode:To.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:To.trackingVersion},To.producers.set(this.id,i),this.consumers.set(To.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=To.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==To?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Co=null;function nl(n){const i=hs(null);try{return n()}finally{hs(i)}}const Oo=()=>{};class Vc extends rc{constructor(i,c,d){super(),this.watch=i,this.schedule=c,this.dirty=!1,this.cleanupFn=Oo,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=hs(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Oo,this.watch(this.registerOnCleanup)}finally{hs(i)}}cleanup(){this.cleanupFn()}}class zl{constructor(i,c,d){this.previousValue=i,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function aa(){return wc}function wc(n){return n.type.prototype.ngOnChanges&&(n.setInput=la),fo}function fo(){const n=N(this),i=n?.current;if(i){const c=n.previous;if(c===Hn)n.previous=i;else for(let d in i)c[d]=i[d];n.current=null,this.ngOnChanges(i)}}function la(n,i,c,d){const f=this.declaredInputs[c],y=N(n)||function re(n,i){return n[Ti]=i}(n,{previous:Hn,current:null}),C=y.current||(y.current={}),P=y.previous,j=P[f];C[f]=new zl(j&&j.currentValue,i,P===Hn),n[d]=i}aa.ngInherit=!0;const Ti="__ngSimpleChanges__";function N(n){return n[Ti]||null}const M=function(n,i,c){},K="svg";function fe(n){for(;Array.isArray(n);)n=n[Xr];return n}function st(n,i){return fe(i[n])}function nt(n,i){return fe(i[n.index])}function Jt(n,i){return n.data[i]}function mn(n,i){return n[i]}function on(n,i){const c=i[n];return $i(c)?c:c[Xr]}function ei(n,i){return null==i?null:n[i]}function ts(n){n[Ss]=0}function Ui(n){1024&n[Qn]||(n[Qn]|=1024,ss(n,1))}function Ys(n){1024&n[Qn]&&(n[Qn]&=-1025,ss(n,-1))}function ss(n,i){let c=n[si];if(null===c)return;c[Ro]+=i;let d=c;for(c=c[si];null!==c&&(1===i&&1===d[Ro]||-1===i&&0===d[Ro]);)c[Ro]+=i,d=c,c=c[si]}const cr={lFrame:_l(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xo(){return cr.bindingsEnabled}function oc(){return null!==cr.skipHydrationRootTNode}function pt(){return cr.lFrame.lView}function wn(){return cr.lFrame.tView}function jc(n){return cr.lFrame.contextLView=n,n[wi]}function Ln(n){return cr.lFrame.contextLView=null,n}function kt(){let n=an();for(;null!==n&&64===n.type;)n=n.parent;return n}function an(){return cr.lFrame.currentTNode}function ci(){const n=cr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Jo(n,i){const c=cr.lFrame;c.currentTNode=n,c.isParent=i}function Xo(){return cr.lFrame.isParent}function ms(){cr.lFrame.isParent=!1}function Vo(){const n=cr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function il(){return cr.lFrame.bindingIndex}function Pl(){return cr.lFrame.bindingIndex++}function No(n){const i=cr.lFrame,c=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,c}function sl(n){cr.lFrame.inI18n=n}function Wl(n,i){const c=cr.lFrame;c.bindingIndex=c.bindingRootIndex=n,gr(i)}function gr(n){cr.lFrame.currentDirectiveIndex=n}function xa(n){const i=cr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Ci(){return cr.lFrame.currentQueryIndex}function fu(n){cr.lFrame.currentQueryIndex=n}function $s(n){const i=n[Mn];return 2===i.type?i.declTNode:1===i.type?n[ki]:null}function xn(n,i,c){if(c&kn.SkipSelf){let f=i,y=n;for(;!(f=f.parent,null!==f||c&kn.Host||(f=$s(y),null===f||(y=y[uo],10&f.type))););if(null===f)return!1;i=f,n=y}const d=cr.lFrame=Ol();return d.currentTNode=i,d.lView=n,!0}function ac(n){const i=Ol(),c=n[Mn];cr.lFrame=i,i.currentTNode=c.firstChild,i.lView=n,i.tView=c,i.contextLView=n,i.bindingIndex=c.bindingStartIndex,i.inI18n=!1}function Ol(){const n=cr.lFrame,i=null===n?null:n.child;return null===i?_l(n):i}function _l(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function O(){const n=cr.lFrame;return cr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const B=O;function W(){const n=O();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _e(){return cr.lFrame.selectedIndex}function Re(n){cr.lFrame.selectedIndex=n}function gt(){const n=cr.lFrame;return Jt(n.tView,n.selectedIndex)}function In(){cr.lFrame.currentNamespace=K}function or(){!function ti(){cr.lFrame.currentNamespace=null}()}let Oi=!0;function os(){return Oi}function Wa(n){Oi=n}function Do(n,i){for(let c=i.directiveStart,d=i.directiveEnd;c<d;c++){const y=n.data[c].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:P,ngAfterViewInit:j,ngAfterViewChecked:oe,ngOnDestroy:ge}=y;C&&(n.contentHooks??=[]).push(-c,C),P&&((n.contentHooks??=[]).push(c,P),(n.contentCheckHooks??=[]).push(c,P)),j&&(n.viewHooks??=[]).push(-c,j),oe&&((n.viewHooks??=[]).push(c,oe),(n.viewCheckHooks??=[]).push(c,oe)),null!=ge&&(n.destroyHooks??=[]).push(c,ge)}}function Kl(n,i,c){lc(n,i,3,c)}function Na(n,i,c,d){(3&n[Qn])===c&&lc(n,i,c,d)}function pu(n,i){let c=n[Qn];(3&c)===i&&(c&=8191,c+=1,n[Qn]=c)}function lc(n,i,c,d){const y=d??-1,C=i.length-1;let P=0;for(let j=void 0!==d?65535&n[Ss]:0;j<C;j++)if("number"==typeof i[j+1]){if(P=i[j],null!=d&&P>=d)break}else i[j]<0&&(n[Ss]+=65536),(P<y||-1==y)&&(xl(n,c,i,j),n[Ss]=(4294901760&n[Ss])+j+2),j++}function xd(n,i){M(4,n,i);const c=hs(null);try{i.call(n)}finally{hs(c),M(5,n,i)}}function xl(n,i,c,d){const f=c[d]<0,y=c[d+1],P=n[f?-c[d]:c[d]];f?n[Qn]>>13<n[Ss]>>16&&(3&n[Qn])===i&&(n[Qn]+=8192,xd(P,y)):xd(P,y)}const Xs=-1;class po{constructor(i,c,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function gu(n){return n!==Xs}function Hc(n){return 32767&n}function $c(n,i){let c=function mh(n){return n>>16}(n),d=i;for(;c>0;)d=d[uo],c--;return d}let Gc=!0;function Tc(n){const i=Gc;return Gc=n,i}const _f=255,zc=5;let _h=0;const zs={};function Vu(n,i){const c=Nd(n,i);if(-1!==c)return c;const d=i[Mn];d.firstCreatePass&&(n.injectorIndex=i.length,Wc(d.data,n),Wc(i,null),Wc(d.blueprint,null));const f=ql(n,i),y=n.injectorIndex;if(gu(f)){const C=Hc(f),P=$c(f,i),j=P[Mn].data;for(let oe=0;oe<8;oe++)i[y+oe]=P[C+oe]|j[C+oe]}return i[y+8]=f,y}function Wc(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Nd(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ql(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let c=0,d=null,f=i;for(;null!==f;){if(d=Ws(f),null===d)return Xs;if(c++,f=f[uo],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Xs}function yu(n,i,c){!function _u(n,i,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(vi)&&(d=c[vi]),null==d&&(d=c[vi]=_h++);const f=d&_f;i.data[n+(f>>zc)]|=1<<f}(n,i,c)}function Kc(n,i,c){if(c&kn.Optional||void 0!==n)return n;Bt()}function Bu(n,i,c,d){if(c&kn.Optional&&void 0===d&&(d=null),!(c&(kn.Self|kn.Host))){const f=n[ds],y=Tr(void 0);try{return f?f.get(i,d,c&kn.Optional):ir(i,d,c&kn.Optional)}finally{Tr(y)}}return Kc(d,0,c)}function vu(n,i,c,d=kn.Default,f){if(null!==n){if(2048&i[Qn]&&!(d&kn.Self)){const C=function kd(n,i,c,d,f){let y=n,C=i;for(;null!==y&&null!==C&&2048&C[Qn]&&!(512&C[Qn]);){const P=ju(y,C,c,d|kn.Self,zs);if(P!==zs)return P;let j=y.parent;if(!j){const oe=C[qs];if(oe){const ge=oe.get(c,zs,d);if(ge!==zs)return ge}j=Ws(C),C=C[uo]}y=j}return f}(n,i,c,d,zs);if(C!==zs)return C}const y=ju(n,i,c,d,zs);if(y!==zs)return y}return Bu(i,c,d,f)}function ju(n,i,c,d,f){const y=function yf(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(vi)?n[vi]:void 0;return"number"==typeof i?i>=0?i&_f:Cc:i}(c);if("function"==typeof y){if(!xn(i,n,d))return d&kn.Host?Kc(f,0,d):Bu(i,c,d,f);try{let C;if(C=y(d),null!=C||d&kn.Optional)return C;Bt()}finally{B()}}else if("number"==typeof y){let C=null,P=Nd(n,i),j=Xs,oe=d&kn.Host?i[bi][ki]:null;for((-1===P||d&kn.SkipSelf)&&(j=-1===P?ql(n,i):i[P+8],j!==Xs&&Nl(d,!1)?(C=i[Mn],P=Hc(j),i=$c(j,i)):P=-1);-1!==P;){const ge=i[Mn];if(as(y,P,ge.data)){const $e=Bo(P,i,c,C,d,oe);if($e!==zs)return $e}j=i[P+8],j!==Xs&&Nl(d,i[Mn].data[P+8]===oe)&&as(y,P,i)?(C=ge,P=Hc(j),i=$c(j,i)):P=-1}}return f}function Bo(n,i,c,d,f,y){const C=i[Mn],P=C.data[n+8],ge=Hu(P,C,c,null==d?js(P)&&Gc:d!=C&&0!=(3&P.type),f&kn.Host&&y===P);return null!==ge?ca(i,C,ge,P):zs}function Hu(n,i,c,d,f){const y=n.providerIndexes,C=i.data,P=1048575&y,j=n.directiveStart,ge=y>>20,yt=f?P+ge:n.directiveEnd;for(let Lt=d?P:P+ge;Lt<yt;Lt++){const ln=C[Lt];if(Lt<j&&c===ln||Lt>=j&&ln.type===c)return Lt}if(f){const Lt=C[j];if(Lt&&Or(Lt)&&Lt.type===c)return j}return null}function ca(n,i,c,d){let f=n[c];const y=i.data;if(function Fu(n){return n instanceof po}(f)){const C=f;C.resolving&&function Pt(n,i){const c=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Le(-200,`Circular dependency in DI detected for ${n}${c}`)}(function vt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(y[c]));const P=Tc(C.canSeeViewProviders);C.resolving=!0;const oe=C.injectImpl?Tr(C.injectImpl):null;xn(n,d,kn.Default);try{f=n[c]=C.factory(void 0,y,n,d),i.firstCreatePass&&c>=d.directiveStart&&function ol(n,i,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:y}=i.type.prototype;if(d){const C=wc(i);(c.preOrderHooks??=[]).push(n,C),(c.preOrderCheckHooks??=[]).push(n,C)}f&&(c.preOrderHooks??=[]).push(0-n,f),y&&((c.preOrderHooks??=[]).push(n,y),(c.preOrderCheckHooks??=[]).push(n,y))}(c,y[c],i)}finally{null!==oe&&Tr(oe),Tc(P),C.resolving=!1,B()}}return f}function as(n,i,c){return!!(c[i+(n>>zc)]&1<<n)}function Nl(n,i){return!(n&kn.Self||n&kn.Host&&i)}class mo{constructor(i,c){this._tNode=i,this._lView=c}get(i,c,d){return vu(this._tNode,this._lView,i,Rn(d),c)}}function Cc(){return new mo(kt(),pt())}function ea(n){return Ot(()=>{const i=n.prototype.constructor,c=i[Kr]||cc(i),d=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==d;){const y=f[Kr]||cc(f);if(y&&y!==c)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function cc(n){return Ut(n)?()=>{const i=cc(ft(n));return i&&i()}:Os(n)}function Ws(n){const i=n[Mn],c=i.type;return 2===c?i.declTNode:1===c?n[ki]:null}function hd(n){return function dd(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const c=n.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const y=c[f];if(ii(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(y===i)return c[f+1];f+=2}}}return null}(kt(),n)}const _s="__parameters__";function kl(n,i,c){return Ot(()=>{const d=function ll(n){return function(...c){if(n){const d=n(...c);for(const f in d)this[f]=d[f]}}}(i);function f(...y){if(this instanceof f)return d.apply(this,y),this;const C=new f(...y);return P.annotation=C,P;function P(j,oe,ge){const $e=j.hasOwnProperty(_s)?j[_s]:Object.defineProperty(j,_s,{value:[]})[_s];for(;$e.length<=ge;)$e.push(null);return($e[ge]=$e[ge]||[]).push(C),j}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}function Tt(n,i){n.forEach(c=>Array.isArray(c)?Tt(c,i):i(c))}function Yt(n,i,c){i>=n.length?n.push(c):n.splice(i,0,c)}function On(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function An(n,i){const c=[];for(let d=0;d<n;d++)c.push(i);return c}function zr(n,i,c){let d=Gi(n,i);return d>=0?n[1|d]=c:(d=~d,function qr(n,i,c,d){let f=n.length;if(f==i)n.push(c,d);else if(1===f)n.push(d,n[0]),n[0]=c;else{for(f--,n.push(n[f-1],n[f]);f>i;)n[f]=n[f-2],f--;n[i]=c,n[i+1]=d}}(n,d,i,c)),d}function uc(n,i){const c=Gi(n,i);if(c>=0)return n[1|c]}function Gi(n,i){return function dl(n,i,c){let d=0,f=n.length>>c;for(;f!==d;){const y=d+(f-d>>1),C=n[y<<c];if(i===C)return y<<c;C>i?f=y:d=y+1}return~(f<<c)}(n,i,1)}const fd=Yr(kl("Optional"),8),$u=Yr(kl("SkipSelf"),4);function pc(n){return 128==(128&n.flags)}var Eh=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Eh||{});const ni=/^>|^->|<!--|-->|--!>|<!-$/g,Ef=/(<|>)/g,Ql="\u200b$1\u200b";const _p=new Map;let yp=0;const Ch="__ngContext__";function da(n,i){$i(i)?(n[Ch]=i[Is],function mc(n){_p.set(n[Is],n)}(i)):n[Ch]=i}let Jc;function Dh(n,i){return Jc(n,i)}function Jl(n){const i=n[si];return fi(i)?i[si]:i}function wm(n){return Tf(n[li])}function jd(n){return Tf(n[Zn])}function Tf(n){for(;null!==n&&!fi(n);)n=n[Zn];return n}function S(n,i,c,d,f){if(null!=d){let y,C=!1;fi(d)?y=d:$i(d)&&(C=!0,d=d[Xr]);const P=fe(d);0===n&&null!==c?null==f?Cf(i,c,P):Oc(i,c,P,f||null,!0):1===n&&null!==c?Oc(i,c,P,f||null,!0):2===n?function Df(n,i,c){const d=Sh(n,i);d&&function Ep(n,i,c,d){n.removeChild(i,c,d)}(n,d,i,c)}(i,P,C):3===n&&i.destroyNode(P),null!=y&&function Cm(n,i,c,d,f){const y=c[ps];y!==fe(c)&&S(i,n,d,y,f);for(let P=Bs;P<c.length;P++){const j=c[P];gc(j[Mn],j,n,i,d,y)}}(i,n,y,c,f)}}function _(n,i){return n.createText(i)}function R(n,i){return n.createComment(function Ih(n){return n.replace(ni,i=>i.replace(Ef,Ql))}(i))}function se(n,i,c){return n.createElement(i,c)}function Jn(n,i){const c=n[Xi],d=c.indexOf(i);Ys(i),c.splice(d,1)}function io(n,i){if(n.length<=Bs)return;const c=Bs+i,d=n[c];if(d){const f=d[Vr];null!==f&&f!==n&&Jn(f,d),i>0&&(n[c-1][Zn]=d[Zn]);const y=On(n,Bs+i);!function me(n,i){gc(n,i,i[sr],2,null,null),i[Xr]=null,i[ki]=null}(d[Mn],d);const C=y[Fr];null!==C&&C.detachView(y[Mn]),d[si]=null,d[Zn]=null,d[Qn]&=-129}return d}function Xl(n,i){if(!(256&i[Qn])){const c=i[sr];i[ws]?.destroy(),i[bo]?.destroy(),c.destroyNode&&gc(n,i,c,3,null,null),function cn(n){let i=n[li];if(!i)return Hd(n[Mn],n);for(;i;){let c=null;if($i(i))c=i[li];else{const d=i[Bs];d&&(c=d)}if(!c){for(;i&&!i[Zn]&&i!==n;)$i(i)&&Hd(i[Mn],i),i=i[si];null===i&&(i=n),$i(i)&&Hd(i[Mn],i),c=i&&i[Zn]}i=c}}(i)}}function Hd(n,i){if(!(256&i[Qn])){i[Qn]&=-129,i[Qn]|=256,function $d(n,i){let c;if(null!=n&&null!=(c=n.destroyHooks))for(let d=0;d<c.length;d+=2){const f=i[c[d]];if(!(f instanceof po)){const y=c[d+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const P=f[y[C]],j=y[C+1];M(4,P,j);try{j.call(P)}finally{M(5,P,j)}}else{M(4,f,y);try{y.call(f)}finally{M(5,f,y)}}}}}(n,i),function ec(n,i){const c=n.cleanup,d=i[is];if(null!==c)for(let y=0;y<c.length-1;y+=2)if("string"==typeof c[y]){const C=c[y+3];C>=0?d[C]():d[-C].unsubscribe(),y+=2}else c[y].call(d[c[y+1]]);null!==d&&(i[is]=null);const f=i[Zo];if(null!==f){i[Zo]=null;for(let y=0;y<f.length;y++)(0,f[y])()}}(n,i),1===i[Mn].type&&i[sr].destroy();const c=i[Vr];if(null!==c&&fi(i[si])){c!==i[si]&&Jn(c,i);const d=i[Fr];null!==d&&d.detachView(n)}!function wh(n){_p.delete(n[Is])}(i)}}function yd(n,i,c){return Gd(n,i.parent,c)}function Gd(n,i,c){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return c[Xr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:y}=n.data[d.directiveStart+f];if(y===sn.None||y===sn.Emulated)return null}return nt(d,c)}}function Oc(n,i,c,d,f){n.insertBefore(i,c,d,f)}function Cf(n,i,c){n.appendChild(i,c)}function wu(n,i,c,d,f){null!==d?Oc(n,i,c,d,f):Cf(n,i,c)}function Sh(n,i){return n.parentNode(i)}function bg(n,i,c){return V_(n,i,c)}function Nv(n,i,c){return 40&n.type?nt(n,c):null}let bm,G_,z_,Dm,V_=Nv;function Tm(n,i){V_=n,bm=i}function zd(n,i,c,d){const f=yd(n,d,i),y=i[sr],P=bg(d.parent||i[ki],d,i);if(null!=f)if(Array.isArray(c))for(let j=0;j<c.length;j++)wu(y,f,c[j],P,!1);else wu(y,f,c,P,!1);void 0!==bm&&bm(y,d,i,c,f)}function wp(n,i){if(null!==i){const c=i.type;if(3&c)return nt(i,n);if(4&c)return ha(-1,n[i.index]);if(8&c){const d=i.child;if(null!==d)return wp(n,d);{const f=n[i.index];return fi(f)?ha(-1,f):fe(f)}}if(32&c)return Dh(i,n)()||fe(n[i.index]);{const d=kv(n,i);return null!==d?Array.isArray(d)?d[0]:wp(Jl(n[bi]),d):wp(n,i.next)}}return null}function kv(n,i){return null!==i?n[bi][ki].projection[i.projection]:null}function ha(n,i){const c=Bs+n+1;if(c<i.length){const d=i[c],f=d[Mn].firstChild;if(null!==f)return wp(d,f)}return i[ps]}function Sf(n,i,c,d,f,y,C){for(;null!=c;){const P=d[c.index],j=c.type;if(C&&0===i&&(P&&da(fe(P),d),c.flags|=2),32!=(32&c.flags))if(8&j)Sf(n,i,c.child,d,f,y,!1),S(i,n,f,P,y);else if(32&j){const oe=Dh(c,d);let ge;for(;ge=oe();)S(i,n,f,ge,y);S(i,n,f,P,y)}else 16&j?Tg(n,i,d,c,f,y):S(i,n,f,P,y);c=C?c.projectionNext:c.next}}function gc(n,i,c,d,f,y){Sf(c,d,n.firstChild,i,f,y,!1)}function Tg(n,i,c,d,f,y){const C=c[bi],j=C[ki].projection[d.projection];if(Array.isArray(j))for(let oe=0;oe<j.length;oe++)S(i,n,f,j[oe],y);else{let oe=j;const ge=C[si];pc(d)&&(oe.flags|=128),Sf(n,i,oe,ge,f,y,!0)}}function Dg(n,i,c){""===c?n.removeAttribute(i,"class"):n.setAttribute(i,"class",c)}function $_(n,i,c){const{mergedAttrs:d,classes:f,styles:y}=c;null!==d&&fr(n,i,d),null!==f&&Dg(n,i,f),null!==y&&function H_(n,i,c){n.setAttribute(i,"style",c)}(n,i,y)}function Af(n){return function bp(){if(void 0===G_&&(G_=null,Ar.trustedTypes))try{G_=Ar.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return G_}()?.createHTML(n)||n}function Vv(n){z_=n}function Tp(){if(void 0!==z_)return z_;if(typeof document<"u")return document;throw new Le(210,!1)}function W_(){if(void 0===Dm&&(Dm=null,Ar.trustedTypes))try{Dm=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dm}function Ah(n){return W_()?.createHTML(n)||n}function Bv(n){return W_()?.createScriptURL(n)||n}class Cp{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qt})`}}class jv extends Cp{getTypeName(){return"HTML"}}class Wd extends Cp{getTypeName(){return"Style"}}class Sm extends Cp{getTypeName(){return"Script"}}class Hv extends Cp{getTypeName(){return"URL"}}class K_ extends Cp{getTypeName(){return"ResourceURL"}}function Za(n){return n instanceof Cp?n.changingThisBreaksApplicationSecurity:n}function Xc(n,i){const c=function Mh(n){return n instanceof Cp&&n.getTypeName()||null}(n);if(null!=c&&c!==i){if("ResourceURL"===c&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${c} (see ${Qt})`)}return c===i}function Rf(n){return new jv(n)}function Am(n){return new Wd(n)}function $v(n){return new Sm(n)}function q_(n){return new Hv(n)}function Z_(n){return new K_(n)}function Sg(n){const i=new sE(n);return function Q_(){try{return!!(new window.DOMParser).parseFromString(Af(""),"text/html")}catch{return!1}}()?new Y_(i):i}class Y_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const c=(new window.DOMParser).parseFromString(Af(i),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(i):(c.removeChild(c.firstChild),c)}catch{return null}}}class sE{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const c=this.inertDocument.createElement("template");return c.innerHTML=Af(i),c}}const Rm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mf(n){return(n=String(n)).match(Rm)?n:"unsafe:"+n}function eu(n){const i={};for(const c of n.split(","))i[c]=!0;return i}function Ku(...n){const i={};for(const c of n)for(const d in c)c.hasOwnProperty(d)&&(i[d]=!0);return i}const Gv=eu("area,br,col,hr,img,wbr"),J_=eu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oE=eu("rp,rt"),Kd=Ku(Gv,Ku(J_,eu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ku(oE,eu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ku(oE,J_)),tu=eu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),X_=Ku(tu,eu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cE=eu("script,style,template");class Rg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let c=i.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(i){const c=i.nodeName.toLowerCase();if(!Kd.hasOwnProperty(c))return this.sanitizedSomething=!0,!cE.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=i.attributes;for(let f=0;f<d.length;f++){const y=d.item(f),C=y.name,P=C.toLowerCase();if(!X_.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let j=y.value;tu[P]&&(j=Mf(j)),this.buf.push(" ",C,'="',ty(j),'"')}return this.buf.push(">"),!0}endElement(i){const c=i.nodeName.toLowerCase();Kd.hasOwnProperty(c)&&!Gv.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(i){this.buf.push(ty(i))}checkClobberedElement(i,c){if(c&&(i.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return c}}const ey=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zv=/([^\#-~ |!])/g;function ty(n){return n.replace(/&/g,"&amp;").replace(ey,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(zv,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dp;function Sp(n,i){let c=null;try{Dp=Dp||Sg(n);let d=i?String(i):"";c=Dp.getInertBodyElement(d);let f=5,y=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=y,y=c.innerHTML,c=Dp.getInertBodyElement(d)}while(d!==y);return Af((new Rg).sanitizeChildren(Pf(c)||c))}finally{if(c){const d=Pf(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Pf(n){return"content"in n&&function Wv(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qu||{});function Ap(n){const i=Zd();return i?Ah(i.sanitize(qu.HTML,n)||""):Xc(n,"HTML")?Ah(Za(n)):Sp(Tp(),He(n))}function Mg(n){const i=Zd();return i?i.sanitize(qu.URL,n)||"":Xc(n,"URL")?Za(n):Mf(He(n))}function Of(n){const i=Zd();if(i)return Bv(i.sanitize(qu.RESOURCE_URL,n)||"");if(Xc(n,"ResourceURL"))return Bv(Za(n));throw new Le(904,!1)}function bl(n,i,c){return function ny(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Of:Mg}(i,c)(n)}function Zd(){const n=pt();return n&&n[oa].sanitizer}class Ts{constructor(i,c){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=hn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const so=new Ts("ENVIRONMENT_INITIALIZER"),Zu=new Ts("INJECTOR",-1),Pm=new Ts("INJECTOR_DEF_TYPES");class Tl{get(i,c=Nt){if(c===Nt){const d=new Error(`NullInjectorError: No provider for ${Be(i)}!`);throw d.name="NullInjectorError",d}return c}}function Cl(n){return{\u0275providers:n}}function Rp(...n){return{\u0275providers:Mp(0,n),\u0275fromNgModule:!0}}function Mp(n,...i){const c=[],d=new Set;let f;const y=C=>{c.push(C)};return Tt(i,C=>{const P=C;bu(P,y,[],d)&&(f||=[],f.push(P))}),void 0!==f&&Yd(f,y),c}function Yd(n,i){for(let c=0;c<n.length;c++){const{ngModule:d,providers:f}=n[c];Ed(f,y=>{i(y,d)})}}function bu(n,i,c,d){if(!(n=ft(n)))return!1;let f=null,y=ui(n);const C=!y&&Wt(n);if(y||C){if(C&&!C.standalone)return!1;f=n}else{const j=n.ngModule;if(y=ui(j),!y)return!1;f=j}const P=d.has(f);if(C){if(P)return!1;if(d.add(f),C.dependencies){const j="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const oe of j)bu(oe,i,c,d)}}else{if(!y)return!1;{if(null!=y.imports&&!P){let oe;d.add(f);try{Tt(y.imports,ge=>{bu(ge,i,c,d)&&(oe||=[],oe.push(ge))})}finally{}void 0!==oe&&Yd(oe,i)}if(!P){const oe=Os(f)||(()=>new f);i({provide:f,useFactory:oe,deps:gn},f),i({provide:Pm,useValue:f,multi:!0},f),i({provide:so,useValue:()=>tn(f),multi:!0},f)}const j=y.providers;if(null!=j&&!P){const oe=n;Ed(j,ge=>{i(ge,oe)})}}}return f!==n&&void 0!==n.providers}function Ed(n,i){for(let c of n)Ft(c)&&(c=c.\u0275providers),Array.isArray(c)?Ed(c,i):i(c)}const dE=ye({provide:String,useValue:ye});function Oh(n){return null!==n&&"object"==typeof n&&dE in n}function jo(n){return"function"==typeof n}const Og=new Ts("Set Injector scope."),xg={},qv={};let Qd;function xh(){return void 0===Qd&&(Qd=new Tl),Qd}class Yu{}class Op extends Yu{get destroyed(){return this._destroyed}constructor(i,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kg(i,C=>this.processProvider(C)),this.records.set(Zu,kh(void 0,this)),f.has("environment")&&this.records.set(Yu,kh(void 0,this));const y=this.records.get(Og);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Pm.multi,gn,kn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of i)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const c=je(this),d=Tr(void 0);try{return i()}finally{je(c),Tr(d)}}get(i,c=Nt,d=kn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(ao))return i[ao](this);d=Rn(d);const y=je(this),C=Tr(void 0);try{if(!(d&kn.SkipSelf)){let j=this.records.get(i);if(void 0===j){const oe=function Qv(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ts}(i)&&xr(i);j=oe&&this.injectableDefInScope(oe)?kh(Nh(i),xg):null,this.records.set(i,j)}if(null!=j)return this.hydrate(i,j)}return(d&kn.Self?xh():this.parent).get(i,c=d&kn.Optional&&c===Nt?null:c)}catch(P){if("NullInjectorError"===P.name){if((P[Vn]=P[Vn]||[]).unshift(Be(i)),y)throw P;return function ze(n,i,c,d){const f=n[Vn];throw i[X]&&f.unshift(i[X]),n.message=function Rt(n,i,c,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=Be(i);if(Array.isArray(i))f=i.map(Be).join(" -> ");else if("object"==typeof i){let y=[];for(let C in i)if(i.hasOwnProperty(C)){let P=i[C];y.push(C+":"+("string"==typeof P?JSON.stringify(P):Be(P)))}f=`{${y.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${n.replace(ve,"\n  ")}`}("\n"+n.message,f,c,d),n.ngTokenPath=f,n[Vn]=null,n}(P,i,"R3InjectorError",this.source)}throw P}finally{Tr(C),je(y)}}resolveInjectorInitializers(){const i=je(this),c=Tr(void 0);try{const f=this.get(so.multi,gn,kn.Self);for(const y of f)y()}finally{je(i),Tr(c)}}toString(){const i=[],c=this.records;for(const d of c.keys())i.push(Be(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(i){let c=jo(i=ft(i))?i:ft(i&&i.provide);const d=function Om(n){return Oh(n)?kh(void 0,n.useValue):kh(Yv(n),xg)}(i);if(jo(i)||!0!==i.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=kh(void 0,xg,!0),f.factory=()=>qn(f.multi),this.records.set(c,f)),c=i,f.multi.push(i)}this.records.set(c,d)}hydrate(i,c){return c.value===xg&&(c.value=qv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Ng(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(i){if(!i.providedIn)return!1;const c=ft(i.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(i){const c=this._onDestroyHooks.indexOf(i);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Nh(n){const i=xr(n),c=null!==i?i.factory:Os(n);if(null!==c)return c;if(n instanceof Ts)throw new Le(204,!1);if(n instanceof Function)return function Zv(n){const i=n.length;if(i>0)throw An(i,"?"),new Le(204,!1);const c=function kr(n){return n&&(n[Kn]||n[Ei])||null}(n);return null!==c?()=>c.factory(n):()=>new n}(n);throw new Le(204,!1)}function Yv(n,i,c){let d;if(jo(n)){const f=ft(n);return Os(f)||Nh(f)}if(Oh(n))d=()=>ft(n.useValue);else if(function Pp(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...qn(n.deps||[]));else if(function Pg(n){return!(!n||!n.useExisting)}(n))d=()=>tn(ft(n.useExisting));else{const f=ft(n&&(n.useClass||n.provide));if(!function Sa(n){return!!n.deps}(n))return Os(f)||Nh(f);d=()=>new f(...qn(n.deps))}return d}function kh(n,i,c=!1){return{factory:n,value:i,multi:c?[]:void 0}}function kg(n,i){for(const c of n)Array.isArray(c)?kg(c,i):c&&Ft(c)?kg(c.\u0275providers,i):i(c)}const ry=new Ts("AppId",{providedIn:"root",factory:()=>Lg}),Lg="ng",iy=new Ts("Platform Initializer"),kf=new Ts("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sy=new Ts("AnimationModuleType"),oy=new Ts("CSP nonce",{providedIn:"root",factory:()=>Tp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cy=(n,i,c)=>null;function zg(n,i,c=!1){return cy(n,i,c)}class hy{}class fy{}class py{resolveComponentFactory(i){throw function fE(n){const i=Error(`No component factory found for ${Be(n)}.`);return i.ngComponent=n,i}(i)}}let Vp=(()=>{class i{}return i.NULL=new py,i})();function pE(){return Aa(kt(),pt())}function Aa(n,i){return new Bp(nt(n,i))}let Bp=(()=>{class i{constructor(d){this.nativeElement=d}}return i.__NG_ELEMENT_ID__=pE,i})();function my(n){return n instanceof Bp?n.nativeElement:n}class jp{}let Lm=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function Zg(){const n=pt(),c=on(kt().index,n);return($i(c)?c:n)[sr]}(),i})(),gy=(()=>{var n;class i{}return(n=i).\u0275prov=hn({token:n,providedIn:"root",factory:()=>null}),i})();class _y{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Fm=new _y("16.2.3"),Yg={};function Li(n,i=null,c=null,d){const f=Dl(n,i,c,d);return f.resolveInjectorInitializers(),f}function Dl(n,i=null,c=null,d,f=new Set){const y=[c||gn,Rp(n)];return d=d||("object"==typeof n?void 0:Be(n)),new Op(y,i||xh(),d||null,f)}let nu=(()=>{var n;class i{static create(d,f){if(Array.isArray(d))return Li({name:""},f,d,"");{const y=d.name??"";return Li({name:y},d.parent,d.providers,y)}}}return(n=i).THROW_IF_NOT_FOUND=Nt,n.NULL=new Tl,n.\u0275prov=hn({token:n,providedIn:"any",factory:()=>tn(Zu)}),n.__NG_ELEMENT_ID__=-1,i})();function vy(n){return i=>{setTimeout(n,void 0,i)}}const iu=class yy extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,c,d){let f=i,y=c||(()=>null),C=d;if(i&&"object"==typeof i){const j=i;f=j.next?.bind(j),y=j.error?.bind(j),C=j.complete?.bind(j)}this.__isAsync&&(y=vy(y),f&&(f=vy(f)),C&&(C=vy(C)));const P=super.subscribe({next:f,error:y,complete:C});return i instanceof z.w0&&i.add(P),P}};function Gh(...n){}class Ya{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new iu(!1),this.onMicrotaskEmpty=new iu(!1),this.onStable=new iu(!1),this.onError=new iu(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Um(){const n="function"==typeof Ar.requestAnimationFrame;let i=Ar[n?"requestAnimationFrame":"setTimeout"],c=Ar[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&c){const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function gE(n){const i=()=>{!function Iy(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ar,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Jg(n),n.isCheckStableRunning=!0,zh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Jg(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,y,C,P)=>{try{return Jd(n),c.invokeTask(f,y,C,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&i(),Bi(n)}},onInvoke:(c,d,f,y,C,P,j)=>{try{return Jd(n),c.invoke(f,y,C,P,j)}finally{n.shouldCoalesceRunChangeDetection&&i(),Bi(n)}},onHasTask:(c,d,f,y)=>{c.hasTask(f,y),d===f&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,Jg(n),zh(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(c,d,f,y)=>(c.handleError(f,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ya.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Ya.isInAngularZone())throw new Le(909,!1)}run(i,c,d){return this._inner.run(i,c,d)}runTask(i,c,d,f){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+f,i,Ey,Gh,Gh);try{return y.runTask(C,c,d)}finally{y.cancelTask(C)}}runGuarded(i,c,d){return this._inner.runGuarded(i,c,d)}runOutsideAngular(i){return this._outer.run(i)}}const Ey={};function zh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Jg(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Jd(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bi(n){n._nesting--,zh(n)}class Xg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new iu,this.onMicrotaskEmpty=new iu,this.onStable=new iu,this.onError=new iu}run(i,c,d){return i.apply(c,d)}runGuarded(i,c,d){return i.apply(c,d)}runOutsideAngular(i){return i()}runTask(i,c,d,f){return i.apply(c,d)}}const Bf=new Ts("",{providedIn:"root",factory:wy});function wy(){const n=dn(Ya);let i=!0;const c=new H.y(f=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(i),f.complete()})}),d=new H.y(f=>{let y;n.runOutsideAngular(()=>{y=n.onStable.subscribe(()=>{Ya.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,f.next(!0))})})});const C=n.onUnstable.subscribe(()=>{Ya.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{y.unsubscribe(),C.unsubscribe()}});return(0,Ae.T)(c,d.pipe((0,Ue.B)()))}function su(n){return n.ownerDocument.defaultView}function na(n){return n instanceof Function?n():n}let Xd=(()=>{var n;class i{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Le(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const d of this.callbacks)d.invoke()}finally{this.runningCallbacks=!1;for(const d of this.deferredCallbacks)this.callbacks.add(d);this.deferredCallbacks.clear()}}register(d){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(d)}unregister(d){this.callbacks.delete(d),this.deferredCallbacks.delete(d)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(n=i).\u0275prov=hn({token:n,providedIn:"root",factory:()=>new n}),i})();function ou(n){for(;n;){n[Qn]|=64;const i=Jl(n);if(pa(n)&&!i)return n;n=i}return null}function eh(n){return n.ngOriginalError}class Wh{constructor(){this._console=console}handleError(i){const c=this._findOriginalError(i);this._console.error("ERROR",i),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(i){let c=i&&eh(i);for(;c&&eh(c);)c=eh(c);return c||null}}const e0=new Ts("",{providedIn:"root",factory:()=>!1});class $o extends rc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){ou(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,c,d){const f=hs(this);this.trackingVersion++;try{i(c,d)}finally{hs(f)}}destroy(){this.trackingVersion++}}let Hf=null;function Dy(){return Hf??=new $o,Hf}function r_(n,i){return n[i]??Dy()}function Sy(n,i){const c=Dy();c.hasReadASignal&&(n[i]=Hf,c.lView=n,Hf=new $o)}const ri={};function Kp(n){Kh(wn(),pt(),_e()+n,!1)}function Kh(n,i,c,d){if(!d)if(3==(3&i[Qn])){const y=n.preOrderCheckHooks;null!==y&&Kl(i,y,c)}else{const y=n.preOrderHooks;null!==y&&Na(i,y,0,c)}Re(c)}function qh(n,i=kn.Default){const c=pt();return null===c?tn(n,i):vu(kt(),c,ft(n),i)}function qp(){throw new Error("invalid")}function Zp(n,i,c,d,f,y,C,P,j,oe,ge){const $e=i.blueprint.slice();return $e[Xr]=f,$e[Qn]=140|d,(null!==oe||n&&2048&n[Qn])&&($e[Qn]|=2048),ts($e),$e[si]=$e[uo]=n,$e[wi]=c,$e[oa]=C||n&&n[oa],$e[sr]=P||n&&n[sr],$e[ds]=j||n&&n[ds]||null,$e[ki]=y,$e[Is]=function If(){return yp++}(),$e[Ms]=ge,$e[qs]=oe,$e[bi]=2==i.type?n[bi]:$e,$e}function nh(n,i,c,d,f){let y=n.data[i];if(null===y)y=Gm(n,i,c,d,f),function Dr(){return cr.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=c,y.value=d,y.attrs=f;const C=ci();y.injectorIndex=null===C?-1:C.injectorIndex}return Jo(y,!0),y}function Gm(n,i,c,d,f){const y=an(),C=Xo(),j=n.data[i]=function l_(n,i,c,d,f,y){let C=i?i.injectorIndex:-1,P=0;return oc()&&(P|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:P,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,c,i,d,f);return null===n.firstChild&&(n.firstChild=j),null!==y&&(C?null==y.child&&null!==j.parent&&(y.child=j):null===y.next&&(y.next=j,j.prev=y)),j}function Yp(n,i,c,d){if(0===c)return-1;const f=i.length;for(let y=0;y<c;y++)i.push(d),n.blueprint.push(d),n.data.push(null);return f}function i_(n,i,c,d,f){const y=r_(i,ws),C=_e(),P=2&d;try{if(Re(-1),P&&i.length>Cr&&Kh(n,i,Cr,!1),M(P?2:0,f),P)y.runInContext(c,d,f);else{const oe=hs(null);try{c(d,f)}finally{hs(oe)}}}finally{P&&null===i[ws]&&Sy(i,ws),Re(C),M(P?3:1,f)}}function Qp(n,i,c){if(Yo(i)){const d=hs(null);try{const y=i.directiveEnd;for(let C=i.directiveStart;C<y;C++){const P=n.data[C];P.contentQueries&&P.contentQueries(1,c[C],C)}}finally{hs(d)}}}function Ay(n,i,c){xo()&&(function zf(n,i,c,d){const f=c.directiveStart,y=c.directiveEnd;js(c)&&function Kf(n,i,c){const d=nt(i,n),f=t0(c);let C=16;c.signals?C=4096:c.onPush&&(C=64);const P=bd(n,Zp(n,f,null,C,d,i,null,n[oa].rendererFactory.createRenderer(d,c),null,null,null));n[i.index]=P}(i,c,n.data[f+c.componentOffset]),n.firstCreatePass||Vu(c,i),da(d,i);const C=c.initialInputs;for(let P=f;P<y;P++){const j=n.data[P],oe=ca(i,n,P,c);da(oe,i),null!==C&&sh(0,P-f,oe,j,0,C),Or(j)&&(on(c.index,i)[wi]=ca(i,n,P,c))}}(n,i,c,nt(c,i)),64==(64&c.flags)&&ih(n,i,c))}function $f(n,i,c=nt){const d=i.localNames;if(null!==d){let f=i.index+1;for(let y=0;y<d.length;y+=2){const C=d[y+1],P=-1===C?c(i,n):n[C];n[f++]=P}}}function t0(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Zh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Zh(n,i,c,d,f,y,C,P,j,oe,ge){const $e=Cr+d,yt=$e+f,Lt=function n0(n,i){const c=[];for(let d=0;d<i;d++)c.push(d<n?null:ri);return c}($e,yt),ln="function"==typeof oe?oe():oe;return Lt[Mn]={type:n,blueprint:Lt,template:c,queries:null,viewQuery:P,declTNode:i,data:Lt.slice().fill(null,$e),bindingStartIndex:$e,expandoStartIndex:yt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:j,consts:ln,incompleteFirstPass:!1,ssrId:ge}}let a_=n=>null;function c_(n,i,c,d){for(let f in n)if(n.hasOwnProperty(f)){c=null===c?{}:c;const y=n[f];null===d?r0(c,i,f,y):d.hasOwnProperty(f)&&r0(c,i,d[f],y)}return c}function r0(n,i,c,d){n.hasOwnProperty(c)?n[c].push(i,d):n[c]=[i,d]}function _c(n,i,c,d,f,y,C,P){const j=nt(i,c);let ge,oe=i.inputs;!P&&null!=oe&&(ge=oe[d])?(Km(n,c,ge,d,f),js(i)&&function yE(n,i){const c=on(i,n);16&c[Qn]||(c[Qn]|=64)}(c,i.index)):3&i.type&&(d=function rh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),f=null!=C?C(f,i.value||"",d):f,y.setProperty(j,d,f))}function zm(n,i,c,d){if(xo()){const f=null===d?null:{"":-1},y=function Ry(n,i){const c=n.directiveRegistry;let d=null,f=null;if(c)for(let y=0;y<c.length;y++){const C=c[y];if(Eo(i,C.selectors,!1))if(d||(d=[]),Or(C))if(null!==C.findHostDirectiveDefs){const P=[];f=f||new Map,C.findHostDirectiveDefs(C,P,f),d.unshift(...P,C),h_(n,i,P.length)}else d.unshift(C),h_(n,i,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,d,f),d.push(C)}return null===d?null:[d,f]}(n,c);let C,P;null===y?C=P=null:[C,P]=y,null!==C&&Xp(n,i,c,C,f,P),f&&function Wf(n,i,c){if(i){const d=n.localNames=[];for(let f=0;f<i.length;f+=2){const y=c[i[f+1]];if(null==y)throw new Le(-301,!1);d.push(i[f],y)}}}(c,d,f)}c.mergedAttrs=rs(c.mergedAttrs,c.attrs)}function Xp(n,i,c,d,f,y){for(let oe=0;oe<d.length;oe++)yu(Vu(c,i),n,d[oe].type);!function vE(n,i,c){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+c,n.providerIndexes=i}(c,n.data.length,d.length);for(let oe=0;oe<d.length;oe++){const ge=d[oe];ge.providersResolver&&ge.providersResolver(ge)}let C=!1,P=!1,j=Yp(n,i,d.length,null);for(let oe=0;oe<d.length;oe++){const ge=d[oe];c.mergedAttrs=rs(c.mergedAttrs,ge.hostAttrs),f_(n,c,i,j,ge),o0(j,ge,f),null!==ge.contentQueries&&(c.flags|=4),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(c.flags|=64);const $e=ge.type.prototype;!C&&($e.ngOnChanges||$e.ngOnInit||$e.ngDoCheck)&&((n.preOrderHooks??=[]).push(c.index),C=!0),!P&&($e.ngOnChanges||$e.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(c.index),P=!0),j++}!function u_(n,i,c){const f=i.directiveEnd,y=n.data,C=i.attrs,P=[];let j=null,oe=null;for(let ge=i.directiveStart;ge<f;ge++){const $e=y[ge],yt=c?c.get($e):null,ln=yt?yt.outputs:null;j=c_($e.inputs,ge,j,yt?yt.inputs:null),oe=c_($e.outputs,ge,oe,ln);const Dn=null===j||null===C||Ki(i)?null:EE(j,ge,C);P.push(Dn)}null!==j&&(j.hasOwnProperty("class")&&(i.flags|=8),j.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=P,i.inputs=j,i.outputs=oe}(n,c,y)}function ih(n,i,c){const d=c.directiveStart,f=c.directiveEnd,y=c.index,C=function gs(){return cr.lFrame.currentDirectiveIndex}();try{Re(y);for(let P=d;P<f;P++){const j=n.data[P],oe=i[P];gr(P),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Jh(j,oe)}}finally{Re(-1),gr(C)}}function Jh(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function h_(n,i,c){i.componentOffset=c,(n.components??=[]).push(i.index)}function o0(n,i,c){if(c){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)c[i.exportAs[d]]=n;Or(i)&&(c[""]=n)}}function f_(n,i,c,d,f){n.data[d]=f;const y=f.factory||(f.factory=Os(f.type)),C=new po(y,Or(f),qh);n.blueprint[d]=C,c[d]=C,function d_(n,i,c,d,f){const y=f.hostBindings;if(y){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const P=~i.index;(function Gf(n){let i=n.length;for(;i>0;){const c=n[--i];if("number"==typeof c&&c<0)return c}return 0})(C)!=P&&C.push(P),C.push(c,d,y)}}(n,i,d,Yp(n,c,f.hostVars,ri),f)}function Ju(n,i,c,d,f,y){const C=nt(n,i);!function Xh(n,i,c,d,f,y,C){if(null==y)n.removeAttribute(i,f,c);else{const P=null==C?He(y):C(y,d||"",f);n.setAttribute(i,f,P,c)}}(i[sr],C,y,n.value,c,d,f)}function sh(n,i,c,d,f,y){const C=y[i];if(null!==C)for(let P=0;P<C.length;)em(d,c,C[P++],C[P++],C[P++])}function em(n,i,c,d,f){const y=hs(null);try{const C=n.inputTransforms;null!==C&&C.hasOwnProperty(d)&&(f=C[d].call(i,f)),null!==n.setInput?n.setInput(i,f,c,d):i[d]=f}finally{hs(y)}}function EE(n,i,c){let d=null,f=0;for(;f<c.length;){const y=c[f];if(0!==y)if(5!==y){if("number"==typeof y)break;if(n.hasOwnProperty(y)){null===d&&(d=[]);const C=n[y];for(let P=0;P<C.length;P+=2)if(C[P]===i){d.push(y,C[P+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Ns(n,i,c,d){return[n,!0,!1,i,null,0,d,c,null,null,null]}function Su(n,i){const c=n.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const y=c[d+1];if(-1!==y){const C=n.data[y];fu(c[d]),C.contentQueries(2,i[y],y)}}}function bd(n,i){return n[li]?n[wo][Zn]=i:n[li]=i,n[wo]=i,i}function tm(n,i,c){fu(0);const d=hs(null);try{i(n,c)}finally{hs(d)}}function Wm(n){return n[is]||(n[is]=[])}function Xu(n){return n.cleanup||(n.cleanup=[])}function My(n,i,c){return(null===n||Or(n))&&(c=function Me(n){for(;Array.isArray(n);){if("object"==typeof n[Us])return n;n=n[Xr]}return null}(c[i.index])),c[sr]}function oh(n,i){const c=n[ds],d=c?c.get(Wh,null):null;d&&d.handleError(i)}function Km(n,i,c,d,f){for(let y=0;y<c.length;){const C=c[y++],P=c[y++];em(n.data[C],i[C],d,P,f)}}function Nc(n,i,c){const d=st(i,n);!function I(n,i,c){n.setValue(i,c)}(n[sr],d,c)}function qm(n,i){const c=on(i,n),d=c[Mn];!function rm(n,i){for(let c=i.length;c<n.blueprint.length;c++)i.push(n.blueprint[c])}(d,c);const f=c[Xr];null!==f&&null===c[Ms]&&(c[Ms]=zg(f,c[ds])),Zm(d,c,c[wi])}function Zm(n,i,c){ac(i);try{const d=n.viewQuery;null!==d&&tm(1,d,c);const f=n.template;null!==f&&i_(n,i,f,1,c),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Su(n,i),n.staticViewQueries&&tm(2,n.viewQuery,c);const y=n.components;null!==y&&function Py(n,i){for(let c=0;c<i.length;c++)qm(n,i[c])}(i,y)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[Qn]&=-5,W()}}let Oy=(()=>{var n;class i{constructor(){this.all=new Set,this.queue=new Map}create(d,f,y){const C=typeof Zone>"u"?null:Zone.current,P=new Vc(d,ge=>{this.all.has(ge)&&this.queue.set(ge,C)},y);let j;this.all.add(P),P.notify();const oe=()=>{P.cleanup(),j?.(),this.all.delete(P),this.queue.delete(P)};return j=f?.onDestroy(oe),{destroy:oe}}flush(){if(0!==this.queue.size)for(const[d,f]of this.queue)this.queue.delete(d),f?f.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=i).\u0275prov=hn({token:n,providedIn:"root",factory:()=>new n}),i})();function im(n,i,c){let d=c?n.styles:null,f=c?n.classes:null,y=0;if(null!==i)for(let C=0;C<i.length;C++){const P=i[C];"number"==typeof P?y=P:1==y?f=ut(f,P):2==y&&(d=ut(d,P+": "+i[++C]+";"))}c?n.styles=d:n.stylesWithoutHost=d,c?n.classes=f:n.classesWithoutHost=f}function ef(n,i,c,d,f=!1){for(;null!==c;){const y=i[c.index];null!==y&&d.push(fe(y)),fi(y)&&p_(y,d);const C=c.type;if(8&C)ef(n,i,c.child,d);else if(32&C){const P=Dh(c,i);let j;for(;j=P();)d.push(j)}else if(16&C){const P=kv(i,c);if(Array.isArray(P))d.push(...P);else{const j=Jl(i[bi]);ef(j[Mn],j,P,d,!0)}}c=f?c.projectionNext:c.next}return d}function p_(n,i){for(let c=Bs;c<n.length;c++){const d=n[c],f=d[Mn].firstChild;null!==f&&ef(d[Mn],d,f,i)}n[ps]!==n[Xr]&&i.push(n[ps])}function sm(n,i,c,d=!0){const f=i[oa],y=f.rendererFactory,C=f.afterRenderEventManager;y.begin?.(),C?.begin();try{g_(n,i,n.template,c)}catch(j){throw d&&oh(i,j),j}finally{y.end?.(),f.effectManager?.flush(),C?.end()}}function g_(n,i,c,d){const f=i[Qn];if(256!=(256&f)){i[oa].effectManager?.flush(),ac(i);try{ts(i),function Lu(n){return cr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==c&&i_(n,i,c,2,d);const C=3==(3&f);if(C){const oe=n.preOrderCheckHooks;null!==oe&&Kl(i,oe,null)}else{const oe=n.preOrderHooks;null!==oe&&Na(i,oe,0,null),pu(i,0)}if(function om(n){for(let i=wm(n);null!==i;i=jd(i)){if(!i[Vs])continue;const c=i[Xi];for(let d=0;d<c.length;d++){Ui(c[d])}}}(i),Ny(i,2),null!==n.contentQueries&&Su(n,i),C){const oe=n.contentCheckHooks;null!==oe&&Kl(i,oe)}else{const oe=n.contentHooks;null!==oe&&Na(i,oe,1),pu(i,1)}!function $m(n,i){const c=n.hostBindingOpCodes;if(null===c)return;const d=r_(i,bo);try{for(let f=0;f<c.length;f++){const y=c[f];if(y<0)Re(~y);else{const C=y,P=c[++f],j=c[++f];Wl(P,C),d.runInContext(j,2,i[C])}}}finally{null===i[bo]&&Sy(i,bo),Re(-1)}}(n,i);const P=n.components;null!==P&&Ym(i,P,0);const j=n.viewQuery;if(null!==j&&tm(2,j,d),C){const oe=n.viewCheckHooks;null!==oe&&Kl(i,oe)}else{const oe=n.viewHooks;null!==oe&&Na(i,oe,2),pu(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Qn]&=-73,Ys(i)}finally{W()}}}function Ny(n,i){for(let c=wm(n);null!==c;c=jd(c))for(let d=Bs;d<c.length;d++)l0(c[d],i)}function ky(n,i,c){l0(on(i,n),c)}function l0(n,i){if(!function mr(n){return 128==(128&n[Qn])}(n))return;const c=n[Mn];if(80&n[Qn]&&0===i||1024&n[Qn]||2===i)g_(c,n,c.template,n[wi]);else if(n[Ro]>0){Ny(n,1);const f=n[Mn].components;null!==f&&Ym(n,f,1)}}function Ym(n,i,c){for(let d=0;d<i.length;d++)ky(n,i[d],c)}class qf{get rootNodes(){const i=this._lView,c=i[Mn];return ef(c,i,c.firstChild,[])}constructor(i,c){this._lView=i,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wi]}set context(i){this._lView[wi]=i}get destroyed(){return 256==(256&this._lView[Qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[si];if(fi(i)){const c=i[8],d=c?c.indexOf(this):-1;d>-1&&(io(i,d),On(c,d))}this._attachedToViewContainer=!1}Xl(this._lView[Mn],this._lView)}onDestroy(i){!function Pi(n,i){if(256==(256&n[Qn]))throw new Le(911,!1);null===n[Zo]&&(n[Zo]=[]),n[Zo].push(i)}(this._lView,i)}markForCheck(){ou(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qn]&=-129}reattach(){this._lView[Qn]|=128}detectChanges(){sm(this._lView[Mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vt(n,i){gc(n,i,i[sr],2,null,null)}(this._lView[Mn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=i}}class Ly extends qf{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;sm(i[Mn],i,i[wi],!1)}checkNoChanges(){}get context(){return null}}class Qm extends Vp{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const c=Wt(i);return new am(c,this.ngModule)}}function Fy(n){const i=[];for(let c in n)n.hasOwnProperty(c)&&i.push({propName:n[c],templateName:c});return i}class c0{constructor(i,c){this.injector=i,this.parentInjector=c}get(i,c,d){d=Rn(d);const f=this.injector.get(i,Yg,d);return f!==Yg||c===Yg?f:this.parentInjector.get(i,c,d)}}class am extends fy{get inputs(){const i=this.componentDef,c=i.inputTransforms,d=Fy(i.inputs);if(null!==c)for(const f of d)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return d}get outputs(){return Fy(this.componentDef.outputs)}constructor(i,c){super(),this.componentDef=i,this.ngModule=c,this.componentType=i.type,this.selector=function qo(n){return n.map(Ko).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!c}create(i,c,d,f){let y=(f=f||this.ngModule)instanceof Yu?f:f?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new c0(i,y):i,P=C.get(jp,null);if(null===P)throw new Le(407,!1);const $e={rendererFactory:P,sanitizer:C.get(gy,null),effectManager:C.get(Oy,null),afterRenderEventManager:C.get(Xd,null)},yt=P.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",ln=d?function s_(n,i,c,d){const y=d.get(e0,!1)||c===sn.ShadowDom,C=n.selectRootElement(i,y);return function o_(n){a_(n)}(C),C}(yt,d,this.componentDef.encapsulation,C):se(yt,Lt,function Uy(n){const i=n.toLowerCase();return"svg"===i?K:"math"===i?"math":null}(Lt)),jr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let En=null;null!==ln&&(En=zg(ln,C,!0));const Di=Zh(0,null,null,1,0,null,null,null,null,null,null),us=Zp(null,Di,null,jr,null,null,$e,yt,C,null,En);let zo,Od;ac(us);try{const Eg=this.componentDef;let rE,Pw=null;Eg.findHostDirectiveDefs?(rE=[],Pw=new Map,Eg.findHostDirectiveDefs(Eg,rE,Pw),rE.push(Eg)):rE=[Eg];const BD=function u0(n,i){const c=n[Mn],d=Cr;return n[d]=i,nh(c,d,2,"#host",null)}(us,ln),jD=function Vy(n,i,c,d,f,y,C){const P=f[Mn];!function Jm(n,i,c,d){for(const f of n)i.mergedAttrs=rs(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(im(i,i.mergedAttrs,!0),null!==c&&$_(d,c,i))}(d,n,i,C);let j=null;null!==i&&(j=zg(i,f[ds]));const oe=y.rendererFactory.createRenderer(i,c);let ge=16;c.signals?ge=4096:c.onPush&&(ge=64);const $e=Zp(f,t0(c),null,ge,f[n.index],n,y,oe,null,null,j);return P.firstCreatePass&&h_(P,n,d.length-1),bd(f,$e),f[n.index]=$e}(BD,ln,Eg,rE,us,$e,yt);Od=Jt(Di,Cr),ln&&function h0(n,i,c,d){if(d)fr(n,c,["ng-version",Fm.full]);else{const{attrs:f,classes:y}=function Ji(n){const i=[],c=[];let d=1,f=2;for(;d<n.length;){let y=n[d];if("string"==typeof y)2===f?""!==y&&i.push(y,n[++d]):8===f&&c.push(y);else{if(!Zi(f))break;f=y}d++}return{attrs:i,classes:c}}(i.selectors[0]);f&&fr(n,c,f),y&&y.length>0&&Dg(n,c,y.join(" "))}}(yt,Eg,ln,d),void 0!==c&&function f0(n,i,c){const d=n.projection=[];for(let f=0;f<i.length;f++){const y=c[f];d.push(null!=y?Array.from(y):null)}}(Od,this.ngContentSelectors,c),zo=function d0(n,i,c,d,f,y){const C=kt(),P=f[Mn],j=nt(C,f);Xp(P,f,C,c,null,d);for(let ge=0;ge<c.length;ge++)da(ca(f,P,C.directiveStart+ge,C),f);ih(P,f,C),j&&da(j,f);const oe=ca(f,P,C.directiveStart+C.componentOffset,C);if(n[wi]=f[wi]=oe,null!==y)for(const ge of y)ge(oe,i);return Qp(P,C,n),oe}(jD,Eg,rE,Pw,us,[__]),Zm(Di,us,null)}finally{W()}return new IE(this.componentType,zo,Aa(Od,us),us,Od)}}class IE extends hy{constructor(i,c,d,f,y){super(),this.location=d,this._rootLView=f,this._tNode=y,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Ly(f),this.componentType=i}setInput(i,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),c))return;const y=this._rootLView;Km(y[Mn],y,f,i,c),this.previousInputValues.set(i,c),ou(on(this._tNode.index,y))}}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function __(){const n=kt();Do(pt()[Mn],n)}function Zf(n){let i=function Yi(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),c=!0;const d=[n];for(;i;){let f;if(Or(n))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Le(903,!1);f=i.\u0275dir}if(f){if(c){d.push(f);const C=n;C.inputs=ah(n.inputs),C.inputTransforms=ah(n.inputTransforms),C.declaredInputs=ah(n.declaredInputs),C.outputs=ah(n.outputs);const P=f.hostBindings;P&&fl(n,P);const j=f.viewQuery,oe=f.contentQueries;if(j&&p0(n,j),oe&&ko(n,oe),Se(n.inputs,f.inputs),Se(n.declaredInputs,f.declaredInputs),Se(n.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),Se(C.inputTransforms,f.inputTransforms)),Or(f)&&f.data.animation){const ge=n.data;ge.animation=(ge.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let C=0;C<y.length;C++){const P=y[C];P&&P.ngInherit&&P(n),P===Zf&&(c=!1)}}i=Object.getPrototypeOf(i)}!function y_(n){let i=0,c=null;for(let d=n.length-1;d>=0;d--){const f=n[d];f.hostVars=i+=f.hostVars,f.hostAttrs=rs(f.hostAttrs,c=rs(c,f.hostAttrs))}}(d)}function ah(n){return n===Hn?{}:n===gn?[]:n}function p0(n,i){const c=n.viewQuery;n.viewQuery=c?(d,f)=>{i(d,f),c(d,f)}:i}function ko(n,i){const c=n.contentQueries;n.contentQueries=c?(d,f,y)=>{i(d,f,y),c(d,f,y)}:i}function fl(n,i){const c=n.hostBindings;n.hostBindings=c?(d,f)=>{i(d,f),c(d,f)}:i}function Xm(n){return i=>{i.findHostDirectiveDefs=By,i.hostDirectives=(Array.isArray(n)?n:n()).map(c=>"function"==typeof c?{directive:ft(c),inputs:Hn,outputs:Hn}:{directive:ft(c.directive),inputs:v_(c.inputs),outputs:v_(c.outputs)})}}function By(n,i,c){if(null!==n.hostDirectives)for(const d of n.hostDirectives){const f=Sn(d.directive);bE(f.declaredInputs,d.inputs),By(f,i,c),c.set(f,d),i.push(f)}}function v_(n){if(void 0===n||0===n.length)return Hn;const i={};for(let c=0;c<n.length;c+=2)i[n[c]]=n[c+1];return i}function bE(n,i){for(const c in i)i.hasOwnProperty(c)&&(n[i[c]]=n[c])}function Hy(n){const i=n.inputConfig,c={};for(const d in i)if(i.hasOwnProperty(d)){const f=i[d];Array.isArray(f)&&f[2]&&(c[d]=f[2])}n.inputTransforms=c}function $y(n){return!!eg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function eg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Cd(n,i,c){return n[i]=c}function Sl(n,i,c){return!Object.is(n[i],c)&&(n[i]=c,!0)}function tf(n,i,c,d){const f=Sl(n,i,c);return Sl(n,i+1,d)||f}function E_(n,i,c,d,f){const y=tf(n,i,c,d);return Sl(n,i+2,f)||y}function Gy(n,i,c,d){const f=pt();return Sl(f,Pl(),i)&&(wn(),Ju(gt(),f,n,i,c,d)),Gy}function Yf(n,i,c,d){return Sl(n,Pl(),c)?i+He(c)+d:ri}function b0(n,i,c,d,f,y,C,P){const j=pt(),oe=wn(),ge=n+Cr,$e=oe.firstCreatePass?function lg(n,i,c,d,f,y,C,P,j){const oe=i.consts,ge=nh(i,n,4,C||null,ei(oe,P));zm(i,c,ge,ei(oe,j)),Do(i,ge);const $e=ge.tView=Zh(2,ge,d,f,y,i.directiveRegistry,i.pipeRegistry,null,i.schemas,oe,null);return null!==i.queries&&(i.queries.template(i,ge),$e.queries=i.queries.embeddedTView(ge)),ge}(ge,oe,j,i,c,d,f,y,C):oe.data[ge];Jo($e,!1);const yt=pm(oe,j,$e,n);os()&&zd(oe,j,yt,$e),da(yt,j),bd(j,j[ge]=Ns(yt,j,yt,$e)),es($e)&&Ay(oe,j,$e),null!=C&&$f(j,$e,P)}let pm=function Xf(n,i,c,d){return Wa(!0),i[sr].createComment("")};function cg(n){return mn(function ku(){return cr.lFrame.contextLView}(),Cr+n)}function ep(n,i,c){const d=pt();return Sl(d,Pl(),i)&&_c(wn(),gt(),d,n,i,d[sr],c,!1),ep}function ug(n,i,c,d,f){const C=f?"class":"style";Km(n,c,i.inputs[C],C,d)}function uh(n,i,c,d){const f=pt(),y=wn(),C=Cr+n,P=f[sr],j=y.firstCreatePass?function C0(n,i,c,d,f,y){const C=i.consts,j=nh(i,n,2,d,ei(C,f));return zm(i,c,j,ei(C,y)),null!==j.attrs&&im(j,j.attrs,!1),null!==j.mergedAttrs&&im(j,j.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,j),j}(C,y,f,i,c,d):y.data[C],oe=D0(y,f,j,P,i,n);f[C]=oe;const ge=es(j);return Jo(j,!0),$_(P,oe,j),32!=(32&j.flags)&&os()&&zd(y,f,oe,j),0===function Bc(){return cr.lFrame.elementDepthCount}()&&da(oe,f),function ns(){cr.lFrame.elementDepthCount++}(),ge&&(Ay(y,f,j),Qp(y,j,f)),null!==d&&$f(f,j),uh}function yc(){let n=kt();Xo()?ms():(n=n.parent,Jo(n,!1));const i=n;(function bc(n){return cr.skipHydrationRootTNode===n})(i)&&function gf(){cr.skipHydrationRootTNode=null}(),function Qs(){cr.lFrame.elementDepthCount--}();const c=wn();return c.firstCreatePass&&(Do(c,n),Yo(n)&&c.queries.elementEnd(n)),null!=i.classesWithoutHost&&function al(n){return 0!=(8&n.flags)}(i)&&ug(c,i,pt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function eo(n){return 0!=(16&n.flags)}(i)&&ug(c,i,pt(),i.stylesWithoutHost,!1),yc}function Ad(n,i,c,d){return uh(n,i,c,d),yc(),Ad}let D0=(n,i,c,d,f,y)=>(Wa(!0),se(d,f,function Ct(){return cr.lFrame.currentNamespace}()));function tp(n,i,c){const d=pt(),f=wn(),y=n+Cr,C=f.firstCreatePass?function dg(n,i,c,d,f){const y=i.consts,C=ei(y,d),P=nh(i,n,8,"ng-container",C);return null!==C&&im(P,C,!0),zm(i,c,P,ei(y,f)),null!==i.queries&&i.queries.elementStart(i,P),P}(y,f,d,i,c):f.data[y];Jo(C,!0);const P=id(f,d,C,n);return d[y]=P,os()&&zd(f,d,P,C),da(P,d),es(C)&&(Ay(f,d,C),Qp(f,C,d)),null!=c&&$f(d,C),tp}function Yy(){let n=kt();const i=wn();return Xo()?ms():(n=n.parent,Jo(n,!1)),i.firstCreatePass&&(Do(i,n),Yo(n)&&i.queries.elementEnd(n)),Yy}function Qa(n,i,c){return tp(n,i,c),Yy(),Qa}let id=(n,i,c,d)=>(Wa(!0),R(i[sr],""));function Qy(){return pt()}function tc(n){return!!n&&"function"==typeof n.then}function Jy(n){return!!n&&"function"==typeof n.subscribe}function Rd(n,i,c,d){const f=pt(),y=wn(),C=kt();return function A0(n,i,c,d,f,y,C){const P=es(d),oe=n.firstCreatePass&&Xu(n),ge=i[wi],$e=Wm(i);let yt=!0;if(3&d.type||C){const Dn=nt(d,i),ar=C?C(Dn):Dn,jr=$e.length,En=C?us=>C(fe(us[d.index])):d.index;let Di=null;if(!C&&P&&(Di=function PE(n,i,c,d){const f=n.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const C=f[y];if(C===c&&f[y+1]===d){const P=i[is],j=f[y+2];return P.length>j?P[j]:null}"string"==typeof C&&(y+=2)}return null}(n,i,f,d.index)),null!==Di)(Di.__ngLastListenerFn__||Di).__ngNextListenerFn__=y,Di.__ngLastListenerFn__=y,yt=!1;else{y=ev(d,i,ge,y,!1);const us=c.listen(ar,f,y);$e.push(y,us),oe&&oe.push(f,En,jr,jr+1)}}else y=ev(d,i,ge,y,!1);const Lt=d.outputs;let ln;if(yt&&null!==Lt&&(ln=Lt[f])){const Dn=ln.length;if(Dn)for(let ar=0;ar<Dn;ar+=2){const zo=i[ln[ar]][ln[ar+1]].subscribe(y),Od=$e.length;$e.push(y,zo),oe&&oe.push(f,d.index,Od,-(Od+1))}}}(y,f,f[sr],C,n,i,d),Rd}function R0(n,i,c,d){try{return M(6,i,c),!1!==c(d)}catch(f){return oh(n,f),!1}finally{M(7,i,c)}}function ev(n,i,c,d,f){return function y(C){if(C===Function)return d;ou(n.componentOffset>-1?on(n.index,i):i);let j=R0(i,c,d,C),oe=y.__ngNextListenerFn__;for(;oe;)j=R0(i,c,oe,C)&&j,oe=oe.__ngNextListenerFn__;return f&&!1===j&&C.preventDefault(),j}}function np(n=1){return function L(n){return(cr.lFrame.contextLView=function ee(n,i){for(;n>0;)i=i[uo],n--;return i}(n,cr.lFrame.contextLView))[wi]}(n)}function tv(n,i){let c=null;const d=function Wo(n){const i=n.attrs;if(null!=i){const c=i.indexOf(5);if(!(1&c))return i[c+1]}return null}(n);for(let f=0;f<i.length;f++){const y=i[f];if("*"!==y){if(null===d?Eo(n,y,!0):fa(d,y))return f}else c=f}return c}function nv(n){const i=pt()[bi][ki];if(!i.projection){const d=i.projection=An(n?n.length:1,null),f=d.slice();let y=i.child;for(;null!==y;){const C=n?tv(y,n):0;null!==C&&(f[C]?f[C].projectionNext=y:d[C]=y,f[C]=y),y=y.next}}}function M0(n,i=0,c){const d=pt(),f=wn(),y=nh(f,Cr+n,16,null,c||null);null===y.projection&&(y.projection=i),ms(),(!d[Ms]||oc())&&32!=(32&y.flags)&&function j_(n,i,c){Tg(i[sr],0,i,c,yd(n,c,i),bg(c.parent||i[ki],c,i))}(f,d,y)}function mm(n,i,c){return rp(n,"",i,"",c),mm}function rp(n,i,c,d,f){const y=pt(),C=Yf(y,i,c,d);return C!==ri&&_c(wn(),gt(),y,n,C,y[sr],f,!1),rp}function iv(n,i){return n<<17|i<<2}function dh(n){return n>>17&32767}function uf(n){return 2|n}function Lc(n){return(131068&n)>>2}function sv(n,i){return-131069&n|i<<2}function _m(n){return 1|n}function ov(n,i,c,d,f){const y=n[c+1],C=null===i;let P=d?dh(y):Lc(y),j=!1;for(;0!==P&&(!1===j||C);){const ge=n[P+1];F0(n[P],i)&&(j=!0,n[P+1]=d?_m(ge):uf(ge)),P=d?dh(ge):Lc(ge)}j&&(n[c+1]=d?uf(y):_m(y))}function F0(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Gi(n,i)>=0}const Ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S_(n){return n.substring(Ra.key,Ra.keyEnd)}function LE(n,i){const c=Ra.textEnd;return c===i?-1:(i=Ra.keyEnd=function cv(n,i,c){for(;i<c&&n.charCodeAt(i)>32;)i++;return i}(n,Ra.key=i,c),df(n,i,c))}function df(n,i,c){for(;i<c&&n.charCodeAt(i)<=32;)i++;return i}function od(n,i,c){return yo(n,i,c,!1),od}function hh(n,i){return yo(n,i,null,!0),hh}function M_(n){ia(fh,Bl,n,!0)}function Bl(n,i){for(let c=function oI(n){return function lv(n){Ra.key=0,Ra.keyEnd=0,Ra.value=0,Ra.valueEnd=0,Ra.textEnd=n.length}(n),LE(n,df(n,0,Ra.textEnd))}(i);c>=0;c=LE(i,c))zr(n,S_(i),!0)}function yo(n,i,c,d){const f=pt(),y=wn(),C=No(2);y.firstUpdatePass&&fv(y,n,C,d),i!==ri&&Sl(f,C,i)&&pv(y,y.data[_e()],f,f[sr],n,f[C+1]=function B0(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Be(Za(n)))),n}(i,c),d,C)}function ia(n,i,c,d){const f=wn(),y=No(2);f.firstUpdatePass&&fv(f,null,y,d);const C=pt();if(c!==ri&&Sl(C,y,c)){const P=f.data[_e()];if(Ou(P,d)&&!hv(f,y)){let j=d?P.classesWithoutHost:P.stylesWithoutHost;null!==j&&(c=ut(j,c||"")),ug(f,P,C,c,d)}else!function V0(n,i,c,d,f,y,C,P){f===ri&&(f=gn);let j=0,oe=0,ge=0<f.length?f[0]:null,$e=0<y.length?y[0]:null;for(;null!==ge||null!==$e;){const yt=j<f.length?f[j+1]:void 0,Lt=oe<y.length?y[oe+1]:void 0;let Dn,ln=null;ge===$e?(j+=2,oe+=2,yt!==Lt&&(ln=$e,Dn=Lt)):null===$e||null!==ge&&ge<$e?(j+=2,ln=ge):(oe+=2,ln=$e,Dn=Lt),null!==ln&&pv(n,i,c,d,ln,Dn,C,P),ge=j<f.length?f[j]:null,$e=oe<y.length?y[oe]:null}}(f,P,C,C[sr],C[y+1],C[y+1]=function Md(n,i,c){if(null==c||""===c)return gn;const d=[],f=Za(c);if(Array.isArray(f))for(let y=0;y<f.length;y++)n(d,f[y],!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&n(d,y,f[y]);else"string"==typeof f&&i(d,f);return d}(n,i,c),d,y)}}function hv(n,i){return i>=n.expandoStartIndex}function fv(n,i,c,d){const f=n.data;if(null===f[c+1]){const y=f[_e()],C=hv(n,c);Ou(y,d)&&null===i&&!C&&(i=!1),i=function sp(n,i,c,d){const f=xa(n);let y=d?i.residualClasses:i.residualStyles;if(null===f)0===(d?i.classBindings:i.styleBindings)&&(c=Fc(c=pg(null,n,i,c,d),i.attrs,d),y=null);else{const C=i.directiveStylingLast;if(-1===C||n[C]!==f)if(c=pg(f,n,i,c,d),null===y){let j=function fg(n,i,c){const d=c?i.classBindings:i.styleBindings;if(0!==Lc(d))return n[dh(d)]}(n,i,d);void 0!==j&&Array.isArray(j)&&(j=pg(null,n,i,j[1],d),j=Fc(j,i.attrs,d),function Ec(n,i,c,d){n[dh(c?i.classBindings:i.styleBindings)]=d}(n,i,d,j))}else y=function FE(n,i,c){let d;const f=i.directiveEnd;for(let y=1+i.directiveStylingLast;y<f;y++)d=Fc(d,n[y].hostAttrs,c);return Fc(d,i.attrs,c)}(n,i,d)}return void 0!==y&&(d?i.residualClasses=y:i.residualStyles=y),c}(f,y,i,d),function kE(n,i,c,d,f,y){let C=y?i.classBindings:i.styleBindings,P=dh(C),j=Lc(C);n[d]=c;let ge,oe=!1;if(Array.isArray(c)?(ge=c[1],(null===ge||Gi(c,ge)>0)&&(oe=!0)):ge=c,f)if(0!==j){const yt=dh(n[P+1]);n[d+1]=iv(yt,P),0!==yt&&(n[yt+1]=sv(n[yt+1],d)),n[P+1]=function sI(n,i){return 131071&n|i<<17}(n[P+1],d)}else n[d+1]=iv(P,0),0!==P&&(n[P+1]=sv(n[P+1],d)),P=d;else n[d+1]=iv(j,0),0===P?P=d:n[j+1]=sv(n[j+1],d),j=d;oe&&(n[d+1]=uf(n[d+1])),ov(n,ge,d,!0),ov(n,ge,d,!1),function L0(n,i,c,d,f){const y=f?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof i&&Gi(y,i)>=0&&(c[d+1]=_m(c[d+1]))}(i,ge,n,d,y),C=iv(P,j),y?i.classBindings=C:i.styleBindings=C}(f,y,i,c,C,d)}}function pg(n,i,c,d,f){let y=null;const C=c.directiveEnd;let P=c.directiveStylingLast;for(-1===P?P=c.directiveStart:P++;P<C&&(y=i[P],d=Fc(d,y.hostAttrs,f),y!==n);)P++;return null!==n&&(c.directiveStylingLast=P),d}function Fc(n,i,c){const d=c?1:2;let f=-1;if(null!==i)for(let y=0;y<i.length;y++){const C=i[y];"number"==typeof C?f=C:f===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zr(n,C,!!c||i[++y]))}return void 0===n?null:n}function fh(n,i,c){const d=String(i);""!==d&&!d.includes(" ")&&zr(n,d,c)}function pv(n,i,c,d,f,y,C,P){if(!(3&i.type))return;const j=n.data,oe=j[P+1],ge=function k0(n){return 1==(1&n)}(oe)?mv(j,i,c,f,Lc(oe),C):void 0;Pu(ge)||(Pu(y)||function xE(n){return 2==(2&n)}(oe)&&(y=mv(j,null,c,f,P,C)),function Cg(n,i,c,d,f){if(i)f?n.addClass(c,d):n.removeClass(c,d);else{let y=-1===d.indexOf("-")?void 0:Eh.DashCase;null==f?n.removeStyle(c,d,y):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),y|=Eh.Important),n.setStyle(c,d,f,y))}}(d,C,st(_e(),c),f,y))}function mv(n,i,c,d,f,y){const C=null===i;let P;for(;f>0;){const j=n[f],oe=Array.isArray(j),ge=oe?j[1]:j,$e=null===ge;let yt=c[f+1];yt===ri&&(yt=$e?gn:void 0);let Lt=$e?uc(yt,d):ge===d?yt:void 0;if(oe&&!Pu(Lt)&&(Lt=uc(j,d)),Pu(Lt)&&(P=Lt,C))return P;const ln=n[f+1];f=C?dh(ln):Lc(ln)}if(null!==i){let j=y?i.residualClasses:i.residualStyles;null!=j&&(P=uc(j,d))}return P}function Pu(n){return void 0!==n}function Ou(n,i){return 0!=(n.flags&(i?8:16))}function gv(n,i=""){const c=pt(),d=wn(),f=n+Cr,y=d.firstCreatePass?nh(d,f,1,i,null):d.data[f],C=_v(d,c,y,i,n);c[f]=C,os()&&zd(d,c,C,y),Jo(y,!1)}let _v=(n,i,c,d,f)=>(Wa(!0),_(i[sr],d));function op(n){return mg("",n,""),op}function mg(n,i,c){const d=pt(),f=Yf(d,n,i,c);return f!==ri&&Nc(d,_e(),f),mg}function vv(n,i,c,d,f){const y=pt(),C=function nf(n,i,c,d,f,y){const P=tf(n,il(),c,f);return No(2),P?i+He(c)+d+He(f)+y:ri}(y,n,i,c,d,f);return C!==ri&&Nc(y,_e(),C),vv}function G0(n,i,c,d,f,y,C){ia(zr,Bl,function Vl(n,i,c,d,f,y,C,P){const oe=E_(n,il(),c,f,C);return No(3),oe?i+He(c)+d+He(f)+y+He(C)+P:ri}(pt(),n,i,c,d,f,y,C),!0)}function vo(n,i,c){const d=pt();return Sl(d,Pl(),i)&&_c(wn(),gt(),d,n,i,d[sr],c,!0),vo}function oo(n,i,c){const d=pt();if(Sl(d,Pl(),i)){const y=wn(),C=gt();_c(y,C,d,n,i,My(xa(y.data),C,d),c,!0)}return oo}const Ma=void 0;var K0=["en",[["a","p"],["AM","PM"],Ma],[["AM","PM"],Ma,Ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ma,"{1} 'at' {0}",Ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ap(n){const c=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Tv={};function jE(n){const i=function zI(n){return n.toLowerCase().replace(/_/g,"-")}(n);let c=HE(i);if(c)return c;const d=i.split("-")[0];if(c=HE(d),c)return c;if("en"===d)return K0;throw new Le(701,!1)}function aI(n){return jE(n)[O_.PluralCase]}function HE(n){return n in Tv||(Tv[n]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[n]),Tv[n]}var O_=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(O_||{});const Ja="en-US",vm={marker:"element"},q0={marker:"ICU"};var xu=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(xu||{});let lI=Ja;function cI(n){(function Ve(n,i){null==n&&Te(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(lI=n.toLowerCase().replace(/_/g,"-"))}function $E(n,i,c){const d=i.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?Nv(n,0,c):fe(c[f])}function GE(n,i,c,d,f){const y=i.insertBeforeIndex;if(Array.isArray(y)){let C=d,P=null;if(3&i.type||(P=C,C=f),null!==C&&-1===i.componentOffset)for(let j=1;j<y.length;j++)Oc(n,C,c[y[j]],P,!1)}}function zE(n,i){if(n.push(i),n.length>1)for(let c=n.length-2;c>=0;c--){const d=n[c];WE(d)||Cv(d,i)&&null===qI(d)&&uI(d,i.index)}}function WE(n){return!(64&n.type)}function Cv(n,i){return WE(i)||n.index>i.index}function qI(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function uI(n,i){const c=n.insertBeforeIndex;Array.isArray(c)?c[0]=i:(Tm($E,GE),n.insertBeforeIndex=i)}function hI(n,i,c){const d=Gm(n,c,64,null,null);return zE(i,d),d}function JI(){const n=[];let c,d,i=-1;function y(P,j){i=0;const oe=function Sv(n,i){const c=i[n.currentCaseLViewIndex];return null===c?c:c<0?~c:c}(P,j);d=null!==oe?P.remove[oe]:gn}function C(){if(i<d.length){const P=d[i++];return P>0?c[P]:(n.push(i,d),y(c[Mn].data[~P],c),C())}return 0===n.length?null:(d=n.pop(),i=n.pop(),C())}return function f(P,j){for(c=j;n.length;)n.pop();return y(P.value,j),C}}const Z0=/\ufffd(\d+):?\d*\ufffd/gi,XI=/\ufffd(\d+)\ufffd/,DI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Mv="\ufffd",SI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ew=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,tw=/\uE500/g;function AI(n,i,c,d,f,y,C){const P=Yp(n,d,1,null);let j=P<<xu.SHIFT,oe=ci();i===oe&&(oe=null),null===oe&&(j|=xu.APPEND_EAGERLY),C&&(j|=xu.COMMENT,function Bd(n){void 0===Jc&&(Jc=n())}(JI)),f.push(j,null===y?"":y);const ge=Gm(n,P,C?32:1,null===y?"":y,null);zE(c,ge);const $e=ge.index;return Jo(ge,!1),null!==oe&&i!==oe&&function dI(n,i){let c=n.insertBeforeIndex;null===c?(Tm($E,GE),c=n.insertBeforeIndex=[null,i]):(function rr(n,i,c){n!=i&&Te(c,n,i,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(i))}(oe,$e),ge}function Y0(n,i,c,d,f,y,C){const P=C.match(Z0),j=AI(n,i,c,y,d,P?null:C,!1);P&&N_(f,C,j.index,null,0,null)}function N_(n,i,c,d,f,y){const C=n.length,P=C+1;n.push(null,null);const j=C+2,oe=i.split(Z0);let ge=0;for(let $e=0;$e<oe.length;$e++){const yt=oe[$e];if(1&$e){const Lt=f+parseInt(yt,10);n.push(-1-Lt),ge|=PI(Lt)}else""!==yt&&n.push(yt)}return n.push(c<<2|(d?1:0)),d&&n.push(d,y),n[C]=ge,n[P]=n.length-j,ge}function PI(n){return 1<<Math.min(n,31)}function KE(n){let i,y,c="",d=0,f=!1;for(;null!==(i=SI.exec(n));)f?i[0]===`${Mv}/*${y}${Mv}`&&(d=i.index,f=!1):(c+=n.substring(d,i.index+i[0].length),y=i[1],f=!0);return c+=n.slice(d),c}function Q0(n,i,c,d,f,y){let C=0;const P={type:f.type,currentCaseLViewIndex:Yp(n,i,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function u(n,i,c){n.push(PI(i.mainBinding),2,-1-i.mainBinding,c<<2|2)})(c,f,y),function ZI(n,i,c){const d=n.data[i];null===d?n.data[i]=c:d.value=c}(n,y,P);const j=f.values;for(let oe=0;oe<j.length;oe++){const ge=j[oe],$e=[];for(let yt=0;yt<ge.length;yt++){const Lt=ge[yt];if("string"!=typeof Lt){const ln=$e.push(Lt)-1;ge[yt]=`\x3c!--\ufffd${ln}\ufffd--\x3e`}}C=iw(n,P,i,c,d,f.cases[oe],ge.join(""),$e)|C}C&&function p(n,i,c){n.push(i,1,c<<2|3)}(c,C,y)}function rw(n){const i=[],c=[];let d=1,f=0;const y=qE(n=n.replace(DI,function(C,P,j){return d="select"===j?0:1,f=parseInt(P.slice(1),10),""}));for(let C=0;C<y.length;){let P=y[C++].trim();1===d&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&i.push(P);const j=qE(y[C++]);i.length>c.length&&c.push(j)}return{type:d,mainBinding:f,cases:i,values:c}}function qE(n){if(!n)return[];let i=0;const c=[],d=[],f=/[{}]/g;let y;for(f.lastIndex=0;y=f.exec(n);){const P=y.index;if("}"==y[0]){if(c.pop(),0==c.length){const j=n.substring(i,P);DI.test(j)?d.push(rw(j)):d.push(j),i=P+1}}else{if(0==c.length){const j=n.substring(i,P);d.push(j),i=P+1}c.push("{")}}const C=n.substring(i);return d.push(C),d}function iw(n,i,c,d,f,y,C,P){const j=[],oe=[],ge=[];i.cases.push(y),i.create.push(j),i.remove.push(oe),i.update.push(ge);const yt=Sg(Tp()).getInertBodyElement(C),Lt=Pf(yt)||yt;return Lt?a(n,i,c,d,j,oe,ge,Lt,f,P,0):0}function a(n,i,c,d,f,y,C,P,j,oe,ge){let $e=0,yt=P.firstChild;for(;yt;){const Lt=Yp(n,c,1,null);switch(yt.nodeType){case Node.ELEMENT_NODE:const ln=yt,Dn=ln.tagName.toLowerCase();if(Kd.hasOwnProperty(Dn)){E(f,vm,Dn,j,Lt),n.data[Lt]=Dn;const Di=ln.attributes;for(let us=0;us<Di.length;us++){const zo=Di.item(us),Od=zo.name.toLowerCase();zo.value.match(Z0)?X_.hasOwnProperty(Od)&&N_(C,zo.value,Lt,zo.name,0,tu[Od]?Mf:null):T(f,Lt,zo)}$e=a(n,i,c,d,f,y,C,yt,Lt,oe,ge+1)|$e,r(y,Lt,ge)}break;case Node.TEXT_NODE:const ar=yt.textContent||"",jr=ar.match(Z0);E(f,null,jr?"":ar,j,Lt),r(y,Lt,ge),jr&&($e=N_(C,ar,Lt,null,0,null)|$e);break;case Node.COMMENT_NODE:const En=XI.exec(yt.textContent||"");if(En){const us=oe[parseInt(En[1],10)];E(f,q0,"",j,Lt),Q0(n,c,d,j,us,Lt),o(y,Lt,ge)}}yt=yt.nextSibling}return $e}function r(n,i,c){0===c&&n.push(i)}function o(n,i,c){0===c&&(n.push(~i),n.push(i))}function E(n,i,c,d,f){null!==i&&n.push(i),n.push(c,f,function gI(n,i,c){return n|i<<17|c<<1}(0,d,f))}function T(n,i,c){n.push(i<<1|1,c.name,c.value)}function zn(n,i,c=-1){const d=wn(),f=pt(),y=Cr+n,C=ei(d.consts,i),P=ci();d.firstCreatePass&&function Pv(n,i,c,d,f,y){const C=ci(),P=[],j=[],oe=[[]];f=function nw(n,i){if(function OI(n){return-1===n}(i))return KE(n);{const c=n.indexOf(`:${i}${Mv}`)+2+i.toString().length,d=n.search(new RegExp(`${Mv}\\/\\*\\d+:${i}${Mv}`));return KE(n.substring(c,d))}}(f,y);const ge=function x_(n){return n.replace(tw," ")}(f).split(ew);for(let $e=0;$e<ge.length;$e++){let yt=ge[$e];if(1&$e){const Lt=47===yt.charCodeAt(0),Dn=(yt.charCodeAt(Lt?1:0),Cr+Number.parseInt(yt.substring(Lt?2:1)));if(Lt)oe.shift(),Jo(ci(),!1);else{const ar=hI(n,oe[0],Dn);oe.unshift([]),Jo(ar,!0)}}else{const Lt=qE(yt);for(let ln=0;ln<Lt.length;ln++){let Dn=Lt[ln];if(1&ln){const ar=Dn;if("object"!=typeof ar)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Q0(n,c,j,i,ar,AI(n,C,oe[0],c,P,"",!0).index)}else""!==Dn&&Y0(n,C,oe[0],P,j,c,Dn)}}}n.data[d]={create:P,update:j}}(d,null===P?0:P.index,f,y,C,c),2===d.type?f[bi][Qn]|=32:f[Qn]|=32;const j=d.data[y],ge=Gd(d,P===f[ki]?null:P,f);(function QI(n,i,c,d){const f=n[sr];for(let y=0;y<i.length;y++){const C=i[y++],P=i[y],oe=(C&xu.APPEND_EAGERLY)===xu.APPEND_EAGERLY,ge=C>>>xu.SHIFT;let $e=n[ge];null===$e&&($e=n[ge]=(C&xu.COMMENT)===xu.COMMENT?f.createComment(P):_(f,P)),oe&&null!==c&&Oc(f,c,$e,d,!1)}})(f,j.create,ge,P&&8&P.type?f[P.index]:null),sl(!0)}function pi(n,i,c){zn(n,i,c),function Br(){sl(!1)}()}function cu(n,i,c,d,f){if(n=ft(n),Array.isArray(n))for(let y=0;y<n.length;y++)cu(n[y],i,c,d,f);else{const y=wn(),C=pt(),P=kt();let j=jo(n)?n:ft(n.provide);const oe=Yv(n),ge=1048575&P.providerIndexes,$e=P.directiveStart,yt=P.providerIndexes>>20;if(jo(n)||!n.multi){const Lt=new po(oe,f,qh),ln=yg(j,i,f?ge:ge+yt,$e);-1===ln?(yu(Vu(P,C),y,j),ph(y,n,i.length),i.push(j),P.directiveStart++,P.directiveEnd++,f&&(P.providerIndexes+=1048576),c.push(Lt),C.push(Lt)):(c[ln]=Lt,C[ln]=Lt)}else{const Lt=yg(j,i,ge+yt,$e),ln=yg(j,i,ge,ge+yt),ar=ln>=0&&c[ln];if(f&&!ar||!f&&!(Lt>=0&&c[Lt])){yu(Vu(P,C),y,j);const jr=function Mr(n,i,c,d,f){const y=new po(n,c,qh);return y.multi=[],y.index=i,y.componentProviders=0,ZE(y,f,d&&!c),y}(f?xI:vg,c.length,f,d,oe);!f&&ar&&(c[ln].providerFactory=jr),ph(y,n,i.length,0),i.push(j),P.directiveStart++,P.directiveEnd++,f&&(P.providerIndexes+=1048576),c.push(jr),C.push(jr)}else ph(y,n,Lt>-1?Lt:ln,ZE(c[f?ln:Lt],oe,!f&&d));!f&&d&&ar&&c[ln].componentProviders++}}}function ph(n,i,c,d){const f=jo(i),y=function Kv(n){return!!n.useClass}(i);if(f||y){const j=(y?ft(i.useClass):i).prototype.ngOnDestroy;if(j){const oe=n.destroyHooks||(n.destroyHooks=[]);if(!f&&i.multi){const ge=oe.indexOf(c);-1===ge?oe.push(c,[d,j]):oe[ge+1].push(d,j)}else oe.push(c,j)}}}function ZE(n,i,c){return c&&n.componentProviders++,n.multi.push(i)-1}function yg(n,i,c,d){for(let f=c;f<d;f++)if(i[f]===n)return f;return-1}function vg(n,i,c,d){return J0(this.multi,[])}function xI(n,i,c,d){const f=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,P=ca(c,c[Mn],this.providerFactory.index,d);y=P.slice(0,C),J0(f,y);for(let j=C;j<P.length;j++)y.push(P[j])}else y=[],J0(f,y);return y}function J0(n,i){for(let c=0;c<n.length;c++)i.push((0,n[c])());return i}function Zr(n,i=[]){return c=>{c.providersResolver=(d,f)=>function lu(n,i,c){const d=wn();if(d.firstCreatePass){const f=Or(n);cu(c,d.data,d.blueprint,f,!0),cu(i,d.data,d.blueprint,f,!1)}}(d,f?f(n):n,i)}}class Wr{}class Rs{}function nc(n,i){return new uu(n,i??null,[])}class uu extends Wr{constructor(i,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qm(this);const f=dr(i);this._bootstrapComponents=na(f.bootstrap),this._r3Injector=Dl(i,c,[{provide:Wr,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver},...d],Be(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class mf extends Rs{constructor(i){super(),this.moduleType=i}create(i){return new uu(this.moduleType,i,[])}}class YE extends Wr{constructor(i){super(),this.componentFactoryResolver=new Qm(this),this.instance=null;const c=new Op([...i.providers,{provide:Wr,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver}],i.parent||xh(),i.debugName,new Set(["environment"]));this.injector=c,i.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function NI(n,i,c=null){return new YE({providers:n,parent:i,debugName:c,runEnvironmentInitializers:!0}).injector}let Uc=(()=>{var n;class i{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const f=Mp(0,d.type),y=f.length>0?NI([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,y)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(n=i).\u0275prov=hn({token:n,providedIn:"environment",factory:()=>new n(tn(Yu))}),i})();function Em(n){n.getStandaloneInjector=i=>i.get(Uc).getOrCreateStandaloneInjector(n)}function jw(n,i,c){const d=Vo()+n,f=pt();return f[d]===ri?Cd(f,d,c?i.call(c):i()):function lm(n,i){return n[i]}(f,d)}function Hw(n,i,c,d){return Ww(pt(),Vo(),n,i,c,d)}function $w(n,i,c,d,f){return Kw(pt(),Vo(),n,i,c,d,f)}function Gw(n,i,c,d,f,y){return function qw(n,i,c,d,f,y,C,P){const j=i+c;return E_(n,j,f,y,C)?Cd(n,j+3,P?d.call(P,f,y,C):d(f,y,C)):QE(n,j+3)}(pt(),Vo(),n,i,c,d,f,y)}function zw(n,i,c,d,f,y,C){return function Zw(n,i,c,d,f,y,C,P,j){const oe=i+c;return function Au(n,i,c,d,f,y){const C=tf(n,i,c,d);return tf(n,i+2,f,y)||C}(n,oe,f,y,C,P)?Cd(n,oe+4,j?d.call(j,f,y,C,P):d(f,y,C,P)):QE(n,oe+4)}(pt(),Vo(),n,i,c,d,f,y,C)}function QE(n,i){const c=n[i];return c===ri?void 0:c}function Ww(n,i,c,d,f,y){const C=i+c;return Sl(n,C,f)?Cd(n,C+1,y?d.call(y,f):d(f)):QE(n,C+1)}function Kw(n,i,c,d,f,y,C){const P=i+c;return tf(n,P,f,y)?Cd(n,P+2,C?d.call(C,f,y):d(f,y)):QE(n,P+2)}function Qw(n,i){const c=wn();let d;const f=n+Cr;c.firstCreatePass?(d=function NT(n,i){if(i)for(let c=i.length-1;c>=0;c--){const d=i[c];if(n===d.name)return d}}(i,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks??=[]).push(f,d.onDestroy)):d=c.data[f];const y=d.factory||(d.factory=Os(d.type)),P=Tr(qh);try{const j=Tc(!1),oe=y();return Tc(j),function T0(n,i,c,d){c>=n.data.length&&(n.data[c]=null,n.blueprint[c]=null),i[c]=d}(c,pt(),f,oe),oe}finally{Tr(P)}}function Jw(n,i,c){const d=n+Cr,f=pt(),y=mn(f,d);return JE(f,d)?Ww(f,Vo(),i,y.transform,c,y):y.transform(c)}function Xw(n,i,c,d){const f=n+Cr,y=pt(),C=mn(y,f);return JE(y,f)?Kw(y,Vo(),i,C.transform,c,d,C):C.transform(c,d)}function JE(n,i){return n[Mn].data[i].pure}function UT(){return this._results[Symbol.iterator]()}class sw{get changes(){return this._changes||(this._changes=new iu)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=sw.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=UT)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,c){return this._results.reduce(i,c)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,c){const d=this;d.dirty=!1;const f=function at(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Fe(n,i,c){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let f=n[d],y=i[d];if(c&&(f=c(f),y=c(y)),y!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function BT(n,i,c,d=!0){const f=i[Mn];if(function Pn(n,i,c,d){const f=Bs+d,y=c.length;d>0&&(c[f-1][Zn]=i),d<y-Bs?(i[Zn]=c[f],Yt(c,Bs+d,i)):(c.push(i),i[Zn]=null),i[si]=c;const C=i[Vr];null!==C&&c!==C&&function tr(n,i){const c=n[Xi];i[bi]!==i[si][si][bi]&&(n[Vs]=!0),null===c?n[Xi]=[i]:c.push(i)}(C,i);const P=i[Fr];null!==P&&P.insertView(n),i[Qn]|=128}(f,i,n,c),d){const y=ha(c,n),C=i[sr],P=Sh(C,n[ps]);null!==P&&function We(n,i,c,d,f,y){d[Xr]=f,d[ki]=i,gc(n,d,c,1,f,y)}(f,n[ki],C,i,P,y)}}let XE=(()=>{class i{}return i.__NG_ELEMENT_ID__=$T,i})();const jT=XE,HT=class extends jT{constructor(i,c,d){super(),this._declarationLView=i,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,c){return this.createEmbeddedViewImpl(i,c)}createEmbeddedViewImpl(i,c,d){const f=function VT(n,i,c,d){const f=i.tView,P=Zp(n,f,c,4096&n[Qn]?4096:16,null,i,null,null,null,d?.injector??null,d?.hydrationInfo??null);P[Vr]=n[i.index];const oe=n[Fr];return null!==oe&&(P[Fr]=oe.createEmbeddedView(f)),Zm(f,P,c),P}(this._declarationLView,this._declarationTContainer,i,{injector:c,hydrationInfo:d});return new qf(f)}};function $T(){return kI(kt(),pt())}function kI(n,i){return 4&n.type?new HT(i,n,Aa(n,i)):null}let FI=(()=>{class i{}return i.__NG_ELEMENT_ID__=ZT,i})();function ZT(){return ob(kt(),pt())}const YT=FI,ib=class extends YT{constructor(i,c,d){super(),this._lContainer=i,this._hostTNode=c,this._hostLView=d}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){const i=ql(this._hostTNode,this._hostLView);if(gu(i)){const c=$c(i,this._hostLView),d=Hc(i);return new mo(c[Mn].data[d+8],c)}return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const c=sb(this._lContainer);return null!==c&&c[i]||null}get length(){return this._lContainer.length-Bs}createEmbeddedView(i,c,d){let f,y;"number"==typeof d?f=d:null!=d&&(f=d.index,y=d.injector);const P=i.createEmbeddedViewImpl(c||{},y,null);return this.insertImpl(P,f,false),P}createComponent(i,c,d,f,y){const C=i&&!function le(n){return"function"==typeof n}(i);let P;if(C)P=c;else{const Dn=c||{};P=Dn.index,d=Dn.injector,f=Dn.projectableNodes,y=Dn.environmentInjector||Dn.ngModuleRef}const j=C?i:new am(Wt(i)),oe=d||this.parentInjector;if(!y&&null==j.ngModule){const ar=(C?oe:this.parentInjector).get(Yu,null);ar&&(y=ar)}Wt(j.componentType??{});const Lt=j.create(oe,f,null,y);return this.insertImpl(Lt.hostView,P,false),Lt}insert(i,c){return this.insertImpl(i,c,!1)}insertImpl(i,c,d){const f=i._lView;if(function Ur(n){return fi(n[si])}(f)){const j=this.indexOf(i);if(-1!==j)this.detach(j);else{const oe=f[si],ge=new ib(oe,oe[ki],oe[si]);ge.detach(ge.indexOf(i))}}const C=this._adjustIndex(c),P=this._lContainer;return BT(P,f,C,!d),i.attachToViewContainerRef(),Yt(ow(P),C,i),i}move(i,c){return this.insert(i,c)}indexOf(i){const c=sb(this._lContainer);return null!==c?c.indexOf(i):-1}remove(i){const c=this._adjustIndex(i,-1),d=io(this._lContainer,c);d&&(On(ow(this._lContainer),c),Xl(d[Mn],d))}detach(i){const c=this._adjustIndex(i,-1),d=io(this._lContainer,c);return d&&null!=On(ow(this._lContainer),c)?new qf(d):null}_adjustIndex(i,c=0){return i??this.length+c}};function sb(n){return n[8]}function ow(n){return n[8]||(n[8]=[])}function ob(n,i){let c;const d=i[n.index];return fi(d)?c=d:(c=Ns(d,i,null,n),i[n.index]=c,bd(i,c)),ab(c,i,n,d),new ib(c,n,i)}let ab=function lb(n,i,c,d){if(n[ps])return;let f;f=8&c.type?fe(d):function QT(n,i){const c=n[sr],d=c.createComment(""),f=nt(i,n);return Oc(c,Sh(c,f),d,function Ip(n,i){return n.nextSibling(i)}(c,f),!1),d}(i,c),n[ps]=f};class aw{constructor(i){this.queryList=i,this.matches=null}clone(){return new aw(this.queryList)}setDirty(){this.queryList.setDirty()}}class lw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const c=i.queries;if(null!==c){const d=null!==i.contentQueries?i.contentQueries[0]:c.length,f=[];for(let y=0;y<d;y++){const C=c.getByIndex(y);f.push(this.queries[C.indexInDeclarationView].clone())}return new lw(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let c=0;c<this.queries.length;c++)null!==_b(i,c).matches&&this.queries[c].setDirty()}}class cb{constructor(i,c,d=null){this.predicate=i,this.flags=c,this.read=d}}class cw{constructor(i=[]){this.queries=i}elementStart(i,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,c)}elementEnd(i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(i)}embeddedTView(i){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,y=this.getByIndex(d).embeddedTView(i,f);y&&(y.indexInDeclarationView=d,null!==c?c.push(y):c=[y])}return null!==c?new cw(c):null}template(i,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,c)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class uw{constructor(i,c=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(i,c){this.isApplyingToNode(c)&&this.matchTNode(i,c)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,c){this.elementStart(i,c)}embeddedTView(i,c){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,c),new uw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const y=d[f];this.matchTNodeWithReadOption(i,c,eC(c,y)),this.matchTNodeWithReadOption(i,c,Hu(c,i,y,!1,!1))}else d===XE?4&c.type&&this.matchTNodeWithReadOption(i,c,-1):this.matchTNodeWithReadOption(i,c,Hu(c,i,d,!1,!1))}matchTNodeWithReadOption(i,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Bp||f===FI||f===XE&&4&c.type)this.addMatch(c.index,-2);else{const y=Hu(c,i,f,!1,!1);null!==y&&this.addMatch(c.index,y)}else this.addMatch(c.index,d)}}addMatch(i,c){null===this.matches?this.matches=[i,c]:this.matches.push(i,c)}}function eC(n,i){const c=n.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===i)return c[d+1];return null}function nC(n,i,c,d){return-1===c?function tC(n,i){return 11&n.type?Aa(n,i):4&n.type?kI(n,i):null}(i,n):-2===c?function rC(n,i,c){return c===Bp?Aa(i,n):c===XE?kI(i,n):c===FI?ob(i,n):void 0}(n,i,d):ca(n,n[Mn],c,i)}function ub(n,i,c,d){const f=i[Fr].queries[d];if(null===f.matches){const y=n.data,C=c.matches,P=[];for(let j=0;j<C.length;j+=2){const oe=C[j];P.push(oe<0?null:nC(i,y[oe],C[j+1],c.metadata.read))}f.matches=P}return f.matches}function dw(n,i,c,d){const f=n.queries.getByIndex(c),y=f.matches;if(null!==y){const C=ub(n,i,f,c);for(let P=0;P<y.length;P+=2){const j=y[P];if(j>0)d.push(C[P/2]);else{const oe=y[P+1],ge=i[-j];for(let $e=Bs;$e<ge.length;$e++){const yt=ge[$e];yt[Vr]===yt[si]&&dw(yt[Mn],yt,oe,d)}if(null!==ge[Xi]){const $e=ge[Xi];for(let yt=0;yt<$e.length;yt++){const Lt=$e[yt];dw(Lt[Mn],Lt,oe,d)}}}}}return d}function db(n){const i=pt(),c=wn(),d=Ci();fu(d+1);const f=_b(c,d);if(n.dirty&&function jn(n){return 4==(4&n[Qn])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const y=f.crossesNgTemplate?dw(c,i,d,[]):ub(c,i,f,d);n.reset(y,my),n.notifyOnChanges()}return!0}return!1}function hb(n,i,c){const d=wn();d.firstCreatePass&&(gb(d,new cb(n,i,c),-1),2==(2&i)&&(d.staticViewQueries=!0)),mb(d,pt(),i)}function fb(n,i,c,d){const f=wn();if(f.firstCreatePass){const y=kt();gb(f,new cb(i,c,d),y.index),function sC(n,i){const c=n.contentQueries||(n.contentQueries=[]);i!==(c.length?c[c.length-1]:-1)&&c.push(n.queries.length-1,i)}(f,n),2==(2&c)&&(f.staticContentQueries=!0)}mb(f,pt(),c)}function pb(){return function iC(n,i){return n[Fr].queries[i].queryList}(pt(),Ci())}function mb(n,i,c){const d=new sw(4==(4&c));(function Qh(n,i,c,d){const f=Wm(i);f.push(c),n.firstCreatePass&&Xu(n).push(d,f.length-1)})(n,i,d,d.destroy),null===i[Fr]&&(i[Fr]=new lw),i[Fr].queries.push(new aw(d))}function gb(n,i,c){null===n.queries&&(n.queries=new cw),n.queries.track(new uw(i,c))}function _b(n,i){return n.queries.getByIndex(i)}function yb(n,i){return kI(n,i)}function hw(n){return!!dr(n)}const kb=new Ts("Application Initializer");let _w=(()=>{var n;class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=dn(kb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const y of this.appInits){const C=y();if(tc(C))d.push(C);else if(Jy(C)){const P=new Promise((j,oe)=>{C.subscribe({complete:j,error:oe})});d.push(P)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{f()}).catch(y=>{this.reject(y)}),0===d.length&&f(),this.initialized=!0}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),Lb=(()=>{var n;class i{log(d){console.log(d)}warn(d){console.warn(d)}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),i})();const VI=new Ts("LocaleId",{providedIn:"root",factory:()=>dn(VI,kn.Optional|kn.SkipSelf)||function DC(){return typeof $localize<"u"&&$localize.locale||Ja}()}),SC=new Ts("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Fb=(()=>{var n;class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();class RC{constructor(i,c){this.ngModuleFactory=i,this.componentFactories=c}}let MC=(()=>{var n;class i{compileModuleSync(d){return new mf(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),C=na(dr(d).declarations).reduce((P,j)=>{const oe=Wt(j);return oe&&P.push(new am(oe)),P},[]);return new RC(f,C)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();const jb=new Ts(""),Hb=new Ts("");let Ew,YC=(()=>{var n;class i{constructor(d,f,y){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ew||(function QC(n){Ew=n}(y),y.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ya.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,y){let C=-1;f&&f>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==C),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:C,updateCb:y})}whenStable(d,f,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,y){return[]}}return(n=i).\u0275fac=function(d){return new(d||n)(tn(Ya),tn($b),tn(Hb))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),i})(),$b=(()=>{var n;class i{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Ew?.findTestabilityInTree(this,d,f)??null}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),i})(),k_=null;const Gb=new Ts("AllowMultipleToken"),Iw=new Ts("PlatformDestroyListeners"),ww=new Ts("appBootstrapListener");class eD{constructor(i,c){this.name=i,this.token=c}}function Kb(n,i,c=[]){const d=`Platform: ${i}`,f=new Ts(d);return(y=[])=>{let C=bw();if(!C||C.injector.get(Gb,!1)){const P=[...c,...y,{provide:f,useValue:!0}];n?n(P):function tD(n){if(k_&&!k_.get(Gb,!1))throw new Le(400,!1);(function zb(){!function Ea(n){Co=n}(()=>{throw new Le(600,!1)})})(),k_=n;const i=n.get(Zb);(function Wb(n){n.get(iy,null)?.forEach(c=>c())})(n)}(function qb(n=[],i){return nu.create({name:i,providers:[{provide:Og,useValue:"platform"},{provide:Iw,useValue:new Set([()=>k_=null])},...n]})}(P,d))}return function rD(n){const i=bw();if(!i)throw new Le(401,!1);return i}()}}function bw(){return k_?.get(Zb)??null}let Zb=(()=>{var n;class i{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const y=function iD(n="zone.js",i){return"noop"===n?new Xg:"zone.js"===n?new Ya(i):n}(f?.ngZone,function Yb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return y.run(()=>{const C=function Ua(n,i,c){return new uu(n,i,c)}(d.moduleType,this.injector,function tT(n){return[{provide:Ya,useFactory:n},{provide:so,multi:!0,useFactory:()=>{const i=dn(oD,{optional:!0});return()=>i.initialize()}},{provide:eT,useFactory:sD},{provide:Bf,useFactory:wy}]}(()=>y)),P=C.injector.get(Wh,null);return y.runOutsideAngular(()=>{const j=y.onError.subscribe({next:oe=>{P.handleError(oe)}});C.onDestroy(()=>{jI(this._modules,C),j.unsubscribe()})}),function Qb(n,i,c){try{const d=c();return tc(d)?d.catch(f=>{throw i.runOutsideAngular(()=>n.handleError(f)),f}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(P,y,()=>{const j=C.injector.get(_w);return j.runInitializers(),j.donePromise.then(()=>(cI(C.injector.get(VI,Ja)||Ja),this._moduleDoBootstrap(C),C))})})}bootstrapModule(d,f=[]){const y=Jb({},f);return function JC(n,i,c){const d=new mf(c);return Promise.resolve(d)}(0,0,d).then(C=>this.bootstrapModuleFactory(C,y))}_moduleDoBootstrap(d){const f=d.injector.get(nE);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(y=>f.bootstrap(y));else{if(!d.instance.ngDoBootstrap)throw new Le(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(Iw,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(n=i).\u0275fac=function(d){return new(d||n)(tn(nu))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),i})();function Jb(n,i){return Array.isArray(i)?i.reduce(Jb,n):{...n,...i}}let nE=(()=>{var n;class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dn(eT),this.zoneIsStable=dn(Bf),this.componentTypes=[],this.components=[],this.isStable=dn(Fb).hasPendingTasks.pipe((0,ke.w)(d=>d?(0,De.of)(!1):this.zoneIsStable),(0,Oe.x)(),(0,Ue.B)()),this._injector=dn(Yu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const y=d instanceof fy;if(!this._injector.get(_w).done)throw!y&&vr(d),new Le(405,!1);let P;P=y?d:this._injector.get(Vp).resolveComponentFactory(d),this.componentTypes.push(P.componentType);const j=function XC(n){return n.isBoundToModule}(P)?void 0:this._injector.get(Wr),ge=P.create(nu.NULL,[],f||P.selector,j),$e=ge.location.nativeElement,yt=ge.injector.get(jb,null);return yt?.registerApplication($e),ge.onDestroy(()=>{this.detachView(ge.hostView),jI(this.components,ge),yt?.unregisterApplication($e)}),this._loadComponent(ge),ge}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;jI(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(ww,[]);f.push(...this._bootstrapListeners),f.forEach(y=>y(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>jI(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Le(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function jI(n,i){const c=n.indexOf(i);c>-1&&n.splice(c,1)}const eT=new Ts("",{providedIn:"root",factory:()=>dn(Wh).handleError.bind(void 0)});function sD(){const n=dn(Ya),i=dn(Wh);return c=>n.runOutsideAngular(()=>i.handleError(c))}let oD=(()=>{var n;class i{constructor(){this.zone=dn(Ya),this.applicationRef=dn(nE)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(n=i).\u0275fac=function(d){return new(d||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function lD(){return!1}let cD=(()=>{class i{}return i.__NG_ELEMENT_ID__=uD,i})();function uD(n){return function dD(n,i,c){if(js(n)&&!c){const d=on(n.index,i);return new qf(d,d)}return 47&n.type?new qf(i[bi],i):null}(kt(),pt(),16==(16&n))}class sT{constructor(){}supports(i){return $y(i)}create(i){return new _D(i)}}const gD=(n,i)=>i;class _D{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||gD}forEachItem(i){let c;for(c=this._itHead;null!==c;c=c._next)i(c)}forEachOperation(i){let c=this._itHead,d=this._removalsHead,f=0,y=null;for(;c||d;){const C=!d||c&&c.currentIndex<aT(d,f,y)?c:d,P=aT(C,f,y),j=C.currentIndex;if(C===d)f--,d=d._nextRemoved;else if(c=c._next,null==C.previousIndex)f++;else{y||(y=[]);const oe=P-f,ge=j-f;if(oe!=ge){for(let yt=0;yt<oe;yt++){const Lt=yt<y.length?y[yt]:y[yt]=0,ln=Lt+yt;ge<=ln&&ln<oe&&(y[yt]=Lt+1)}y[C.previousIndex]=ge-oe}}P!==j&&i(C,P,j)}}forEachPreviousItem(i){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachMovedItem(i){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}forEachIdentityChange(i){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)i(c)}diff(i){if(null==i&&(i=[]),!$y(i))throw new Le(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,y,C,c=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)y=i[P],C=this._trackByFn(P,y),null!==c&&Object.is(c.trackById,C)?(d&&(c=this._verifyReinsertion(c,y,C,P)),Object.is(c.item,y)||this._addIdentityChange(c,y)):(c=this._mismatch(c,y,C,P),d=!0),c=c._next}else f=0,function ra(n,i){if(Array.isArray(n))for(let c=0;c<n.length;c++)i(n[c]);else{const c=n[Symbol.iterator]();let d;for(;!(d=c.next()).done;)i(d.value)}}(i,P=>{C=this._trackByFn(f,P),null!==c&&Object.is(c.trackById,C)?(d&&(c=this._verifyReinsertion(c,P,C,f)),Object.is(c.item,P)||this._addIdentityChange(c,P)):(c=this._mismatch(c,P,C,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,c,d,f){let y;return null===i?y=this._itTail:(y=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._reinsertAfter(i,y,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._moveAfter(i,y,f)):i=this._addAfter(new yD(c,d),y,f),i}_verifyReinsertion(i,c,d,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?i=this._reinsertAfter(y,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const c=i._next;this._addToRemovals(this._unlink(i)),i=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,y=i._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(i,c,d),this._addToMoves(i,d),i}_moveAfter(i,c,d){return this._unlink(i),this._insertAfter(i,c,d),this._addToMoves(i,d),i}_addAfter(i,c,d){return this._insertAfter(i,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,c,d){const f=null===c?this._itHead:c._next;return i._next=f,i._prev=c,null===f?this._itTail=i:f._prev=i,null===c?this._itHead=i:c._next=i,null===this._linkedRecords&&(this._linkedRecords=new oT),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const c=i._prev,d=i._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,i}_addToMoves(i,c){return i.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oT),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,c){return i.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class yD{constructor(i,c){this.item=i,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const c=i._prevDup,d=i._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class oT{constructor(){this.map=new Map}put(i){const c=i.trackById;let d=this.map.get(c);d||(d=new vD,this.map.set(c,d)),d.add(i)}get(i,c){const f=this.map.get(i);return f?f.get(i,c):null}remove(i){const c=i.trackById;return this.map.get(c).remove(i)&&this.map.delete(c),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aT(n,i,c){const d=n.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+i+f}class lT{constructor(){}supports(i){return i instanceof Map||eg(i)}create(){return new ED}}class ED{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let c;for(c=this._mapHead;null!==c;c=c._next)i(c)}forEachPreviousItem(i){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)i(c)}forEachChangedItem(i){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}diff(i){if(i){if(!(i instanceof Map||eg(i)))throw new Le(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const y=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,y)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,c){if(i){const d=i._prev;return c._next=i,c._prev=d,i._prev=c,d&&(d._next=c),i===this._mapHead&&(this._mapHead=c),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(i,c){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,c);const y=f._prev,C=f._next;return y&&(y._next=C),C&&(C._prev=y),f._next=null,f._prev=null,f}const d=new ID(i);return this._records.set(i,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,c){Object.is(c,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=c,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,c){i instanceof Map?i.forEach(c):Object.keys(i).forEach(d=>c(i[d],d))}}class ID{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cT(){return new Aw([new sT])}let Aw=(()=>{var n;class i{constructor(d){this.factories=d}static create(d,f){if(null!=f){const y=f.factories.slice();d=d.concat(y)}return new i(d)}static extend(d){return{provide:i,useFactory:f=>i.create(d,f||cT()),deps:[[i,new $u,new fd]]}}find(d){const f=this.factories.find(y=>y.supports(d));if(null!=f)return f;throw new Le(901,!1)}}return(n=i).\u0275prov=hn({token:n,providedIn:"root",factory:cT}),i})();function uT(){return new Rw([new lT])}let Rw=(()=>{var n;class i{constructor(d){this.factories=d}static create(d,f){if(f){const y=f.factories.slice();d=d.concat(y)}return new i(d)}static extend(d){return{provide:i,useFactory:f=>i.create(d,f||uT()),deps:[[i,new $u,new fd]]}}find(d){const f=this.factories.find(y=>y.supports(d));if(f)return f;throw new Le(901,!1)}}return(n=i).\u0275prov=hn({token:n,providedIn:"root",factory:uT}),i})();const TD=Kb(null,"core",[]);let CD=(()=>{var n;class i{constructor(d){}}return(n=i).\u0275fac=function(d){return new(d||n)(tn(nE))},n.\u0275mod=Fi({type:n}),n.\u0275inj=Bn({}),i})();function LD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function UD(n,i){const c=Wt(n),d=i.elementInjector||xh();return new am(c).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}function VD(n){const i=Wt(n);if(!i)return null;const c=new am(i);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},3399:(un,it,k)=>{k.d(it,{Z:()=>wt});var g=k(9058),z=k(4537),H=k(7592),Ae=k(7879);class Ce{constructor(Ut,Ft){this._delegate=Ut,this.firebase=Ft,(0,H._addComponent)(Ut,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ut){this._delegate.automaticDataCollectionEnabled=Ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ut=>{this._delegate.checkDestroyed(),Ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ut,Ft=H._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Qt=this._delegate.container.getProvider(Ut);return!Qt.isInitialized()&&"EXPLICIT"===(null===(Ye=Qt.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Qt.initialize(),Qt.getImmediate({identifier:Ft})}_removeServiceInstance(Ut,Ft=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ut).clearInstance(Ft)}_addComponent(Ut){(0,H._addComponent)(this._delegate,Ut)}_addOrOverwriteComponent(Ut){(0,H._addOrOverwriteComponent)(this._delegate,Ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function Oe(){const ft=function ke(ft){const Ut={},Ft={__esModule:!0,initializeApp:function Le(Pt,Ge={}){const Ke=H.initializeApp(Pt,Ge);if((0,g.r3)(Ut,Ke.name))return Ut[Ke.name];const Bt=new ft(Ke,Ft);return Ut[Ke.name]=Bt,Bt},app:Qt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function He(Pt){const Ge=Pt.name,Ke=Ge.replace("-compat","");if(H._registerComponent(Pt)&&"PUBLIC"===Pt.type){const Bt=(Et=Qt())=>{if("function"!=typeof Et[Ke])throw Ue.create("invalid-app-argument",{appName:Ge});return Et[Ke]()};void 0!==Pt.serviceProps&&(0,g.ZB)(Bt,Pt.serviceProps),Ft[Ke]=Bt,ft.prototype[Ke]=function(...Et){return this._getService.bind(this,Ge).apply(this,Pt.multipleInstances?Et:[])}}return"PUBLIC"===Pt.type?Ft[Ke]:null},removeApp:function Ye(Pt){delete Ut[Pt]},useAsService:function vt(Pt,Ge){return"serverAuth"===Ge?null:Ge},modularAPIs:H}};function Qt(Pt){if(!(0,g.r3)(Ut,Pt=Pt||H._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:Pt});return Ut[Pt]}return Ft.default=Ft,Object.defineProperty(Ft,"apps",{get:function Qe(){return Object.keys(Ut).map(Pt=>Ut[Pt])}}),Qt.App=ft,Ft}(Ce);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function Ut(Ft){(0,g.ZB)(ft,Ft)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ft}(),Se=new Ae.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){Se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&Se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const wt=ye;!function ct(ft){(0,H.registerVersion)("@firebase/app-compat","0.2.13",ft)}()},7592:(un,it,k)=>{k.r(it),k.d(it,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>Bn,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>tt,_addOrOverwriteComponent:()=>Ee,_apps:()=>rt,_clearComponents:()=>jt,_components:()=>It,_getProvider:()=>Te,_registerComponent:()=>Ve,_removeServiceInstance:()=>qe,deleteApp:()=>kr,getApp:()=>Fn,getApps:()=>Er,initializeApp:()=>xr,onLog:()=>hr,registerVersion:()=>Kn,setLogLevel:()=>Ei});var g=k(5861),z=k(4537),H=k(7879),Ae=k(9058),Ce=k(1878);class De{constructor(Je){this.container=Je}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function Ue($t){const Je=$t.getComponent();return"VERSION"===Je?.type}(Gt)){const Nt=Gt.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(Gt=>Gt).join(" ")}}const ke="@firebase/app",ye=new H.Yd("@firebase/app"),ht="[DEFAULT]",Dt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,It=new Map;function tt($t,Je){try{$t.container.addComponent(Je)}catch(Gt){ye.debug(`Component ${Je.name} failed to register with FirebaseApp ${$t.name}`,Gt)}}function Ee($t,Je){$t.container.addOrOverwriteComponent(Je)}function Ve($t){const Je=$t.name;if(It.has(Je))return ye.debug(`There were multiple attempts to register component ${Je}.`),!1;It.set(Je,$t);for(const Gt of rt.values())tt(Gt,$t);return!0}function Te($t,Je){const Gt=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),$t.container.getProvider(Je)}function qe($t,Je,Gt=ht){Te($t,Je).clearInstance(Gt)}function jt(){It.clear()}const hn=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(Je,Gt,Nt){this._isDeleted=!1,this._options=Object.assign({},Je),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this.checkDestroyed(),this._automaticDataCollectionEnabled=Je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Je){this._isDeleted=Je}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const Bn="9.23.0";function xr($t,Je={}){let Gt=$t;"object"!=typeof Je&&(Je={name:Je});const Nt=Object.assign({name:ht,automaticDataCollectionEnabled:!1},Je),vn=Nt.name;if("string"!=typeof vn||!vn)throw hn.create("bad-app-name",{appName:String(vn)});if(Gt||(Gt=(0,Ae.aH)()),!Gt)throw hn.create("no-options");const Vn=rt.get(vn);if(Vn){if((0,Ae.vZ)(Gt,Vn.options)&&(0,Ae.vZ)(Nt,Vn.config))return Vn;throw hn.create("duplicate-app",{appName:vn})}const pr=new z.H0(vn);for(const Q of It.values())pr.addComponent(Q);const ve=new Cn(Gt,Nt,pr);return rt.set(vn,ve),ve}function Fn($t=ht){const Je=rt.get($t);if(!Je&&$t===ht&&(0,Ae.aH)())return xr();if(!Je)throw hn.create("no-app",{appName:$t});return Je}function Er(){return Array.from(rt.values())}function kr($t){return ui.apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*($t){const Je=$t.name;rt.has(Je)&&(rt.delete(Je),yield Promise.all($t.container.getProviders().map(Gt=>Gt.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function Kn($t,Je,Gt){var Nt;let vn=null!==(Nt=Dt[$t])&&void 0!==Nt?Nt:$t;Gt&&(vn+=`-${Gt}`);const Vn=vn.match(/\s|\//),pr=Je.match(/\s|\//);if(Vn||pr){const ve=[`Unable to register library "${vn}" with version "${Je}":`];return Vn&&ve.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),Vn&&pr&&ve.push("and"),pr&&ve.push(`version name "${Je}" contains illegal characters (whitespace or "/")`),void ye.warn(ve.join(" "))}Ve(new z.wA(`${vn}-version`,()=>({library:vn,version:Je}),"VERSION"))}function hr($t,Je){if(null!==$t&&"function"!=typeof $t)throw hn.create("invalid-log-argument");(0,H.Am)($t,Je)}function Ei($t){(0,H.Ub)($t)}const yi="firebase-heartbeat-database",kn=1,Wn="firebase-heartbeat-store";let Gn=null;function Tr(){return Gn||(Gn=(0,Ce.X3)(yi,kn,{upgrade:($t,Je)=>{0===Je&&$t.createObjectStore(Wn)}}).catch($t=>{throw hn.create("idb-open",{originalErrorMessage:$t.message})})),Gn}function ai(){return(ai=(0,g.Z)(function*($t){try{return yield(yield Tr()).transaction(Wn).objectStore(Wn).get(qt($t))}catch(Je){if(Je instanceof Ae.ZR)ye.warn(Je.message);else{const Gt=hn.create("idb-get",{originalErrorMessage:Je?.message});ye.warn(Gt.message)}}})).apply(this,arguments)}function Ar($t,Je){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*($t,Je){try{const Nt=(yield Tr()).transaction(Wn,"readwrite");yield Nt.objectStore(Wn).put(Je,qt($t)),yield Nt.done}catch(Gt){if(Gt instanceof Ae.ZR)ye.warn(Gt.message);else{const Nt=hn.create("idb-set",{originalErrorMessage:Gt?.message});ye.warn(Nt.message)}}})).apply(this,arguments)}function qt($t){return`${$t.name}!${$t.options.appId}`}class yr{constructor(Je){this.container=Je,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new di(Gt),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Je=this;return(0,g.Z)(function*(){const Nt=Je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=nr();if(null===Je._heartbeatsCache&&(Je._heartbeatsCache=yield Je._heartbeatsCachePromise),Je._heartbeatsCache.lastSentHeartbeatDate!==vn&&!Je._heartbeatsCache.heartbeats.some(Vn=>Vn.date===vn))return Je._heartbeatsCache.heartbeats.push({date:vn,agent:Nt}),Je._heartbeatsCache.heartbeats=Je._heartbeatsCache.heartbeats.filter(Vn=>{const pr=new Date(Vn.date).valueOf();return Date.now()-pr<=2592e6}),Je._storage.overwrite(Je._heartbeatsCache)})()}getHeartbeatsHeader(){var Je=this;return(0,g.Z)(function*(){if(null===Je._heartbeatsCache&&(yield Je._heartbeatsCachePromise),null===Je._heartbeatsCache||0===Je._heartbeatsCache.heartbeats.length)return"";const Gt=nr(),{heartbeatsToSend:Nt,unsentEntries:vn}=function Si($t,Je=1024){const Gt=[];let Nt=$t.slice();for(const vn of $t){const Vn=Gt.find(pr=>pr.agent===vn.agent);if(Vn){if(Vn.dates.push(vn.date),$r(Gt)>Je){Vn.dates.pop();break}}else if(Gt.push({agent:vn.agent,dates:[vn.date]}),$r(Gt)>Je){Gt.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:Nt}}(Je._heartbeatsCache.heartbeats),Vn=(0,Ae.L)(JSON.stringify({version:2,heartbeats:Nt}));return Je._heartbeatsCache.lastSentHeartbeatDate=Gt,vn.length>0?(Je._heartbeatsCache.heartbeats=vn,yield Je._storage.overwrite(Je._heartbeatsCache)):(Je._heartbeatsCache.heartbeats=[],Je._storage.overwrite(Je._heartbeatsCache)),Vn})()}}function nr(){return(new Date).toISOString().substring(0,10)}class di{constructor(Je){this.app=Je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ae.hl)()&&(0,Ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Je=this;return(0,g.Z)(function*(){return(yield Je._canUseIndexedDBPromise)&&(yield function ir($t){return ai.apply(this,arguments)}(Je.app))||{heartbeats:[]}})()}overwrite(Je){var Gt=this;return(0,g.Z)(function*(){var Nt;if(yield Gt._canUseIndexedDBPromise){const Vn=yield Gt.read();return Ar(Gt.app,{lastSentHeartbeatDate:null!==(Nt=Je.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Vn.lastSentHeartbeatDate,heartbeats:Je.heartbeats})}})()}add(Je){var Gt=this;return(0,g.Z)(function*(){var Nt;if(yield Gt._canUseIndexedDBPromise){const Vn=yield Gt.read();return Ar(Gt.app,{lastSentHeartbeatDate:null!==(Nt=Je.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...Je.heartbeats]})}})()}}function $r($t){return(0,Ae.L)(JSON.stringify({version:2,heartbeats:$t})).length}!function Jr($t){Ve(new z.wA("platform-logger",Je=>new De(Je),"PRIVATE")),Ve(new z.wA("heartbeat",Je=>new yr(Je),"PRIVATE")),Kn(ke,"0.9.13",$t),Kn(ke,"0.9.13","esm2017"),Kn("fire-js","")}("")},4097:(un,it,k)=>{k.d(it,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=k(7592);(0,g.registerVersion)("firebase","9.23.0","app")},120:(un,it,k)=>{k.d(it,{Z:()=>g.Z});var g=k(3399);g.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(un,it,k)=>{k.r(it);var g=k(5861),z=k(3399),H=k(9058),Ae=k(7592),Ce=k(7582),De=k(7879),Ue=k(4537);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const wt=function ut(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ft=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new De.Yd("@firebase/auth");function Le(S,..._){Ye.logLevel<=De.in.ERROR&&Ye.error(`Auth (${Ae.SDK_VERSION}): ${S}`,..._)}function Qe(S,..._){throw Ge(S,..._)}function He(S,..._){return Ge(S,..._)}function vt(S,_,I){const R=Object.assign(Object.assign({},ft()),{[_]:I});return new H.LL("auth","Firebase",R).create(_,{appName:S.name})}function Pt(S,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&Qe(S,"argument-error"),vt(S,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(S,..._){if("string"!=typeof S){const I=_[0],R=[..._.slice(1)];return R[0]&&(R[0].appName=S.name),S._errorFactory.create(I,...R)}return Ut.create(S,..._)}function Ke(S,_,...I){if(!S)throw Ge(_,...I)}function Bt(S){const _="INTERNAL ASSERTION FAILED: "+S;throw Le(_),new Error(_)}function Et(S,_){S||Bt(_)}function Nn(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function yn(){return"http:"===er()||"https:"===er()}function er(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class Sr{constructor(_,I){this.shortDelay=_,this.longDelay=I,Et(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function rr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ht(S,_){Et(S.emulator,"Emulator should always be set here");const{url:I}=S.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class Dt{static initialize(_,I,R){this.fetchImpl=_,I&&(this.headersImpl=I),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},It=new Sr(3e4,6e4);function tt(S,_){return S.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:S.tenantId}):_}function Ee(S,_,I,R){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,g.Z)(function*(S,_,I,R,se={}){return Te(S,se,(0,g.Z)(function*(){let me={},We={};R&&("GET"===_?We=R:me={body:JSON.stringify(R)});const Vt=(0,H.xO)(Object.assign({key:S.config.apiKey},We)).slice(1),cn=yield S._getAdditionalHeaders();return cn["Content-Type"]="application/json",S.languageCode&&(cn["X-Firebase-Locale"]=S.languageCode),Dt.fetch()(hn(S,S.config.apiHost,I,Vt),Object.assign({method:_,headers:cn,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function Te(S,_,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(S,_,I){S._canInitEmulator=!1;const R=Object.assign(Object.assign({},rt),_);try{const se=new Cn(S),me=yield Promise.race([I(),se.promise]);se.clearNetworkTimeout();const We=yield me.json();if("needConfirmation"in We)throw Bn(S,"account-exists-with-different-credential",We);if(me.ok&&!("errorMessage"in We))return We;{const Vt=me.ok?We.errorMessage:We.error.message,[cn,Pn]=Vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw Bn(S,"credential-already-in-use",We);if("EMAIL_EXISTS"===cn)throw Bn(S,"email-already-in-use",We);if("USER_DISABLED"===cn)throw Bn(S,"user-disabled",We);const tr=R[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(Pn)throw vt(S,tr,Pn);Qe(S,tr)}}catch(se){if(se instanceof H.ZR)throw se;Qe(S,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function jt(S,_,I,R){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(S,_,I,R,se={}){const me=yield Ee(S,_,I,R,se);return"mfaPendingCredential"in me&&Qe(S,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function hn(S,_,I,R){const se=`${_}${I}?${R}`;return S.config.emulator?ht(S.config,se):`${S.config.apiScheme}://${se}`}class Cn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,R)=>{this.timer=setTimeout(()=>R(He(this.auth,"network-request-failed")),It.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(S,_,I){const R={appName:S.name};I.email&&(R.email=I.email),I.phoneNumber&&(R.phoneNumber=I.phoneNumber);const se=He(S,_,R);return se.customData._tokenResponse=I,se}function Fn(){return(Fn=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function kr(){return(kr=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Kn(){return(Kn=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function hr(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function kn(){return(kn=(0,g.Z)(function*(S,_=!1){const I=(0,H.m9)(S),R=yield I.getIdToken(_),se=Gn(R);Ke(se&&se.exp&&se.auth_time&&se.iat,I.auth,"internal-error");const me="object"==typeof se.firebase?se.firebase:void 0,We=me?.sign_in_provider;return{claims:se,token:R,authTime:hr(Wn(se.auth_time)),issuedAtTime:hr(Wn(se.iat)),expirationTime:hr(Wn(se.exp)),signInProvider:We||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function Wn(S){return 1e3*Number(S)}function Gn(S){const[_,I,R]=S.split(".");if(void 0===_||void 0===I||void 0===R)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,H.tV)(I);return se?JSON.parse(se):(Le("Failed to decode base64 JWT payload"),null)}catch(se){return Le("Caught error parsing JWT payload as JSON",se?.toString()),null}}function ir(S,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,g.Z)(function*(S,_,I=!1){if(I)return _;try{return yield _}catch(R){throw R instanceof H.ZR&&function Ar({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(R)&&S.auth.currentUser===S&&(yield S.auth.signOut()),R}})).apply(this,arguments)}class Lr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const se=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const R=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield I.iteration()}),R)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&_.schedule(!0))}_.schedule()})()}}class qt{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(S){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,g.Z)(function*(S){var _;const I=S.auth,R=yield S.getIdToken(),se=yield ir(S,function ui(S,_){return Kn.apply(this,arguments)}(I,{idToken:R}));Ke(se?.users.length,I,"internal-error");const me=se.users[0];S._notifyReloadListener(me);const We=null!==(_=me.providerUserInfo)&&void 0!==_&&_.length?function di(S){return S.map(_=>{var{providerId:I}=_,R=(0,Ce._T)(_,["providerId"]);return{providerId:I,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(me.providerUserInfo):[],Vt=function Si(S,_){return[...S.filter(R=>!_.some(se=>se.providerId===R.providerId)),..._]}(S.providerData,We),tr=!!S.isAnonymous&&!(S.email&&me.passwordHash||Vt?.length),Jn={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Vt,metadata:new qt(me.createdAt,me.lastLoginAt),isAnonymous:tr};Object.assign(S,Jn)}),Qr.apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(S){const _=(0,H.m9)(S);yield ur(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(S,_){const I=yield Te(S,{},(0,g.Z)(function*(){const R=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:se,apiKey:me}=S.config,We=hn(S,se,"/v1/token",`key=${me}`),Vt=yield S._getAdditionalHeaders();return Vt["Content-Type"]="application/x-www-form-urlencoded",Dt.fetch()(We,{method:"POST",headers:Vt,body:R})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ke(_.idToken,"internal-error"),Ke(typeof _.idToken<"u","internal-error"),Ke(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Tr(S){const _=Gn(S);return Ke(_,"internal-error"),Ke(typeof _.exp<"u","internal-error"),Ke(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var R=this;return(0,g.Z)(function*(){return Ke(!R.accessToken||R.refreshToken,_,"user-token-expired"),I||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(_,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var R=this;return(0,g.Z)(function*(){const{accessToken:se,refreshToken:me,expiresIn:We}=yield function $r(S,_){return Jr.apply(this,arguments)}(_,I);R.updateTokensAndExpiration(se,me,Number(We))})()}updateTokensAndExpiration(_,I,R){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(_,I){const{refreshToken:R,accessToken:se,expirationTime:me}=I,We=new $t;return R&&(Ke("string"==typeof R,"internal-error",{appName:_}),We.refreshToken=R),se&&(Ke("string"==typeof se,"internal-error",{appName:_}),We.accessToken=se),me&&(Ke("number"==typeof me,"internal-error",{appName:_}),We.expirationTime=me),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return Bt("not implemented")}}function Je(S,_){Ke("string"==typeof S||typeof S>"u","internal-error",{appName:_})}class Gt{constructor(_){var{uid:I,auth:R,stsTokenManager:se}=_,me=(0,Ce._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=R,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new qt(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,g.Z)(function*(){const R=yield ir(I,I.stsTokenManager.getToken(I.auth,_));return Ke(R,I.auth,"internal-error"),I.accessToken!==R&&(I.accessToken=R,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),R})()}getIdTokenResult(_){return function yi(S){return kn.apply(this,arguments)}(this,_)}reload(){return function yr(S){return nr.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ke(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Gt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var R=this;return(0,g.Z)(function*(){let se=!1;_.idToken&&_.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(_),se=!0),I&&(yield ur(R)),yield R.auth._persistUserIfCurrent(R),se&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var _=this;return(0,g.Z)(function*(){const I=yield _.getIdToken();return yield ir(_,function xr(S,_){return Fn.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var R,se,me,We,Vt,cn,Pn,tr;const Jn=null!==(R=I.displayName)&&void 0!==R?R:void 0,io=null!==(se=I.email)&&void 0!==se?se:void 0,Xl=null!==(me=I.phoneNumber)&&void 0!==me?me:void 0,Hd=null!==(We=I.photoURL)&&void 0!==We?We:void 0,ec=null!==(Vt=I.tenantId)&&void 0!==Vt?Vt:void 0,$d=null!==(cn=I._redirectEventId)&&void 0!==cn?cn:void 0,yd=null!==(Pn=I.createdAt)&&void 0!==Pn?Pn:void 0,Gd=null!==(tr=I.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:Oc,emailVerified:Cf,isAnonymous:wu,providerData:Ep,stsTokenManager:U_}=I;Ke(Oc&&U_,_,"internal-error");const Sh=$t.fromJSON(this.name,U_);Ke("string"==typeof Oc,_,"internal-error"),Je(Jn,_.name),Je(io,_.name),Ke("boolean"==typeof Cf,_,"internal-error"),Ke("boolean"==typeof wu,_,"internal-error"),Je(Xl,_.name),Je(Hd,_.name),Je(ec,_.name),Je($d,_.name),Je(yd,_.name),Je(Gd,_.name);const Ip=new Gt({uid:Oc,auth:_,email:io,emailVerified:Cf,displayName:Jn,isAnonymous:wu,photoURL:Hd,phoneNumber:Xl,tenantId:ec,stsTokenManager:Sh,createdAt:yd,lastLoginAt:Gd});return Ep&&Array.isArray(Ep)&&(Ip.providerData=Ep.map(bg=>Object.assign({},bg))),$d&&(Ip._redirectEventId=$d),Ip}static _fromIdTokenResponse(_,I,R=!1){return(0,g.Z)(function*(){const se=new $t;se.updateFromServerResponse(I);const me=new Gt({uid:I.localId,auth:_,stsTokenManager:se,isAnonymous:R});return yield ur(me),me})()}}const Nt=new Map;function vn(S){Et(S instanceof Function,"Expected a class definition");let _=Nt.get(S);return _?(Et(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,Nt.set(S,_),_)}const pr=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(I,R){var se=this;return(0,g.Z)(function*(){se.storage[I]=R})()}_get(I){var R=this;return(0,g.Z)(function*(){const se=R.storage[I];return void 0===se?null:se})()}_remove(I){var R=this;return(0,g.Z)(function*(){delete R.storage[I]})()}_addListener(I,R){}_removeListener(I,R){}}return S.type="NONE",S})();function ve(S,_,I){return`firebase:${S}:${_}:${I}`}class Q{constructor(_,I,R){this.persistence=_,this.auth=I,this.userKey=R;const{config:se,name:me}=this.auth;this.fullUserKey=ve(this.userKey,se.apiKey,me),this.fullPersistenceKey=ve("persistence",se.apiKey,me),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Gt._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,g.Z)(function*(){if(I.persistence===_)return;const R=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,R?I.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,R="authUser"){return(0,g.Z)(function*(){if(!I.length)return new Q(vn(pr),_,R);const se=(yield Promise.all(I.map(function(){var Pn=(0,g.Z)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return Pn.apply(this,arguments)}}()))).filter(Pn=>Pn);let me=se[0]||vn(pr);const We=ve(R,_.config.apiKey,_.name);let Vt=null;for(const Pn of I)try{const tr=yield Pn._get(We);if(tr){const Jn=Gt._fromJSON(_,tr);Pn!==me&&(Vt=Jn),me=Pn;break}}catch{}const cn=se.filter(Pn=>Pn._shouldAllowMigration);return me._shouldAllowMigration&&cn.length?(me=cn[0],Vt&&(yield me._set(We,Vt.toJSON())),yield Promise.all(I.map(function(){var Pn=(0,g.Z)(function*(tr){if(tr!==me)try{yield tr._remove(We)}catch{}});return function(tr){return Pn.apply(this,arguments)}}())),new Q(me,_,R)):new Q(me,_,R)})()}}function X(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(St(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(pe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Un(_))return"Blackberry";if(dn(_))return"Webos";if(de(_))return"Safari";if((_.includes("chrome/")||je(_))&&!_.includes("edge/"))return"Chrome";if(tn(_))return"Android";{const R=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function pe(S=(0,H.z$)()){return/firefox\//i.test(S)}function de(S=(0,H.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function je(S=(0,H.z$)()){return/crios\//i.test(S)}function St(S=(0,H.z$)()){return/iemobile/i.test(S)}function tn(S=(0,H.z$)()){return/android/i.test(S)}function Un(S=(0,H.z$)()){return/blackberry/i.test(S)}function dn(S=(0,H.z$)()){return/webos/i.test(S)}function Rn(S=(0,H.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function ze(S=(0,H.z$)()){return Rn(S)||tn(S)||dn(S)||Un(S)||/windows phone/i.test(S)||St(S)}function Ot(S,_=[]){let I;switch(S){case"Browser":I=X((0,H.z$)());break;case"Worker":I=`${X((0,H.z$)())}-${S}`;break;default:I=S}const R=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${Ae.SDK_VERSION}/${R}`}function sn(){return(sn=(0,g.Z)(function*(S){return(yield Ee(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hn(S,_){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(S,_){return Ee(S,"GET","/v2/recaptchaConfig",tt(S,_))})).apply(this,arguments)}function Pr(S){return void 0!==S&&void 0!==S.getResponse}function Rr(S){return void 0!==S&&void 0!==S.enterprise}class Ai{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Kr(S){return new Promise((_,I)=>{const R=document.createElement("script");R.setAttribute("src",S),R.onload=_,R.onerror=se=>{const me=He("internal-error");me.customData=se,I(me)},R.type="text/javascript",R.charset="UTF-8",function ks(){var S,_;return null!==(_=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==_?_:document}().appendChild(R)})}function vi(S){return`__${S}${Math.floor(1e6*Math.random())}`}class ii{constructor(_){this.type="recaptcha-enterprise",this.auth=Gr(_)}verify(_="verify",I=!1){var R=this;return(0,g.Z)(function*(){function me(){return me=(0,g.Z)(function*(Vt){if(!I){if(null==Vt.tenantId&&null!=Vt._agentRecaptchaConfig)return Vt._agentRecaptchaConfig.siteKey;if(null!=Vt.tenantId&&void 0!==Vt._tenantRecaptchaConfigs[Vt.tenantId])return Vt._tenantRecaptchaConfigs[Vt.tenantId].siteKey}return new Promise(function(){var cn=(0,g.Z)(function*(Pn,tr){Hn(Vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Jn=>{if(void 0!==Jn.recaptchaKey){const io=new Ai(Jn);return null==Vt.tenantId?Vt._agentRecaptchaConfig=io:Vt._tenantRecaptchaConfigs[Vt.tenantId]=io,Pn(io.siteKey)}tr(new Error("recaptcha Enterprise site key undefined"))}).catch(Jn=>{tr(Jn)})});return function(Pn,tr){return cn.apply(this,arguments)}}())}),me.apply(this,arguments)}function We(Vt,cn,Pn){const tr=window.grecaptcha;Rr(tr)?tr.enterprise.ready(()=>{tr.enterprise.execute(Vt,{action:_}).then(Jn=>{cn(Jn)}).catch(()=>{cn("NO_RECAPTCHA")})}):Pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Vt,cn)=>{(function se(Vt){return me.apply(this,arguments)})(R.auth).then(Pn=>{if(!I&&Rr(window.grecaptcha))We(Pn,Vt,cn);else{if(typeof window>"u")return void cn(new Error("RecaptchaVerifier is only supported in browser"));Kr("https://www.google.com/recaptcha/enterprise.js?render="+Pn).then(()=>{We(Pn,Vt,cn)}).catch(tr=>{cn(tr)})}}).catch(Pn=>{cn(Pn)})})})()}}function Ri(S,_,I){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(S,_,I,R=!1){const se=new ii(S);let me;try{me=yield se.verify(I)}catch{me=yield se.verify(I,!0)}const We=Object.assign({},_);return Object.assign(We,R?{captchaResp:me}:{captchaResponse:me}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}class br{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const R=me=>new Promise((We,Vt)=>{try{We(_(me))}catch(cn){Vt(cn)}});R.onAbort=I,this.queue.push(R);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,g.Z)(function*(){if(I.auth.currentUser===_)return;const R=[];try{for(const se of I.queue)yield se(_),se.onAbort&&R.push(se.onAbort)}catch(se){R.reverse();for(const me of R)try{me()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class ji{constructor(_,I,R,se){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=R,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(_,I){var R=this;return I&&(this._popupRedirectResolver=vn(I)),this._initializationPromise=this.queue((0,g.Z)(function*(){var se,me;if(!R._deleted&&(R.persistenceManager=yield Q.create(R,_),!R._deleted)){if(null!==(se=R._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(I),R.lastNotifiedUid=(null===(me=R.currentUser)||void 0===me?void 0:me.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,g.Z)(function*(){var R;const se=yield I.assertedPersistence.getCurrentUser();let me=se,We=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Vt=null===(R=I.redirectUser)||void 0===R?void 0:R._redirectEventId,cn=me?._redirectEventId,Pn=yield I.tryRedirectSignIn(_);(!Vt||Vt===cn)&&Pn?.user&&(me=Pn.user,We=!0)}if(!me)return I.directlySetCurrentUser(null);if(!me._redirectEventId){if(We)try{yield I.beforeStateQueue.runMiddleware(me)}catch(Vt){me=se,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Vt))}return me?I.reloadAndSetCurrentUserOrClear(me):I.directlySetCurrentUser(null)}return Ke(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===me._redirectEventId?I.directlySetCurrentUser(me):I.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(_){var I=this;return(0,g.Z)(function*(){let R=null;try{R=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,g.Z)(function*(){try{yield ur(_)}catch(R){if("auth/network-request-failed"!==R?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Nr(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,g.Z)(function*(){const R=_?(0,H.m9)(_):null;return R&&Ke(R.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(R&&R._clone(I))})()}_updateCurrentUser(_,I=!1){var R=this;return(0,g.Z)(function*(){if(!R._deleted)return _&&Ke(R.tenantId===_.tenantId,R,"tenant-id-mismatch"),I||(yield R.beforeStateQueue.runMiddleware(_)),R.queue((0,g.Z)(function*(){yield R.directlySetCurrentUser(_),R.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,g.Z)(function*(){yield I.assertedPersistence.setPersistence(vn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,g.Z)(function*(){const I=yield Hn(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new Ai(I);null==_.tenantId?_._agentRecaptchaConfig=R:_._tenantRecaptchaConfigs[_.tenantId]=R,R.emailPasswordEnabled&&new ii(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,I,R){return this.registerStateListener(this.authStateSubscription,_,I,R)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,R){return this.registerStateListener(this.idTokenSubscription,_,I,R)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var R=this;return(0,g.Z)(function*(){const se=yield R.getOrInitRedirectPersistenceManager(I);return null===_?se.removeCurrentUser():se.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,g.Z)(function*(){if(!I.redirectPersistenceManager){const R=_&&vn(_)||I._popupRedirectResolver;Ke(R,I,"argument-error"),I.redirectPersistenceManager=yield Q.create(I,[vn(R._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,g.Z)(function*(){var R,se;return I._isInitialized&&(yield I.queue((0,g.Z)(function*(){}))),(null===(R=I._currentUser)||void 0===R?void 0:R._redirectEventId)===_?I._currentUser:(null===(se=I.redirectUser)||void 0===se?void 0:se._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,g.Z)(function*(){if(_===I.currentUser)return I.queue((0,g.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,R,se){if(this._deleted)return()=>{};const me="function"==typeof I?I:I.next.bind(I),We=this._isInitialized?Promise.resolve():this._initializationPromise;return Ke(We,this,"internal-error"),We.then(()=>me(this.currentUser)),"function"==typeof I?_.addObserver(I,R,se):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,g.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ot(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,g.Z)(function*(){var I;const R={"X-Client-Version":_.clientVersion};_.app.options.appId&&(R["X-Firebase-gmpid"]=_.app.options.appId);const se=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();se&&(R["X-Firebase-Client"]=se);const me=yield _._getAppCheckToken();return me&&(R["X-Firebase-AppCheck"]=me),R})()}_getAppCheckToken(){var _=this;return(0,g.Z)(function*(){var I;const R=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return R?.error&&function Qt(S,..._){Ye.logLevel<=De.in.WARN&&Ye.warn(`Auth (${Ae.SDK_VERSION}): ${S}`,..._)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Gr(S){return(0,H.m9)(S)}class Ki{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(I=>this.observer=I)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fs(S){const _=S.indexOf(":");return _<0?"":S.substr(0,_+1)}function Wo(S){if(!S)return null;const _=Number(S);return isNaN(_)?null:_}class lo{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return Bt("not implemented")}_getIdTokenResponse(_){return Bt("not implemented")}_linkToIdToken(_,I){return Bt("not implemented")}_getReauthenticationResolver(_){return Bt("not implemented")}}function fa(S,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:resetPassword",tt(S,_))})).apply(this,arguments)}function Ko(S,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Io(){return(Io=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:update",tt(S,_))})).apply(this,arguments)}function hi(S,_){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithPassword",tt(S,_))})).apply(this,arguments)}function Lo(S,_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:sendOobCode",tt(S,_))})).apply(this,arguments)}function ot(){return(ot=(0,g.Z)(function*(S,_){return Lo(S,_)})).apply(this,arguments)}function bt(S,_){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,g.Z)(function*(S,_){return Lo(S,_)})).apply(this,arguments)}function Wt(S,_){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(function*(S,_){return Lo(S,_)})).apply(this,arguments)}function vr(){return(vr=(0,g.Z)(function*(S,_){return Lo(S,_)})).apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithEmailLink",tt(S,_))})).apply(this,arguments)}function Ii(){return(Ii=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithEmailLink",tt(S,_))})).apply(this,arguments)}class vs extends lo{constructor(_,I,R,se=null){super("password",R),this._email=_,this._password=I,this._tenantId=se}static _fromEmailAndPassword(_,I){return new vs(_,I,"password")}static _fromEmailAndCode(_,I,R=null){return new vs(_,I,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,g.Z)(function*(){var R;switch(I.signInMethod){case"password":const se={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=_._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const me=yield Ri(_,se,"signInWithPassword");return hi(_,me)}return hi(_,se).catch(function(){var me=(0,g.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Vt=yield Ri(_,se,"signInWithPassword");return hi(_,Vt)}return Promise.reject(We)});return function(We){return me.apply(this,arguments)}}());case"emailLink":return function dr(S,_){return Mi.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:Qe(_,"internal-error")}})()}_linkToIdToken(_,I){var R=this;return(0,g.Z)(function*(){switch(R.signInMethod){case"password":return Ko(_,{idToken:I,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function co(S,_){return Ii.apply(this,arguments)}(_,{idToken:I,email:R._email,oobCode:R._password});default:Qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Es(S,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithIdp",tt(S,_))})).apply(this,arguments)}class Qn extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new Qn(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):Qe("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:R,signInMethod:se}=I,me=(0,Ce._T)(I,["providerId","signInMethod"]);if(!R||!se)return null;const We=new Qn(R,se);return We.idToken=me.idToken||void 0,We.accessToken=me.accessToken||void 0,We.secret=me.secret,We.nonce=me.nonce,We.pendingToken=me.pendingToken||null,We}_getIdTokenResponse(_){return Es(_,this.buildRequest())}_linkToIdToken(_,I){const R=this.buildRequest();return R.idToken=I,Es(_,R)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,Es(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,H.xO)(I)}return _}}function Zn(){return(Zn=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:sendVerificationCode",tt(S,_))})).apply(this,arguments)}function ki(){return(ki=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithPhoneNumber",tt(S,_))})).apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(S,_){const I=yield jt(S,"POST","/v1/accounts:signInWithPhoneNumber",tt(S,_));if(I.temporaryProof)throw Bn(S,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const ds={USER_NOT_FOUND:"user-not-found"};function sr(){return(sr=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithPhoneNumber",tt(S,Object.assign(Object.assign({},_),{operation:"REAUTH"})),ds)})).apply(this,arguments)}class li extends lo{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new li({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new li({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function Ro(S,_){return ki.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function is(S,_){return wi.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function oa(S,_){return sr.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:R,verificationCode:se}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:R,code:se}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:R,phoneNumber:se,temporaryProof:me}=_;return R||I||se||me?new li({verificationId:I,verificationCode:R,phoneNumber:se,temporaryProof:me}):null}}class bi{constructor(_){var I,R,se,me,We,Vt;const cn=(0,H.zd)((0,H.pd)(_)),Pn=null!==(I=cn.apiKey)&&void 0!==I?I:null,tr=null!==(R=cn.oobCode)&&void 0!==R?R:null,Jn=function wo(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=cn.mode)&&void 0!==se?se:null);Ke(Pn&&tr&&Jn,"argument-error"),this.apiKey=Pn,this.operation=Jn,this.code=tr,this.continueUrl=null!==(me=cn.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(We=cn.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(Vt=cn.tenantId)&&void 0!==Vt?Vt:null}static parseLink(_){const I=function uo(S){const _=(0,H.zd)((0,H.pd)(S)).link,I=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,R=(0,H.zd)((0,H.pd)(S)).deep_link_id;return(R?(0,H.zd)((0,H.pd)(R)).link:null)||R||I||_||S}(_);try{return new bi(I)}catch{return null}}}let Ss=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(I,R){return vs._fromEmailAndPassword(I,R)}static credentialWithLink(I,R){const se=bi.parseLink(R);return Ke(se,"argument-error"),vs._fromEmailAndCode(I,se.code,se.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Fr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Is extends Fr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class qs extends Is{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return Ke("providerId"in I&&"signInMethod"in I,"argument-error"),Qn._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ke(_.idToken||_.accessToken,"argument-error"),Qn._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return qs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return qs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:R,oauthTokenSecret:se,pendingToken:me,nonce:We,providerId:Vt}=_;if(!R&&!se&&!I&&!me||!Vt)return null;try{return new qs(Vt)._credential({idToken:I,accessToken:R,nonce:We,pendingToken:me})}catch{return null}}}let Zo=(()=>{class S extends Is{constructor(){super("facebook.com")}static credential(I){return Qn._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return S.credentialFromTaggedObject(I)}static credentialFromError(I){return S.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return S.credential(I.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),Ms=(()=>{class S extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(I,R){return Qn._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:R})}static credentialFromResult(I){return S.credentialFromTaggedObject(I)}static credentialFromError(I){return S.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:R,oauthAccessToken:se}=I;if(!R&&!se)return null;try{return S.credential(R,se)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),ws=(()=>{class S extends Is{constructor(){super("github.com")}static credential(I){return Qn._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return S.credentialFromTaggedObject(I)}static credentialFromError(I){return S.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return S.credential(I.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class Cr extends lo{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return Es(_,this.buildRequest())}_linkToIdToken(_,I){const R=this.buildRequest();return R.idToken=I,Es(_,R)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,Es(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:R,signInMethod:se,pendingToken:me}=I;return R&&se&&me&&R===se?new Cr(R,me):null}static _create(_,I){return new Cr(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Us extends Fr{constructor(_){Ke(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Us.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Us.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=Cr.fromJSON(_);return Ke(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:R}=_;if(!I||!R)return null;try{return Cr._create(R,I)}catch{return null}}}let Vs=(()=>{class S extends Is{constructor(){super("twitter.com")}static credential(I,R){return Qn._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:R})}static credentialFromResult(I){return S.credentialFromTaggedObject(I)}static credentialFromError(I){return S.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:R,oauthTokenSecret:se}=I;if(!R||!se)return null;try{return S.credential(R,se)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function ps(S,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signUp",tt(S,_))})).apply(this,arguments)}class Xi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,R,se=!1){return(0,g.Z)(function*(){const me=yield Gt._fromIdTokenResponse(_,R,se),We=ho(R);return new Xi({user:me,providerId:We,_tokenResponse:R,operationType:I})})()}static _forOperation(_,I,R){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(R,!0);const se=ho(R);return new Xi({user:_,providerId:se,_tokenResponse:R,operationType:I})})()}}function ho(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function Ba(){return(Ba=(0,g.Z)(function*(S){var _;const I=Gr(S);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new Xi({user:I.currentUser,providerId:null,operationType:"signIn"});const R=yield ps(I,{returnSecureToken:!0}),se=yield Xi._fromIdTokenResponse(I,"signIn",R,!0);return yield I._updateCurrentUser(se.user),se})).apply(this,arguments)}class $i extends H.ZR{constructor(_,I,R,se){var me;super(I.code,I.message),this.operationType=R,this.user=se,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:_.name,tenantId:null!==(me=_.tenantId)&&void 0!==me?me:void 0,_serverResponse:I.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(_,I,R,se){return new $i(_,I,R,se)}}function fi(S,_,I,R){return("reauthenticate"===_?I._getReauthenticationResolver(S):I._getIdTokenResponse(S)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?$i._fromErrorAndOperation(S,me,_,R):me})}function Yo(S){return new Set(S.map(({providerId:_})=>_).filter(_=>!!_))}function es(){return es=(0,g.Z)(function*(S,_){const I=(0,H.m9)(S);yield Mo(!0,I,_);const{providerUserInfo:R}=yield function Er(S,_){return kr.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),se=Yo(R||[]);return I.providerData=I.providerData.filter(me=>se.has(me.providerId)),se.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),es.apply(this,arguments)}function Or(S,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,g.Z)(function*(S,_,I=!1){const R=yield ir(S,_._linkToIdToken(S.auth,yield S.getIdToken()),I);return Xi._forOperation(S,"link",R)})).apply(this,arguments)}function Mo(S,_,I){return ja.apply(this,arguments)}function ja(){return(ja=(0,g.Z)(function*(S,_,I){yield ur(_);const se=!1===S?"provider-already-linked":"no-such-provider";Ke(Yo(_.providerData).has(I)===S,_.auth,se)})).apply(this,arguments)}function Hl(S,_){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(S,_,I=!1){const{auth:R}=S,se="reauthenticate";try{const me=yield ir(S,fi(R,se,_,S),I);Ke(me.idToken,R,"internal-error");const We=Gn(me.idToken);Ke(We,R,"internal-error");const{sub:Vt}=We;return Ke(S.uid===Vt,R,"user-mismatch"),Xi._forOperation(S,se,me)}catch(me){throw"auth/user-not-found"===me?.code&&Qe(R,"user-mismatch"),me}})).apply(this,arguments)}function Fo(S,_){return ne.apply(this,arguments)}function ne(){return(ne=(0,g.Z)(function*(S,_,I=!1){const R="signIn",se=yield fi(S,R,_),me=yield Xi._fromIdTokenResponse(S,R,se);return I||(yield S._updateCurrentUser(me.user)),me})).apply(this,arguments)}function q(S,_){return be.apply(this,arguments)}function be(){return(be=(0,g.Z)(function*(S,_){return Fo(Gr(S),_)})).apply(this,arguments)}function $(S,_){return ie.apply(this,arguments)}function ie(){return(ie=(0,g.Z)(function*(S,_){const I=(0,H.m9)(S);return yield Mo(!1,I,_.providerId),Or(I,_)})).apply(this,arguments)}function Xe(S,_){return et.apply(this,arguments)}function et(){return(et=(0,g.Z)(function*(S,_){return Hl((0,H.m9)(S),_)})).apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(S,_){return jt(S,"POST","/v1/accounts:signInWithCustomToken",tt(S,_))})).apply(this,arguments)}function oi(){return oi=(0,g.Z)(function*(S,_){const I=Gr(S),R=yield function xt(S,_){return bn.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),se=yield Xi._fromIdTokenResponse(I,"signIn",R);return yield I._updateCurrentUser(se.user),se}),oi.apply(this,arguments)}class Ps{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?Po._fromServerResponse(_,I):"totpInfo"in I?ma._fromServerResponse(_,I):Qe(_,"internal-error")}}class Po extends Ps{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new Po(I)}}class ma extends Ps{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new ma(I)}}function Rl(S,_,I){var R;Ke((null===(R=I.url)||void 0===R?void 0:R.length)>0,S,"invalid-continue-uri"),Ke(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(Ke(I.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(Ke(I.android.packageName.length>0,S,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function Pa(){return Pa=(0,g.Z)(function*(S,_,I){var R;const se=Gr(S),me={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const We=yield Ri(se,me,"getOobCode",!0);I&&Rl(se,We,I),yield bt(se,We)}else I&&Rl(se,me,I),yield bt(se,me).catch(function(){var We=(0,g.Z)(function*(Vt){if("auth/missing-recaptcha-token"!==Vt.code)return Promise.reject(Vt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const cn=yield Ri(se,me,"getOobCode",!0);I&&Rl(se,cn,I),yield bt(se,cn)}});return function(Vt){return We.apply(this,arguments)}}())}),Pa.apply(this,arguments)}function Ha(){return(Ha=(0,g.Z)(function*(S,_,I){yield fa((0,H.m9)(S),{oobCode:_,newPassword:I})})).apply(this,arguments)}function As(){return As=(0,g.Z)(function*(S,_){yield function Ji(S,_){return Io.apply(this,arguments)}((0,H.m9)(S),{oobCode:_})}),As.apply(this,arguments)}function Uo(S,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,g.Z)(function*(S,_){const I=(0,H.m9)(S),R=yield fa(I,{oobCode:_}),se=R.requestType;switch(Ke(se,I,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ke(R.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ke(R.mfaInfo,I,"internal-error");default:Ke(R.email,I,"internal-error")}let me=null;return R.mfaInfo&&(me=Ps._fromServerResponse(Gr(I),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:me},operation:se}})).apply(this,arguments)}function tl(){return(tl=(0,g.Z)(function*(S,_){const{data:I}=yield Uo((0,H.m9)(S),_);return I.email})).apply(this,arguments)}function ml(){return ml=(0,g.Z)(function*(S,_,I){var R;const se=Gr(S),me={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let We;if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Pn=yield Ri(se,me,"signUpPassword");We=ps(se,Pn)}else We=ps(se,me).catch(function(){var Pn=(0,g.Z)(function*(tr){if("auth/missing-recaptcha-token"===tr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Jn=yield Ri(se,me,"signUpPassword");return ps(se,Jn)}return Promise.reject(tr)});return function(tr){return Pn.apply(this,arguments)}}());const Vt=yield We.catch(Pn=>Promise.reject(Pn)),cn=yield Xi._fromIdTokenResponse(se,"signIn",Vt);return yield se._updateCurrentUser(cn.user),cn}),ml.apply(this,arguments)}function hs(){return hs=(0,g.Z)(function*(S,_,I){var R;const se=Gr(S),me={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function We(Vt,cn){Ke(cn.handleCodeInApp,se,"argument-error"),cn&&Rl(se,Vt,cn)}if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Vt=yield Ri(se,me,"getOobCode",!0);We(Vt,I),yield Wt(se,Vt)}else We(me,I),yield Wt(se,me).catch(function(){var Vt=(0,g.Z)(function*(cn){if("auth/missing-recaptcha-token"!==cn.code)return Promise.reject(cn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pn=yield Ri(se,me,"getOobCode",!0);We(Pn,I),yield Wt(se,Pn)}});return function(cn){return Vt.apply(this,arguments)}}())}),hs.apply(this,arguments)}function ya(){return(ya=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S),se=Ss.credentialWithLink(_,I||Nn());return Ke(se._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),q(R,se)})).apply(this,arguments)}function va(){return(va=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:createAuthUri",tt(S,_))})).apply(this,arguments)}function Ga(){return Ga=(0,g.Z)(function*(S,_){const R={identifier:_,continueUri:yn()?Nn():"http://localhost"},{signinMethods:se}=yield function $a(S,_){return va.apply(this,arguments)}((0,H.m9)(S),R);return se||[]}),Ga.apply(this,arguments)}function gl(){return gl=(0,g.Z)(function*(S,_){const I=(0,H.m9)(S),se={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};_&&Rl(I.auth,se,_);const{email:me}=yield function lt(S,_){return ot.apply(this,arguments)}(I.auth,se);me!==S.email&&(yield S.reload())}),gl.apply(this,arguments)}function Ia(){return Ia=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:_};I&&Rl(R.auth,me,I);const{email:We}=yield function lr(S,_){return vr.apply(this,arguments)}(R.auth,me);We!==S.email&&(yield S.reload())}),Ia.apply(this,arguments)}function Ml(){return(Ml=(0,g.Z)(function*(S,_){return Ee(S,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function nl(){return nl=(0,g.Z)(function*(S,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const R=(0,H.m9)(S),me={idToken:yield R.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},We=yield ir(R,function Gl(S,_){return Ml.apply(this,arguments)}(R.auth,me));R.displayName=We.displayName||null,R.photoURL=We.photoUrl||null;const Vt=R.providerData.find(({providerId:cn})=>"password"===cn);Vt&&(Vt.displayName=R.displayName,Vt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(We)}),nl.apply(this,arguments)}function zl(S,_,I){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(S,_,I){const{auth:R}=S,me={idToken:yield S.getIdToken(),returnSecureToken:!0};_&&(me.email=_),I&&(me.password=I);const We=yield ir(S,Ko(R,me));yield S._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class fo{constructor(_,I,R={}){this.isNewUser=_,this.providerId=I,this.profile=R}}class la extends fo{constructor(_,I,R,se){super(_,I,R),this.username=se}}class Ti extends fo{constructor(_,I){super(_,"facebook.com",I)}}class N extends la{constructor(_,I){super(_,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class re extends fo{constructor(_,I){super(_,"google.com",I)}}class Ne extends la{constructor(_,I,R){super(_,"twitter.com",I,R)}}function Y(S){const{user:_,_tokenResponse:I}=S;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function wc(S){var _,I;if(!S)return null;const{providerId:R}=S,se=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},me=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!R&&S?.idToken){const We=null===(I=null===(_=Gn(S.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(We)return new fo(me,"anonymous"!==We&&"custom"!==We?We:null)}if(!R)return null;switch(R){case"facebook.com":return new Ti(me,se);case"github.com":return new N(me,se);case"google.com":return new re(me,se);case"twitter.com":return new Ne(me,se,S.screenName||null);case"custom":case"anonymous":return new fo(me,null);default:return new fo(me,R,se)}}(I)}class on{constructor(_,I,R){this.type=_,this.credential=I,this.auth=R}static _fromIdtoken(_,I){return new on("enroll",_,I)}static _fromMfaPendingCredential(_){return new on("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,R;if(_?.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return on._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(R=_.multiFactorSession)&&void 0!==R&&R.idToken)return on._fromIdtoken(_.multiFactorSession.idToken)}return null}}class jn{constructor(_,I,R){this.session=_,this.hints=I,this.signInResolver=R}static _fromError(_,I){const R=Gr(_),se=I.customData._serverResponse,me=(se.mfaInfo||[]).map(Vt=>Ps._fromServerResponse(R,Vt));Ke(se.mfaPendingCredential,R,"internal-error");const We=on._fromMfaPendingCredential(se.mfaPendingCredential);return new jn(We,me,function(){var Vt=(0,g.Z)(function*(cn){const Pn=yield cn._process(R,We);delete se.mfaInfo,delete se.mfaPendingCredential;const tr=Object.assign(Object.assign({},se),{idToken:Pn.idToken,refreshToken:Pn.refreshToken});switch(I.operationType){case"signIn":const Jn=yield Xi._fromIdTokenResponse(R,I.operationType,tr);return yield R._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return Ke(I.user,R,"internal-error"),Xi._forOperation(I.user,I.operationType,tr);default:Qe(R,"internal-error")}});return function(cn){return Vt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,g.Z)(function*(){return I.signInResolver(_)})()}}class ss{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(R=>Ps._fromServerResponse(_.auth,R)))})}static _fromUser(_){return new ss(_)}getSession(){var _=this;return(0,g.Z)(function*(){return on._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var R=this;return(0,g.Z)(function*(){const se=_,me=yield R.getSession(),We=yield ir(R.user,se._process(R.user.auth,me,I));return yield R.user._updateTokensIfNecessary(We),R.user.reload()})()}unenroll(_){var I=this;return(0,g.Z)(function*(){const R="string"==typeof _?_:_.uid,se=yield I.user.getIdToken();try{const me=yield ir(I.user,function Ys(S,_){return Ee(S,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(S,_))}(I.user.auth,{idToken:se,mfaEnrollmentId:R}));I.enrolledFactors=I.enrolledFactors.filter(({uid:We})=>We!==R),yield I.user._updateTokensIfNecessary(me),yield I.user.reload()}catch(me){throw me}})()}}const Pi=new WeakMap,cr="__sak";class wa{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(cr,"1"),this.storage.removeItem(cr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const xo=(()=>{class S extends wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,R)=>this.onStorageEvent(I,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rl(){const S=(0,H.z$)();return de(S)||Rn(S)}()&&function Rt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ze(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const R of Object.keys(this.listeners)){const se=this.storage.getItem(R),me=this.localCache[R];se!==me&&I(R,me,se)}}onStorageEvent(I,R=!1){if(!I.key)return void this.forAllChangedKeys((Vt,cn,Pn)=>{this.notifyListeners(Vt,Pn)});const se=I.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Vt=this.storage.getItem(se);if(I.newValue!==Vt)null!==I.newValue?this.storage.setItem(se,I.newValue):this.storage.removeItem(se);else if(this.localCache[se]===I.newValue&&!R)return}const me=()=>{const Vt=this.storage.getItem(se);!R&&this.localCache[se]===Vt||this.notifyListeners(se,Vt)},We=this.storage.getItem(se);!function dt(){return(0,H.w1)()&&10===document.documentMode}()||We===I.newValue||I.newValue===I.oldValue?me():setTimeout(me,10)}notifyListeners(I,R){this.localCache[I]=R;const se=this.listeners[I];if(se)for(const me of Array.from(se))me(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,R,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:R,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(R)}_removeListener(I,R){this.listeners[I]&&(this.listeners[I].delete(R),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,R){var se=()=>super._set,me=this;return(0,g.Z)(function*(){yield se().call(me,I,R),me.localCache[I]=JSON.stringify(R)})()}_get(I){var R=()=>super._get,se=this;return(0,g.Z)(function*(){const me=yield R().call(se,I);return se.localCache[I]=JSON.stringify(me),me})()}_remove(I){var R=()=>super._remove,se=this;return(0,g.Z)(function*(){yield R().call(se,I),delete se.localCache[I]})()}}return S.type="LOCAL",S})(),bc=(()=>{class S extends wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,R){}_removeListener(I,R){}}return S.type="SESSION",S})();let Js=(()=>{class S{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const R=this.receivers.find(me=>me.isListeningto(I));if(R)return R;const se=new S(I);return this.receivers.push(se),se}isListeningto(I){return this.eventTarget===I}handleEvent(I){var R=this;return(0,g.Z)(function*(){const se=I,{eventId:me,eventType:We,data:Vt}=se.data,cn=R.handlersMap[We];if(!cn?.size)return;se.ports[0].postMessage({status:"ack",eventId:me,eventType:We});const Pn=Array.from(cn).map(function(){var Jn=(0,g.Z)(function*(io){return io(se.origin,Vt)});return function(io){return Jn.apply(this,arguments)}}()),tr=yield function _n(S){return Promise.all(S.map(function(){var _=(0,g.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(R){return{fulfilled:!1,reason:R}}});return function(I){return _.apply(this,arguments)}}()))}(Pn);se.ports[0].postMessage({status:"done",eventId:me,eventType:We,response:tr})})()}_subscribe(I,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(R)}_unsubscribe(I,R){this.handlersMap[I]&&R&&this.handlersMap[I].delete(R),(!R||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function za(S="",_=10){let I="";for(let R=0;R<_;R++)I+=Math.floor(10*Math.random());return S+I}class gf{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,R=50){var se=this;return(0,g.Z)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let We,Vt;return new Promise((cn,Pn)=>{const tr=za("",20);me.port1.start();const Jn=setTimeout(()=>{Pn(new Error("unsupported_event"))},R);Vt={messageChannel:me,onMessage(io){const Xl=io;if(Xl.data.eventId===tr)switch(Xl.data.status){case"ack":clearTimeout(Jn),We=setTimeout(()=>{Pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),cn(Xl.data.response);break;default:clearTimeout(Jn),clearTimeout(We),Pn(new Error("invalid_response"))}}},se.handlers.add(Vt),me.port1.addEventListener("message",Vt.onMessage),se.target.postMessage({eventType:_,eventId:tr,data:I},[me.port2])}).finally(()=>{Vt&&se.removeMessageHandler(Vt)})})()}}function pt(){return window}function jc(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function kt(){return(kt=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Jo="firebaseLocalStorageDb",ms="firebaseLocalStorage",ku="fbase_key";class du{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function hu(S,_){return S.transaction([ms],_?"readwrite":"readonly").objectStore(ms)}function il(){const S=indexedDB.open(Jo,1);return new Promise((_,I)=>{S.addEventListener("error",()=>{I(S.error)}),S.addEventListener("upgradeneeded",()=>{const R=S.result;try{R.createObjectStore(ms,{keyPath:ku})}catch(se){I(se)}}),S.addEventListener("success",(0,g.Z)(function*(){const R=S.result;R.objectStoreNames.contains(ms)?_(R):(R.close(),yield function Vo(){const S=indexedDB.deleteDatabase(Jo);return new du(S).toPromise()}(),_(yield il()))}))})}function Lu(S,_,I){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,g.Z)(function*(S,_,I){const R=hu(S,!0).put({[ku]:_,value:I});return new du(R).toPromise()})).apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(S,_){const I=hu(S,!1).get(_),R=yield new du(I).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function sl(S,_){const I=hu(S,!0).delete(_);return new du(I).toPromise()}const xa=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,g.Z)(function*(){return I.db||(I.db=yield il()),I.db})()}_withRetries(I){var R=this;return(0,g.Z)(function*(){let se=0;for(;;)try{const me=yield R._openDb();return yield I(me)}catch(me){if(se++>3)throw me;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,g.Z)(function*(){return jc()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,g.Z)(function*(){I.receiver=Js._getInstance(function ci(){return jc()?self:null}()),I.receiver._subscribe("keyChanged",function(){var R=(0,g.Z)(function*(se,me){return{keyProcessed:(yield I._poll()).includes(me.key)}});return function(se,me){return R.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var R=(0,g.Z)(function*(se,me){return["keyChanged"]});return function(se,me){return R.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,g.Z)(function*(){var R,se;if(I.activeServiceWorker=yield function Ln(){return kt.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new gf(I.activeServiceWorker);const me=yield I.sender._send("ping",{},800);me&&null!==(R=me[0])&&void 0!==R&&R.fulfilled&&null!==(se=me[0])&&void 0!==se&&se.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var R=this;return(0,g.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function an(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:I},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const I=yield il();return yield Lu(I,cr,"1"),yield sl(I,cr),!0}catch{}return!1})()}_withPendingWrite(I){var R=this;return(0,g.Z)(function*(){R.pendingWrites++;try{yield I()}finally{R.pendingWrites--}})()}_set(I,R){var se=this;return(0,g.Z)(function*(){return se._withPendingWrite((0,g.Z)(function*(){return yield se._withRetries(me=>Lu(me,I,R)),se.localCache[I]=R,se.notifyServiceWorker(I)}))})()}_get(I){var R=this;return(0,g.Z)(function*(){const se=yield R._withRetries(me=>function No(S,_){return Dr.apply(this,arguments)}(me,I));return R.localCache[I]=se,se})()}_remove(I){var R=this;return(0,g.Z)(function*(){return R._withPendingWrite((0,g.Z)(function*(){return yield R._withRetries(se=>sl(se,I)),delete R.localCache[I],R.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,g.Z)(function*(){const R=yield I._withRetries(We=>{const Vt=hu(We,!1).getAll();return new du(Vt).toPromise()});if(!R)return[];if(0!==I.pendingWrites)return[];const se=[],me=new Set;for(const{fbase_key:We,value:Vt}of R)me.add(We),JSON.stringify(I.localCache[We])!==JSON.stringify(Vt)&&(I.notifyListeners(We,Vt),se.push(We));for(const We of Object.keys(I.localCache))I.localCache[We]&&!me.has(We)&&(I.notifyListeners(We,null),se.push(We));return se})()}notifyListeners(I,R){this.localCache[I]=R;const se=this.listeners[I];if(se)for(const me of Array.from(se))me(R)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(R)}_removeListener(I,R){this.listeners[I]&&(this.listeners[I].delete(R),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),Ol=1e12;class _l{constructor(_){this.auth=_,this.counter=Ol,this._widgets=new Map}render(_,I){const R=this.counter;return this._widgets.set(R,new O(_,this.auth.name,I||{})),this.counter++,R}reset(_){var I;const R=_||Ol;null===(I=this._widgets.get(R))||void 0===I||I.delete(),this._widgets.delete(R)}getResponse(_){var I;return(null===(I=this._widgets.get(_||Ol))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,g.Z)(function*(){var R;return null===(R=I._widgets.get(_||Ol))||void 0===R||R.execute(),""})()}}class O{constructor(_,I,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof _?document.getElementById(_):_;Ke(se,"argument-error",{appName:I}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function B(S){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<S;R++)_.push(I.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const W=vi("rcb"),L=new Sr(3e4,6e4);class _e{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=pt().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return Ke(function Re(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&Pr(pt().grecaptcha)?Promise.resolve(pt().grecaptcha):new Promise((R,se)=>{const me=pt().setTimeout(()=>{se(He(_,"network-request-failed"))},L.get());pt()[W]=()=>{pt().clearTimeout(me),delete pt()[W];const Vt=pt().grecaptcha;if(!Vt||!Pr(Vt))return void se(He(_,"internal-error"));const cn=Vt.render;Vt.render=(Pn,tr)=>{const Jn=cn(Pn,tr);return this.counter++,Jn},this.hostLanguage=I,R(Vt)},Kr(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:W,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(me),se(He(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=pt().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gt{load(_){return(0,g.Z)(function*(){return new _l(_)})()}clearedOneInstance(){}}const In="recaptcha",Xt={theme:"light",type:"image"};class or{constructor(_,I=Object.assign({},Xt),R){this.parameters=I,this.type=In,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gr(R),this.isInvisible="invisible"===this.parameters.size,Ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof _?document.getElementById(_):_;Ke(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gt:new _e,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),R=_.getAssertedRecaptcha();return R.getResponse(I)||new Promise(me=>{const We=Vt=>{Vt&&(_.tokenChangeListeners.delete(We),me(Vt))};_.tokenChangeListeners.add(We),_.isInvisible&&R.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ke(!this.parameters.sitekey,this.auth,"argument-error"),Ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(R=>R(I)),"function"==typeof _)_(I);else if("string"==typeof _){const R=pt()[_];"function"==typeof R&&R(I)}}}assertNotDestroyed(){Ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const R=document.createElement("div");I.appendChild(R),I=R}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){Ke(yn()&&!jc(),_.auth,"internal-error"),yield function ti(){let S=null;return new Promise(_=>{"complete"!==document.readyState?(S=()=>_(),window.addEventListener("load",S)):_()}).catch(_=>{throw S&&window.removeEventListener("load",S),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function fn(S){return sn.apply(this,arguments)}(_.auth);Ke(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return Ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ct{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=li._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function os(){return(os=(0,g.Z)(function*(S,_,I){const R=Gr(S),se=yield Na(R,_,(0,H.m9)(I));return new Ct(se,me=>q(R,me))})).apply(this,arguments)}function ol(){return(ol=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S);yield Mo(!1,R,"phone");const se=yield Na(R.auth,_,(0,H.m9)(I));return new Ct(se,me=>$(R,me))})).apply(this,arguments)}function Kl(){return(Kl=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S),se=yield Na(R.auth,_,(0,H.m9)(I));return new Ct(se,me=>Xe(R,me))})).apply(this,arguments)}function Na(S,_,I){return pu.apply(this,arguments)}function pu(){return pu=(0,g.Z)(function*(S,_,I){var R;const se=yield I.verify();try{let me;if(Ke("string"==typeof se,S,"argument-error"),Ke(I.type===In,S,"argument-error"),me="string"==typeof _?{phoneNumber:_}:_,"session"in me){const We=me.session;if("phoneNumber"in me)return Ke("enroll"===We.type,S,"internal-error"),(yield function Ur(S,_){return Ee(S,"POST","/v2/accounts/mfaEnrollment:start",tt(S,_))}(S,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Ke("signin"===We.type,S,"internal-error");const Vt=(null===(R=me.multiFactorHint)||void 0===R?void 0:R.uid)||me.multiFactorUid;return Ke(Vt,S,"missing-multi-factor-info"),(yield function Ci(S,_){return Ee(S,"POST","/v2/accounts/mfaSignIn:start",tt(S,_))}(S,{mfaPendingCredential:We.credential,mfaEnrollmentId:Vt,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function si(S,_){return Zn.apply(this,arguments)}(S,{phoneNumber:me.phoneNumber,recaptchaToken:se});return We}}finally{I._reset()}}),pu.apply(this,arguments)}function xd(){return(xd=(0,g.Z)(function*(S,_){yield Or((0,H.m9)(S),_)})).apply(this,arguments)}let xl=(()=>{class S{constructor(I){this.providerId=S.PROVIDER_ID,this.auth=Gr(I)}verifyPhoneNumber(I,R){return Na(this.auth,I,(0,H.m9)(R))}static credential(I,R){return li._fromVerification(I,R)}static credentialFromResult(I){return S.credentialFromTaggedObject(I)}static credentialFromError(I){return S.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:R,temporaryProof:se}=I;return R&&se?li._fromTokenResponse(R,se):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function Xs(S,_){return _?vn(_):(Ke(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class po extends lo{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Es(_,this._buildIdpRequest())}_linkToIdToken(_,I){return Es(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return Es(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function Fu(S){return Fo(S.auth,new po(S),S.bypassAuthState)}function ud(S){const{auth:_,user:I}=S;return Ke(I,_,"internal-error"),Hl(I,new po(S),S.bypassAuthState)}function Gs(S){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,g.Z)(function*(S){const{auth:_,user:I}=S;return Ke(I,_,"internal-error"),Or(I,new po(S),S.bypassAuthState)})).apply(this,arguments)}class al{constructor(_,I,R,se,me=!1){this.auth=_,this.resolver=R,this.user=se,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,g.Z)(function*(R,se){_.pendingPromise={resolve:R,reject:se};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(me){_.reject(me)}});return function(R,se){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,g.Z)(function*(){const{urlResponse:R,sessionId:se,postBody:me,tenantId:We,error:Vt,type:cn}=_;if(Vt)return void I.reject(Vt);const Pn={auth:I.auth,requestUri:R,sessionId:se,tenantId:We||void 0,postBody:me||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(cn)(Pn))}catch(tr){I.reject(tr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Fu;case"linkViaPopup":case"linkViaRedirect":return Gs;case"reauthViaPopup":case"reauthViaRedirect":return ud;default:Qe(this.auth,"internal-error")}}resolve(_){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eo=new Sr(2e3,1e4);function yl(){return(yl=(0,g.Z)(function*(S,_,I){const R=Gr(S);Pt(S,_,Fr);const se=Xs(R,I);return new Gc(R,"signInViaPopup",_,se).executeNotNull()})).apply(this,arguments)}function Hc(){return(Hc=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S);Pt(R.auth,_,Fr);const se=Xs(R.auth,I);return new Gc(R.auth,"reauthViaPopup",_,se,R).executeNotNull()})).apply(this,arguments)}function $c(){return($c=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S);Pt(R.auth,_,Fr);const se=Xs(R.auth,I);return new Gc(R.auth,"linkViaPopup",_,se,R).executeNotNull()})).apply(this,arguments)}let Gc=(()=>{class S extends al{constructor(I,R,se,me,We){super(I,R,me,We),this.provider=se,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var I=this;return(0,g.Z)(function*(){const R=yield I.execute();return Ke(R,I.auth,"internal-error"),R})()}onExecution(){var I=this;return(0,g.Z)(function*(){Et(1===I.filter.length,"Popup operations only handle one event");const R=za();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],R),I.authWindow.associatedEvent=R,I.resolver._originValidation(I.auth).catch(se=>{I.reject(se)}),I.resolver._isIframeWebStorageSupported(I.auth,se=>{se||I.reject(He(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const I=()=>{var R,se;this.pollId=null!==(se=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,eo.get())};I()}}return S.currentPopupAction=null,S})();const Tc="pendingRedirect",gh=new Map;class _f extends al{constructor(_,I,R=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,R),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,g.Z)(function*(){let R=gh.get(I.auth._key());if(!R){try{const me=(yield function zc(S,_){return _h.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;R=()=>Promise.resolve(me)}catch(se){R=()=>Promise.reject(se)}gh.set(I.auth._key(),R)}return I.bypassAuthState||gh.set(I.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,R=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(R,_);if("unknown"!==_.type){if(_.eventId){const se=yield R.auth._redirectUserForId(_.eventId);if(se)return R.user=se,I().call(R,_);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function _h(){return(_h=(0,g.Z)(function*(S,_){const I=ql(_),R=Nd(S);if(!(yield R._isAvailable()))return!1;const se="true"===(yield R._get(I));return yield R._remove(I),se})).apply(this,arguments)}function zs(S,_){return _u.apply(this,arguments)}function _u(){return(_u=(0,g.Z)(function*(S,_){return Nd(S)._set(ql(_),"true")})).apply(this,arguments)}function Wc(S,_){gh.set(S._key(),_)}function Nd(S){return vn(S._redirectPersistence)}function ql(S){return ve(Tc,S.config.apiKey,S.name)}function yu(S,_,I){return function dd(S,_,I){return Kc.apply(this,arguments)}(S,_,I)}function Kc(){return(Kc=(0,g.Z)(function*(S,_,I){const R=Gr(S);Pt(S,_,Fr),yield R._initializationPromise;const se=Xs(R,I);return yield zs(se,R),se._openRedirect(R,_,"signInViaRedirect")})).apply(this,arguments)}function Bu(S,_,I){return function vu(S,_,I){return ju.apply(this,arguments)}(S,_,I)}function ju(){return(ju=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S);Pt(R.auth,_,Fr),yield R.auth._initializationPromise;const se=Xs(R.auth,I);yield zs(se,R.auth);const me=yield fs(R);return se._openRedirect(R.auth,_,"reauthViaRedirect",me)})).apply(this,arguments)}function Bo(S,_,I){return function Hu(S,_,I){return ca.apply(this,arguments)}(S,_,I)}function ca(){return(ca=(0,g.Z)(function*(S,_,I){const R=(0,H.m9)(S);Pt(R.auth,_,Fr),yield R.auth._initializationPromise;const se=Xs(R.auth,I);yield Mo(!1,R,_.providerId),yield zs(se,R.auth);const me=yield fs(R);return se._openRedirect(R.auth,_,"linkViaRedirect",me)})).apply(this,arguments)}function as(){return(as=(0,g.Z)(function*(S,_){return yield Gr(S)._initializationPromise,Nl(S,_,!1)})).apply(this,arguments)}function Nl(S,_){return xs.apply(this,arguments)}function xs(){return(xs=(0,g.Z)(function*(S,_,I=!1){const R=Gr(S),se=Xs(R,_),We=yield new _f(R,se,I).execute();return We&&!I&&(delete We.user._redirectEventId,yield R._persistUserIfCurrent(We.user),yield R._setRedirectUser(null,_)),We})).apply(this,arguments)}function fs(S){return mo.apply(this,arguments)}function mo(){return(mo=(0,g.Z)(function*(S){const _=za(`${S.uid}:::`);return S._redirectEventId=_,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),_})).apply(this,arguments)}class ea{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(_,R)&&(I=!0,this.sendToConsumer(_,R),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ws(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kd(S);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var R;if(_.error&&!kd(_)){const se=(null===(R=_.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";I.onError(He(this.auth,se))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const R=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&R}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cc(_))}saveEventToCache(_){this.cachedEventUids.add(cc(_)),this.lastProcessedEventTime=Date.now()}}function cc(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(_=>_).join("-")}function kd({type:S,error:_}){return"unknown"===S&&"auth/no-auth-event"===_?.code}function hd(S){return ba.apply(this,arguments)}function ba(){return(ba=(0,g.Z)(function*(S,_={}){return Ee(S,"GET","/v1/projects",_)})).apply(this,arguments)}const _s=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ta=/^https?/;function ll(){return(ll=(0,g.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:_}=yield hd(S);for(const I of _)try{if(kl(I))return}catch{}Qe(S,"unauthorized-domain")})).apply(this,arguments)}function kl(S){const _=Nn(),{protocol:I,hostname:R}=new URL(_);if(S.startsWith("chrome-extension://")){const We=new URL(S);return""===We.hostname&&""===R?"chrome-extension:"===I&&S.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&We.hostname===R}if(!ta.test(I))return!1;if(_s.test(S))return R===S;const se=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(R)}const cp=new Sr(3e4,6e4);function Dc(){const S=pt().___jsl;if(S?.H)for(const _ of Object.keys(S.H))if(S.H[_].r=S.H[_].r||[],S.H[_].L=S.H[_].L||[],S.H[_].r=[...S.H[_].L],S.CP)for(let I=0;I<S.CP.length;I++)S.CP[I]=null}let Ta=null;const vl=new Sr(5e3,15e3),Sc="__/auth/iframe",ul="emulator/auth/iframe",qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},El=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ca(S){const _=S.config;Ke(_.authDomain,S,"auth-domain-config-required");const I=_.emulator?ht(_,ul):`https://${S.config.authDomain}/${Sc}`,R={apiKey:_.apiKey,appName:S.name,v:Ae.SDK_VERSION},se=El.get(S.config.apiHost);se&&(R.eid=se);const me=S._getFrameworks();return me.length&&(R.fw=me.join(",")),`${I}?${(0,H.xO)(R).slice(1)}`}function G(){return G=(0,g.Z)(function*(S){const _=yield function So(S){return Ta=Ta||function cl(S){return new Promise((_,I)=>{var R,se,me;function We(){Dc(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Dc(),I(He(S,"network-request-failed"))},timeout:cp.get()})}if(null!==(se=null===(R=pt().gapi)||void 0===R?void 0:R.iframes)&&void 0!==se&&se.Iframe)_(gapi.iframes.getContext());else{if(null===(me=pt().gapi)||void 0===me||!me.load){const Vt=vi("iframefcb");return pt()[Vt]=()=>{gapi.load?We():I(He(S,"network-request-failed"))},Kr(`https://apis.google.com/js/api.js?onload=${Vt}`).catch(cn=>I(cn))}We()}}).catch(_=>{throw Ta=null,_})}(S),Ta}(S),I=pt().gapi;return Ke(I,S,"internal-error"),_.open({where:document.body,url:Ca(S),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qc,dontclear:!0},R=>new Promise(function(){var se=(0,g.Z)(function*(me,We){yield R.restyle({setHideOnLeave:!1});const Vt=He(S,"network-request-failed"),cn=pt().setTimeout(()=>{We(Vt)},vl.get());function Pn(){pt().clearTimeout(cn),me(R)}R.ping(Pn).then(Pn,()=>{We(Vt)})});return function(me,We){return se.apply(this,arguments)}}()))}),G.apply(this,arguments)}const le={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class On{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hr="__/auth/handler",qr="emulator/auth/handler",Il=encodeURIComponent("fac");function zr(S,_,I,R,se,me){return uc.apply(this,arguments)}function uc(){return(uc=(0,g.Z)(function*(S,_,I,R,se,me){Ke(S.config.authDomain,S,"auth-domain-config-required"),Ke(S.config.apiKey,S,"invalid-api-key");const We={apiKey:S.config.apiKey,appName:S.name,authType:I,redirectUrl:R,v:Ae.SDK_VERSION,eventId:se};if(_ instanceof Fr){_.setDefaultLanguage(S.languageCode),We.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(We.customParameters=JSON.stringify(_.getCustomParameters()));for(const[tr,Jn]of Object.entries(me||{}))We[tr]=Jn}if(_ instanceof Is){const tr=_.getScopes().filter(Jn=>""!==Jn);tr.length>0&&(We.scopes=tr.join(","))}S.tenantId&&(We.tid=S.tenantId);const Vt=We;for(const tr of Object.keys(Vt))void 0===Vt[tr]&&delete Vt[tr];const cn=yield S._getAppCheckToken(),Pn=cn?`#${Il}=${encodeURIComponent(cn)}`:"";return`${function Gi({config:S}){return S.emulator?ht(S,qr):`https://${S.authDomain}/${Hr}`}(S)}?${(0,H.xO)(Vt).slice(1)}${Pn}`})).apply(this,arguments)}const ka="webStorageSupport",Zl=class dl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bc,this._completeRedirectFn=Nl,this._overrideRedirectResult=Wc}_openPopup(_,I,R,se){var me=this;return(0,g.Z)(function*(){var We;Et(null===(We=me.eventManagers[_._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const Vt=yield zr(_,I,R,Nn(),se);return function An(S,_,I,R=500,se=600){const me=Math.max((window.screen.availHeight-se)/2,0).toString(),We=Math.max((window.screen.availWidth-R)/2,0).toString();let Vt="";const cn=Object.assign(Object.assign({},le),{width:R.toString(),height:se.toString(),top:me,left:We}),Pn=(0,H.z$)().toLowerCase();I&&(Vt=je(Pn)?"_blank":I),pe(Pn)&&(_=_||"http://localhost",cn.scrollbars="yes");const tr=Object.entries(cn).reduce((io,[Xl,Hd])=>`${io}${Xl}=${Hd},`,"");if(function Yr(S=(0,H.z$)()){var _;return Rn(S)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Pn)&&"_self"!==Vt)return function _r(S,_){const I=document.createElement("a");I.href=S,I.target=_;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(R)}(_||"",Vt),new On(null);const Jn=window.open(_||"",Vt,tr);Ke(Jn,S,"popup-blocked");try{Jn.focus()}catch{}return new On(Jn)}(_,Vt,za())})()}_openRedirect(_,I,R,se){var me=this;return(0,g.Z)(function*(){return yield me._originValidation(_),function wn(S){pt().location.href=S}(yield zr(_,I,R,Nn(),se)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:se,promise:me}=this.eventManagers[I];return se?Promise.resolve(se):(Et(me,"If manager is not set, promise should be"),me)}const R=this.initAndGetManager(_);return this.eventManagers[I]={promise:R},R.catch(()=>{delete this.eventManagers[I]}),R}initAndGetManager(_){var I=this;return(0,g.Z)(function*(){const R=yield function b(S){return G.apply(this,arguments)}(_),se=new ea(_);return R.register("authEvent",me=>(Ke(me?.authEvent,_,"invalid-auth-event"),{status:se.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:se},I.iframes[_._key()]=R,se})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(ka,{type:ka},se=>{var me;const We=null===(me=se?.[0])||void 0===me?void 0:me[ka];void 0!==We&&I(!!We),Qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Eu(S){return ll.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return ze()||de()||Rn()}};class Zc{constructor(_){this.factorId=_}_process(_,I,R){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,R);case"signin":return this._finalizeSignIn(_,I.credential);default:return Bt("unexpected MultiFactorSessionType")}}}class to extends Zc{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new to(_)}_finalizeEnroll(_,I,R){return function ei(S,_){return Ee(S,"POST","/v2/accounts/mfaEnrollment:finalize",tt(S,_))}(_,{idToken:I,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function fu(S,_){return Ee(S,"POST","/v2/accounts/mfaSignIn:finalize",tt(S,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let no=(()=>{class S{constructor(){}static assertion(I){return to._fromCredential(I)}}return S.FACTOR_ID="phone",S})();var vf="@firebase/auth";class up{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,g.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(R=>{_(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Iu(){return window}(0,H.Pz)("authIdTokenMaxAge"),function dp(S){(0,Ae._registerComponent)(new Ue.wA("auth",(_,{options:I})=>{const R=_.getProvider("app").getImmediate(),se=_.getProvider("heartbeat"),me=_.getProvider("app-check-internal"),{apiKey:We,authDomain:Vt}=R.options;Ke(We&&!We.includes(":"),"invalid-api-key",{appName:R.name});const cn={apiKey:We,authDomain:Vt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ot(S)},Pn=new ji(R,se,me,cn);return function Ls(S,_){const I=_?.persistence||[],R=(Array.isArray(I)?I:[I]).map(vn);_?.errorMap&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(R,_?.popupRedirectResolver)}(Pn,I),Pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,R)=>{_.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new Ue.wA("auth-internal",_=>{const I=Gr(_.getProvider("auth").getImmediate());return new up(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(vf,"0.23.2",function $u(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,Ae.registerVersion)(vf,"0.23.2","esm2017")}("Browser");function yh(){return yh=(0,g.Z)(function*(S,_,I){var R;const{BuildInfo:se}=Iu();Et(_.sessionId,"AuthEvent did not contain a session ID");const me=yield function pp(S){return zu.apply(this,arguments)}(_.sessionId),We={};return Rn()?We.ibi=se.packageName:tn()?We.apn=se.packageName:Qe(S,"operation-not-supported-in-this-environment"),se.displayName&&(We.appDisplayName=se.displayName),We.sessionId=me,zr(S,I,_.type,void 0,null!==(R=_.eventId)&&void 0!==R?R:void 0,We)}),yh.apply(this,arguments)}function Rc(){return(Rc=(0,g.Z)(function*(S){const{BuildInfo:_}=Iu(),I={};Rn()?I.iosBundleId=_.packageName:tn()?I.androidPackageName=_.packageName:Qe(S,"operation-not-supported-in-this-environment"),yield hd(S,I)})).apply(this,arguments)}function Fd(){return(Fd=(0,g.Z)(function*(S,_,I){const{cordova:R}=Iu();let se=()=>{};try{yield new Promise((me,We)=>{let Vt=null;function cn(){var Jn;me();const io=null===(Jn=R.plugins.browsertab)||void 0===Jn?void 0:Jn.close;"function"==typeof io&&io(),"function"==typeof I?.close&&I.close()}function Pn(){Vt||(Vt=window.setTimeout(()=>{We(He(S,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===document?.visibilityState&&Pn()}_.addPassiveListener(cn),document.addEventListener("resume",Pn,!1),tn()&&document.addEventListener("visibilitychange",tr,!1),se=()=>{_.removePassiveListener(cn),document.removeEventListener("resume",Pn,!1),document.removeEventListener("visibilitychange",tr,!1),Vt&&window.clearTimeout(Vt)}})}finally{se()}})).apply(this,arguments)}function zu(){return(zu=(0,g.Z)(function*(S){const _=function Mc(S){if(Et(/[0-9a-zA-Z]+/.test(S),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(S);const _=new ArrayBuffer(S.length),I=new Uint8Array(_);for(let R=0;R<S.length;R++)I[R]=S.charCodeAt(R);return I}(S),I=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(I)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Pc extends ea{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(I=>I(_)),super.onEvent(_)}initialized(){var _=this;return(0,g.Z)(function*(){yield _.initPromise})()}}function v(S){return D.apply(this,arguments)}function D(){return(D=(0,g.Z)(function*(S){const _=yield we()._get(mt(S));return _&&(yield we()._remove(mt(S))),_})).apply(this,arguments)}function he(){const S=[];for(let I=0;I<20;I++){const R=Math.floor(62*Math.random());S.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return S.join("")}function we(){return vn(xo)}function mt(S){return ve("authEvent",S.config.apiKey,S.name)}function $n(S){if(!S?.includes("?"))return{};const[_,...I]=S.split("?");return(0,H.zd)(I.join("?"))}const Ll=class Vi{constructor(){this._redirectPersistence=bc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nl,this._overrideRedirectResult=Wc}_initialize(_){var I=this;return(0,g.Z)(function*(){const R=_._key();let se=I.eventManagers.get(R);return se||(se=new Pc(_),I.eventManagers.set(R,se),I.attachCallbackListeners(_,se)),se})()}_openPopup(_){Qe(_,"operation-not-supported-in-this-environment")}_openRedirect(_,I,R,se){var me=this;return(0,g.Z)(function*(){!function hc(S){var _,I,R,se,me,We,Vt,cn,Pn,tr;const Jn=Iu();Ke("function"==typeof(null===(_=Jn?.universalLinks)||void 0===_?void 0:_.subscribe),S,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ke(typeof(null===(I=Jn?.BuildInfo)||void 0===I?void 0:I.packageName)<"u",S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ke("function"==typeof(null===(me=null===(se=null===(R=Jn?.cordova)||void 0===R?void 0:R.plugins)||void 0===se?void 0:se.browsertab)||void 0===me?void 0:me.openUrl),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ke("function"==typeof(null===(cn=null===(Vt=null===(We=Jn?.cordova)||void 0===We?void 0:We.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===cn?void 0:cn.isAvailable),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ke("function"==typeof(null===(tr=null===(Pn=Jn?.cordova)||void 0===Pn?void 0:Pn.InAppBrowser)||void 0===tr?void 0:tr.open),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const We=yield me._initialize(_);yield We.initialized(),We.resetRedirect(),function Vu(){gh.clear()}(),yield me._originValidation(_);const Vt=function gp(S,_,I=null){return{type:_,eventId:I,urlResponse:null,sessionId:he(),postBody:null,tenantId:S.tenantId,error:He(S,"no-auth-event")}}(_,R,se);yield function x(S,_){return we()._set(mt(S),_)}(_,Vt);const cn=yield function Ac(S,_,I){return yh.apply(this,arguments)}(_,Vt,I),Pn=yield function Yl(S){const{cordova:_}=Iu();return new Promise(I=>{_.plugins.browsertab.isAvailable(R=>{let se=null;R?_.plugins.browsertab.openUrl(S):se=_.InAppBrowser.open(S,function qn(S=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}()?"_blank":"_system","location=yes"),I(se)})})}(cn);return function ua(S,_,I){return Fd.apply(this,arguments)}(_,We,Pn)})()}_isIframeWebStorageSupported(_,I){throw new Error("Method not implemented.")}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Im(S){return Rc.apply(this,arguments)}(_)),this.originValidationPromises[I]}attachCallbackListeners(_,I){const{universalLinks:R,handleOpenURL:se,BuildInfo:me}=Iu(),We=setTimeout((0,g.Z)(function*(){yield v(_),I.onEvent(Qc())}),500),Vt=function(){var tr=(0,g.Z)(function*(Jn){clearTimeout(We);const io=yield v(_);let Xl=null;io&&Jn?.url&&(Xl=function U(S,_){var I,R;const se=function pn(S){const _=$n(S),I=_.link?decodeURIComponent(_.link):void 0,R=$n(I).link,se=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return $n(se).link||se||R||I||S}(_);if(se.includes("/__/auth/callback")){const me=$n(se),We=me.firebaseError?function zt(S){try{return JSON.parse(S)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,Vt=null===(R=null===(I=We?.code)||void 0===I?void 0:I.split("auth/"))||void 0===R?void 0:R[1],cn=Vt?He(Vt):null;return cn?{type:S.type,eventId:S.eventId,tenantId:S.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:S.type,eventId:S.eventId,tenantId:S.tenantId,sessionId:S.sessionId,urlResponse:se,postBody:null}}return null}(io,Jn.url)),I.onEvent(Xl||Qc())});return function(io){return tr.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,Vt);const cn=se,Pn=`${me.packageName.toLowerCase()}://`;Iu().handleOpenURL=function(){var tr=(0,g.Z)(function*(Jn){if(Jn.toLowerCase().startsWith(Pn)&&Vt({url:Jn}),"function"==typeof cn)try{cn(Jn)}catch(io){console.error(io)}});return function(Jn){return tr.apply(this,arguments)}}()}};function Qc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:He("no-auth-event")}}function Fl(){var S;return(null===(S=self?.location)||void 0===S?void 0:S.protocol)||null}function wl(S=(0,H.z$)()){return!("file:"!==Fl()&&"ionic:"!==Fl()&&"capacitor:"!==Fl()||!S.toLowerCase().match(/iphone|ipad|ipod|android/))}function ni(){try{const S=self.localStorage,_=za();if(S)return S.setItem(_,"1"),S.removeItem(_),!function Eh(S=(0,H.z$)()){return function pc(){return(0,H.w1)()&&11===document?.documentMode}()||function gd(S=(0,H.z$)()){return/Edge\/\d+/.test(S)}(S)}()||(0,H.hl)()}catch{return Ef()&&(0,H.hl)()}return!1}function Ef(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ql(){return(function fc(){return"http:"===Fl()||"https:"===Fl()}()||(0,H.ru)()||wl())&&!function vh(){return(0,H.b$)()||(0,H.UG)()}()&&ni()&&!Ef()}function Ih(){return wl()&&typeof document<"u"}function yp(){return(yp=(0,g.Z)(function*(){return!!Ih()&&new Promise(S=>{const _=setTimeout(()=>{S(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),S(!0)})})})).apply(this,arguments)}const mc={LOCAL:"local",NONE:"none",SESSION:"session"},Da=Ke,wh="persistence";function go(S){return Th.apply(this,arguments)}function Th(){return(Th=(0,g.Z)(function*(S){yield S._initializationPromise;const _=Ch(),I=ve(wh,S.config.apiKey,S.name);_&&_.setItem(I,S._getPersistence())})).apply(this,arguments)}function Ch(){var S;try{return(null===(S=function If(){return typeof window<"u"?window:null}())||void 0===S?void 0:S.sessionStorage)||null}catch{return null}}const da=Ke;class Ul{constructor(){this.browserResolver=vn(Zl),this.cordovaResolver=vn(Ll),this.underlyingResolver=null,this._redirectPersistence=bc,this._completeRedirectFn=Nl,this._overrideRedirectResult=Wc}_initialize(_){var I=this;return(0,g.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,I,R,se){var me=this;return(0,g.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(_,I,R,se)})()}_openRedirect(_,I,R,se){var me=this;return(0,g.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(_,I,R,se)})()}_isIframeWebStorageSupported(_,I){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,I)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Ih()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return da(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,g.Z)(function*(){if(_.underlyingResolver)return;const I=yield function _p(){return yp.apply(this,arguments)}();_.underlyingResolver=I?_.cordovaResolver:_.browserResolver})()}}function wf(S){return S.unwrap()}function L_(S){return ls(S)}function ls(S){const{_tokenResponse:_}=S instanceof H.ZR?S.customData:S;if(!_)return null;if(!(S instanceof H.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return xl.credentialFromResult(S);const I=_.providerId;if(!I||I===Oe.PASSWORD)return null;let R;switch(I){case Oe.GOOGLE:R=Ms;break;case Oe.FACEBOOK:R=Zo;break;case Oe.GITHUB:R=ws;break;case Oe.TWITTER:R=Vs;break;default:const{oauthIdToken:se,oauthAccessToken:me,oauthTokenSecret:We,pendingToken:Vt,nonce:cn}=_;return me||We||se||Vt?Vt?I.startsWith("saml.")?Cr._create(I,Vt):Qn._fromParams({providerId:I,signInMethod:I,pendingToken:Vt,idToken:se,accessToken:me}):new qs(I).credential({idToken:se,accessToken:me,rawNonce:cn}):null}return S instanceof H.ZR?R.credentialFromError(S):R.credentialFromResult(S)}function ro(S,_){return _.catch(I=>{throw I instanceof H.ZR&&function Ig(S,_){var I;const R=null===(I=_.customData)||void 0===I?void 0:I._tokenResponse;if("auth/multi-factor-auth-required"===_?.code)_.resolver=new F_(S,function mr(S,_){var I;const R=(0,H.m9)(S),se=_;return Ke(_.customData.operationType,R,"argument-error"),Ke(null===(I=se.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,R,"argument-error"),jn._fromError(R,se)}(S,_));else if(R){const se=ls(_),me=_;se&&(me.credential=se,me.tenantId=R.tenantId||void 0,me.email=R.email||void 0,me.phoneNumber=R.phoneNumber||void 0)}}(S,I),I}).then(I=>{const se=I.user;return{operationType:I.operationType,credential:L_(I),additionalUserInfo:Y(I),user:qa.getOrCreate(se)}})}function Wu(S,_){return bf.apply(this,arguments)}function bf(){return(bf=(0,g.Z)(function*(S,_){const I=yield _;return{verificationId:I.verificationId,confirm:R=>ro(S,I.confirm(R))}})).apply(this,arguments)}class F_{constructor(_,I){this.resolver=I,this.auth=function Vd(S){return S.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return ro(wf(this.auth),this.resolver.resolveSignIn(_))}}class qa{constructor(_){this._delegate=_,this.multiFactor=function Hs(S){const _=(0,H.m9)(S);return Pi.has(_)||Pi.set(_,ss._fromUser(_)),Pi.get(_)}(_)}static getOrCreate(_){return qa.USER_MAP.has(_)||qa.USER_MAP.set(_,new qa(_)),qa.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var I=this;return(0,g.Z)(function*(){return ro(I.auth,$(I._delegate,_))})()}linkWithPhoneNumber(_,I){var R=this;return(0,g.Z)(function*(){return Wu(R.auth,function Wa(S,_,I){return ol.apply(this,arguments)}(R._delegate,_,I))})()}linkWithPopup(_){var I=this;return(0,g.Z)(function*(){return ro(I.auth,function mh(S,_,I){return $c.apply(this,arguments)}(I._delegate,_,Ul))})()}linkWithRedirect(_){var I=this;return(0,g.Z)(function*(){return yield go(Gr(I.auth)),Bo(I._delegate,_,Ul)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var I=this;return(0,g.Z)(function*(){return ro(I.auth,Xe(I._delegate,_))})()}reauthenticateWithPhoneNumber(_,I){return Wu(this.auth,function Do(S,_,I){return Kl.apply(this,arguments)}(this._delegate,_,I))}reauthenticateWithPopup(_){return ro(this.auth,function gu(S,_,I){return Hc.apply(this,arguments)}(this._delegate,_,Ul))}reauthenticateWithRedirect(_){var I=this;return(0,g.Z)(function*(){return yield go(Gr(I.auth)),Bu(I._delegate,_,Ul)})()}sendEmailVerification(_){return function Co(S,_){return gl.apply(this,arguments)}(this._delegate,_)}unlink(_){var I=this;return(0,g.Z)(function*(){return yield function js(S,_){return es.apply(this,arguments)}(I._delegate,_),I})()}updateEmail(_){return function Oo(S,_){return zl((0,H.m9)(S),_,null)}(this._delegate,_)}updatePassword(_){return function Vc(S,_){return zl((0,H.m9)(S),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function lc(S,_){return xd.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function sc(S,_){return nl.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,I){return function Ea(S,_,I){return Ia.apply(this,arguments)}(this._delegate,_,I)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qa.USER_MAP=new WeakMap;const Jc=Ke;let Dh=(()=>{class S{constructor(I,R){if(this.app=I,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=I.options;Jc(se,"invalid-api-key",{appName:I.name}),Jc(se,"invalid-api-key",{appName:I.name});const me=typeof window<"u"?Ul:void 0;this._delegate=R.initialize({options:{persistence:Jl(se,I.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(wt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(I){this._delegate.languageCode=I}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(I){this._delegate.tenantId=I}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(I,R){!function Zi(S,_,I){const R=Gr(S);Ke(R._canInitEmulator,R,"emulator-config-failed"),Ke(/^https?:\/\//.test(_),R,"invalid-emulator-scheme");const se=!!I?.disableWarnings,me=Fs(_),{host:We,port:Vt}=function Eo(S){const _=Fs(S),I=/(\/\/)?([^?#/]+)/.exec(S.substr(_.length));if(!I)return{host:"",port:null};const R=I[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(R);if(se){const me=se[1];return{host:me,port:Wo(R.substr(me.length+1))}}{const[me,We]=R.split(":");return{host:me,port:Wo(We)}}}(_);R.config.emulator={url:`${me}//${We}${null===Vt?"":`:${Vt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:We,port:Vt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function Xa(){function S(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}(this._delegate,I,R)}applyActionCode(I){return function ga(S,_){return As.apply(this,arguments)}(this._delegate,I)}checkActionCode(I){return Uo(this._delegate,I)}confirmPasswordReset(I,R){return function Os(S,_,I){return Ha.apply(this,arguments)}(this._delegate,I,R)}createUserWithEmailAndPassword(I,R){var se=this;return(0,g.Z)(function*(){return ro(se._delegate,function pl(S,_,I){return ml.apply(this,arguments)}(se._delegate,I,R))})()}fetchProvidersForEmail(I){return this.fetchSignInMethodsForEmail(I)}fetchSignInMethodsForEmail(I){return function ic(S,_){return Ga.apply(this,arguments)}(this._delegate,I)}isSignInWithEmailLink(I){return function rc(S,_){const I=bi.parseLink(_);return"EMAIL_SIGNIN"===I?.operation}(0,I)}getRedirectResult(){var I=this;return(0,g.Z)(function*(){Jc(Ql(),I._delegate,"operation-not-supported-in-this-environment");const R=yield function yf(S,_){return as.apply(this,arguments)}(I._delegate,Ul);return R?ro(I._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(I){!function hl(S,_){Gr(S)._logFramework(_)}(this._delegate,I)}onAuthStateChanged(I,R,se){const{next:me,error:We,complete:Vt}=Bd(I,R,se);return this._delegate.onAuthStateChanged(me,We,Vt)}onIdTokenChanged(I,R,se){const{next:me,error:We,complete:Vt}=Bd(I,R,se);return this._delegate.onIdTokenChanged(me,We,Vt)}sendSignInLinkToEmail(I,R){return function Oa(S,_,I){return hs.apply(this,arguments)}(this._delegate,I,R)}sendPasswordResetEmail(I,R){return function $l(S,_,I){return Pa.apply(this,arguments)}(this._delegate,I,R||void 0)}setPersistence(I){var R=this;return(0,g.Z)(function*(){let se;switch(function bh(S,_){Da(Object.values(mc).includes(_),S,"invalid-persistence-type"),(0,H.b$)()?Da(_!==mc.SESSION,S,"unsupported-persistence-type"):(0,H.UG)()?Da(_===mc.NONE,S,"unsupported-persistence-type"):Ef()?Da(_===mc.NONE||_===mc.LOCAL&&(0,H.hl)(),S,"unsupported-persistence-type"):Da(_===mc.NONE||ni(),S,"unsupported-persistence-type")}(R._delegate,I),I){case mc.SESSION:se=bc;break;case mc.LOCAL:se=(yield vn(xa)._isAvailable())?xa:xo;break;case mc.NONE:se=pr;break;default:return Qe("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(I){return this.signInWithCredential(I)}signInAnonymously(){return ro(this._delegate,function Bs(S){return Ba.apply(this,arguments)}(this._delegate))}signInWithCredential(I){return ro(this._delegate,q(this._delegate,I))}signInWithCustomToken(I){return ro(this._delegate,function Ir(S,_){return oi.apply(this,arguments)}(this._delegate,I))}signInWithEmailAndPassword(I,R){return ro(this._delegate,function To(S,_,I){return q((0,H.m9)(S),Ss.credential(_,I))}(this._delegate,I,R))}signInWithEmailLink(I,R){return ro(this._delegate,function Zs(S,_,I){return ya.apply(this,arguments)}(this._delegate,I,R))}signInWithPhoneNumber(I,R){return Wu(this._delegate,function Oi(S,_,I){return os.apply(this,arguments)}(this._delegate,I,R))}signInWithPopup(I){var R=this;return(0,g.Z)(function*(){return Jc(Ql(),R._delegate,"operation-not-supported-in-this-environment"),ro(R._delegate,function mu(S,_,I){return yl.apply(this,arguments)}(R._delegate,I,Ul))})()}signInWithRedirect(I){var R=this;return(0,g.Z)(function*(){return Jc(Ql(),R._delegate,"operation-not-supported-in-this-environment"),yield go(R._delegate),yu(R._delegate,I,Ul)})()}updateCurrentUser(I){return this._delegate.updateCurrentUser(I)}verifyPasswordResetCode(I){return function el(S,_){return tl.apply(this,arguments)}(this._delegate,I)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return S.Persistence=mc,S})();function Bd(S,_,I){let R=S;"function"!=typeof S&&({next:R,error:_,complete:I}=S);const se=R;return{next:We=>se(We&&qa.getOrCreate(We)),error:_,complete:I}}function Jl(S,_){const I=function _d(S,_){const I=Ch();if(!I)return[];const R=ve(wh,S,_);switch(I.getItem(R)){case mc.NONE:return[pr];case mc.LOCAL:return[xa,bc];case mc.SESSION:return[bc];default:return[]}}(S,_);if(typeof self<"u"&&!I.includes(xa)&&I.push(xa),typeof window<"u")for(const R of[xo,bc])I.includes(R)||I.push(R);return I.includes(pr)||I.push(pr),I}class vp{constructor(){this.providerId="phone",this._delegate=new xl(wf(z.Z.auth()))}static credential(_,I){return xl.credential(_,I)}verifyPhoneNumber(_,I){return this._delegate.verifyPhoneNumber(_,I)}unwrap(){return this._delegate}}vp.PHONE_SIGN_IN_METHOD=xl.PHONE_SIGN_IN_METHOD,vp.PROVIDER_ID=xl.PROVIDER_ID;const wg=Ke;class wm{constructor(_,I,R=z.Z.app()){var se;wg(null===(se=R.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new or(_,I,R.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tf(S){S.INTERNAL.registerComponent(new Ue.wA("auth-compat",_=>{const I=_.getProvider("app-compat").getImmediate(),R=_.getProvider("auth");return new Dh(I,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ss,FacebookAuthProvider:Zo,GithubAuthProvider:ws,GoogleAuthProvider:Ms,OAuthProvider:qs,SAMLAuthProvider:Us,PhoneAuthProvider:vp,PhoneMultiFactorGenerator:no,RecaptchaVerifier:wm,TwitterAuthProvider:Vs,Auth:Dh,AuthCredential:lo,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),S.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},6223:(un,it,k)=>{k.d(it,{Cf:()=>Ut,EJ:()=>ki,F:()=>ji,Fj:()=>ct,JJ:()=>kr,JL:()=>ui,JU:()=>ke,Kr:()=>wo,NI:()=>qi,On:()=>Ji,Q7:()=>ws,UX:()=>Fo,Wl:()=>ye,YN:()=>is,Zs:()=>bo,_Y:()=>Io,a5:()=>Bn,cw:()=>Q,kI:()=>Qt,qQ:()=>qs,qu:()=>pa,sg:()=>Mi,u:()=>Qn,u5:()=>Qo,wV:()=>Ao});var g=k(5879),z=k(6814),H=k(2459),Ae=k(9315),Ce=k(7398);let De=(()=>{var ne;class q{constructor($,ie){this._renderer=$,this._elementRef=ie,this.onChange=Xe=>{},this.onTouched=()=>{}}setProperty($,ie){this._renderer.setProperty(this._elementRef.nativeElement,$,ie)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(g.Qsj),g.Y36(g.SBq))},ne.\u0275dir=g.lG2({type:ne}),q})(),Ue=(()=>{var ne;class q extends De{}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,features:[g.qOj]}),q})();const ke=new g.OlP("NgValueAccessor"),Oe={provide:ke,useExisting:(0,g.Gpc)(()=>ye),multi:!0};let ye=(()=>{var ne;class q extends Ue{writeValue($){this.setProperty("checked",$)}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,ie){1&$&&g.NdJ("change",function(et){return ie.onChange(et.target.checked)})("blur",function(){return ie.onTouched()})},features:[g._Bn([Oe]),g.qOj]}),q})();const Se={provide:ke,useExisting:(0,g.Gpc)(()=>ct),multi:!0},ut=new g.OlP("CompositionEventMode");let ct=(()=>{var ne;class q extends De{constructor($,ie,Xe){super($,ie),this._compositionMode=Xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const ne=(0,z.q)()?(0,z.q)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ut,8))},ne.\u0275dir=g.lG2({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ie){1&$&&g.NdJ("input",function(et){return ie._handleInput(et.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(et){return ie._compositionEnd(et.target.value)})},features:[g._Bn([Se]),g.qOj]}),q})();function wt(ne){return null==ne||("string"==typeof ne||Array.isArray(ne))&&0===ne.length}function ft(ne){return null!=ne&&"number"==typeof ne.length}const Ut=new g.OlP("NgValidators"),Ft=new g.OlP("NgAsyncValidators"),Ye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qt{static min(q){return Le(q)}static max(q){return function Qe(ne){return q=>{if(wt(q.value)||wt(ne))return null;const be=parseFloat(q.value);return!isNaN(be)&&be>ne?{max:{max:ne,actual:q.value}}:null}}(q)}static required(q){return He(q)}static requiredTrue(q){return vt(q)}static email(q){return function Pt(ne){return wt(ne.value)||Ye.test(ne.value)?null:{email:!0}}(q)}static minLength(q){return function Ge(ne){return q=>wt(q.value)||!ft(q.value)?null:q.value.length<ne?{minlength:{requiredLength:ne,actualLength:q.value.length}}:null}(q)}static maxLength(q){return function Ke(ne){return q=>ft(q.value)&&q.value.length>ne?{maxlength:{requiredLength:ne,actualLength:q.value.length}}:null}(q)}static pattern(q){return function Bt(ne){if(!ne)return Et;let q,be;return"string"==typeof ne?(be="","^"!==ne.charAt(0)&&(be+="^"),be+=ne,"$"!==ne.charAt(ne.length-1)&&(be+="$"),q=new RegExp(be)):(be=ne.toString(),q=ne),$=>{if(wt($.value))return null;const ie=$.value;return q.test(ie)?null:{pattern:{requiredPattern:be,actualValue:ie}}}}(q)}static nullValidator(q){return null}static compose(q){return ht(q)}static composeAsync(q){return rt(q)}}function Le(ne){return q=>{if(wt(q.value)||wt(ne))return null;const be=parseFloat(q.value);return!isNaN(be)&&be<ne?{min:{min:ne,actual:q.value}}:null}}function He(ne){return wt(ne.value)?{required:!0}:null}function vt(ne){return!0===ne.value?null:{required:!0}}function Et(ne){return null}function Nn(ne){return null!=ne}function yn(ne){return(0,g.QGY)(ne)?(0,H.D)(ne):ne}function er(ne){let q={};return ne.forEach(be=>{q=null!=be?{...q,...be}:q}),0===Object.keys(q).length?null:q}function rr(ne,q){return q.map(be=>be(ne))}function Sr(ne){return ne.map(q=>function Nr(ne){return!ne.validate}(q)?q:be=>q.validate(be))}function ht(ne){if(!ne)return null;const q=ne.filter(Nn);return 0==q.length?null:function(be){return er(rr(be,q))}}function Dt(ne){return null!=ne?ht(Sr(ne)):null}function rt(ne){if(!ne)return null;const q=ne.filter(Nn);return 0==q.length?null:function(be){const $=rr(be,q).map(yn);return(0,Ae.D)($).pipe((0,Ce.U)(er))}}function It(ne){return null!=ne?rt(Sr(ne)):null}function tt(ne,q){return null===ne?[q]:Array.isArray(ne)?[...ne,q]:[ne,q]}function Ee(ne){return ne._rawValidators}function Ve(ne){return ne._rawAsyncValidators}function Te(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function qe(ne,q){return Array.isArray(ne)?ne.includes(q):ne===q}function jt(ne,q){const be=Te(q);return Te(ne).forEach(ie=>{qe(be,ie)||be.push(ie)}),be}function en(ne,q){return Te(q).filter(be=>!qe(ne,be))}class hn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=Dt(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q=void 0){this.control&&this.control.reset(q)}hasError(q,be){return!!this.control&&this.control.hasError(q,be)}getError(q,be){return this.control?this.control.getError(q,be):null}}class Cn extends hn{get formDirective(){return null}get path(){return null}}class Bn extends hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr{constructor(q){this._cd=q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kr=(()=>{var ne;class q extends xr{constructor($){super($)}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(Bn,2))},ne.\u0275dir=g.lG2({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ie){2&$&&g.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[g.qOj]}),q})(),ui=(()=>{var ne;class q extends xr{constructor($){super($)}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(Cn,10))},ne.\u0275dir=g.lG2({type:ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ie){2&$&&g.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[g.qOj]}),q})();const Si="VALID",di="INVALID",$r="PENDING",Jr="DISABLED";function $t(ne){return(vn(ne)?ne.validators:ne)||null}function Gt(ne,q){return(vn(q)?q.asyncValidators:ne)||null}function vn(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}function Vn(ne,q,be){const $=ne.controls;if(!(q?Object.keys($):$).length)throw new g.vHH(1e3,"");if(!$[be])throw new g.vHH(1001,"")}function pr(ne,q,be){ne._forEachChild(($,ie)=>{if(void 0===be[ie])throw new g.vHH(1002,"")})}class ve{constructor(q,be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(q),this._assignAsyncValidators(be)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===Si}get invalid(){return this.status===di}get pending(){return this.status==$r}get disabled(){return this.status===Jr}get enabled(){return this.status!==Jr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._assignValidators(q)}setAsyncValidators(q){this._assignAsyncValidators(q)}addValidators(q){this.setValidators(jt(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(jt(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(en(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(en(q,this._rawAsyncValidators))}hasValidator(q){return qe(this._rawValidators,q)}hasAsyncValidator(q){return qe(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(be=>{be.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(be=>{be.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=$r,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const be=this._parentMarkedDirty(q.onlySelf);this.status=Jr,this.errors=null,this._forEachChild($=>{$.disable({...q,onlySelf:!0})}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...q,skipPristineCheck:be}),this._onDisabledChange.forEach($=>$(!0))}enable(q={}){const be=this._parentMarkedDirty(q.onlySelf);this.status=Si,this._forEachChild($=>{$.enable({...q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors({...q,skipPristineCheck:be}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}getRawValue(){return this.value}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Si||this.status===$r)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(be=>be._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jr:Si}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=$r,this._hasOwnPendingAsyncValidator=!0;const be=yn(this.asyncValidator(this));this._asyncValidationSubscription=be.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,be={}){this.errors=q,this._updateControlsErrors(!1!==be.emitEvent)}get(q){let be=q;return null==be||(Array.isArray(be)||(be=be.split(".")),0===be.length)?null:be.reduce(($,ie)=>$&&$._find(ie),this)}getError(q,be){const $=be?this.get(be):this;return $&&$.errors?$.errors[q]:null}hasError(q,be){return!!this.getError(q,be)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Jr:this.errors?di:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($r)?$r:this._anyControlsHaveStatus(di)?di:Si}_anyControlsHaveStatus(q){return this._anyControls(be=>be.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){vn(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(q){return null}_assignValidators(q){this._rawValidators=Array.isArray(q)?q.slice():q,this._composedValidatorFn=function Je(ne){return Array.isArray(ne)?Dt(ne):ne||null}(this._rawValidators)}_assignAsyncValidators(q){this._rawAsyncValidators=Array.isArray(q)?q.slice():q,this._composedAsyncValidatorFn=function Nt(ne){return Array.isArray(ne)?It(ne):ne||null}(this._rawAsyncValidators)}}class Q extends ve{constructor(q,be,$){super($t(be),Gt($,be)),this.controls=q,this._initObservables(),this._setUpdateStrategy(be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,be){return this.controls[q]?this.controls[q]:(this.controls[q]=be,be.setParent(this),be._registerOnCollectionChange(this._onCollectionChange),be)}addControl(q,be,$={}){this.registerControl(q,be),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(q,be={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:be.emitEvent}),this._onCollectionChange()}setControl(q,be,$={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],be&&this.registerControl(q,be),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,be={}){pr(this,0,q),Object.keys(q).forEach($=>{Vn(this,!0,$),this.controls[$].setValue(q[$],{onlySelf:!0,emitEvent:be.emitEvent})}),this.updateValueAndValidity(be)}patchValue(q,be={}){null!=q&&(Object.keys(q).forEach($=>{const ie=this.controls[$];ie&&ie.patchValue(q[$],{onlySelf:!0,emitEvent:be.emitEvent})}),this.updateValueAndValidity(be))}reset(q={},be={}){this._forEachChild(($,ie)=>{$.reset(q[ie],{onlySelf:!0,emitEvent:be.emitEvent})}),this._updatePristine(be),this._updateTouched(be),this.updateValueAndValidity(be)}getRawValue(){return this._reduceChildren({},(q,be,$)=>(q[$]=be.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(be,$)=>!!$._syncPendingControls()||be);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(be=>{const $=this.controls[be];$&&q($,be)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const[be,$]of Object.entries(this.controls))if(this.contains(be)&&q($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(be,$,ie)=>(($.enabled||this.disabled)&&(be[ie]=$.value),be))}_reduceChildren(q,be){let $=q;return this._forEachChild((ie,Xe)=>{$=be($,ie,Xe)}),$}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(q){return this.controls.hasOwnProperty(q)?this.controls[q]:null}}class de extends Q{}const St=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>tn}),tn="always";function Un(ne,q){return[...q.path,ne]}function dn(ne,q,be=tn){dt(ne,q),q.valueAccessor.writeValue(ne.value),(ne.disabled||"always"===be)&&q.valueAccessor.setDisabledState?.(ne.disabled),function Rt(ne,q){q.valueAccessor.registerOnChange(be=>{ne._pendingValue=be,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&fn(ne,q)})}(ne,q),function sn(ne,q){const be=($,ie)=>{q.valueAccessor.writeValue($),ie&&q.viewToModelUpdate($)};ne.registerOnChange(be),q._registerOnDestroy(()=>{ne._unregisterOnChange(be)})}(ne,q),function Ot(ne,q){q.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&fn(ne,q),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,q),function Yr(ne,q){if(q.valueAccessor.setDisabledState){const be=$=>{q.valueAccessor.setDisabledState($)};ne.registerOnDisabledChange(be),q._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(be)})}}(ne,q)}function Rn(ne,q,be=!0){const $=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange($),q.valueAccessor.registerOnTouched($)),ze(ne,q),ne&&(q._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function qn(ne,q){ne.forEach(be=>{be.registerOnValidatorChange&&be.registerOnValidatorChange(q)})}function dt(ne,q){const be=Ee(ne);null!==q.validator?ne.setValidators(tt(be,q.validator)):"function"==typeof be&&ne.setValidators([be]);const $=Ve(ne);null!==q.asyncValidator?ne.setAsyncValidators(tt($,q.asyncValidator)):"function"==typeof $&&ne.setAsyncValidators([$]);const ie=()=>ne.updateValueAndValidity();qn(q._rawValidators,ie),qn(q._rawAsyncValidators,ie)}function ze(ne,q){let be=!1;if(null!==ne){if(null!==q.validator){const ie=Ee(ne);if(Array.isArray(ie)&&ie.length>0){const Xe=ie.filter(et=>et!==q.validator);Xe.length!==ie.length&&(be=!0,ne.setValidators(Xe))}}if(null!==q.asyncValidator){const ie=Ve(ne);if(Array.isArray(ie)&&ie.length>0){const Xe=ie.filter(et=>et!==q.asyncValidator);Xe.length!==ie.length&&(be=!0,ne.setAsyncValidators(Xe))}}}const $=()=>{};return qn(q._rawValidators,$),qn(q._rawAsyncValidators,$),be}function fn(ne,q){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function Hn(ne,q){dt(ne,q)}function vi(ne,q){if(!ne.hasOwnProperty("model"))return!1;const be=ne.model;return!!be.isFirstChange()||!Object.is(q,be.currentValue)}function Ds(ne,q){ne._syncPendingControls(),q.forEach(be=>{const $=be.control;"submit"===$.updateOn&&$._pendingChange&&(be.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}function fr(ne,q){if(!q)return null;let be,$,ie;return Array.isArray(q),q.forEach(Xe=>{Xe.constructor===ct?be=Xe:function ao(ne){return Object.getPrototypeOf(ne.constructor)===Ue}(Xe)?$=Xe:ie=Xe}),ie||$||be||null}const rs={provide:Cn,useExisting:(0,g.Gpc)(()=>ji)},br=(()=>Promise.resolve())();let ji=(()=>{var ne;class q extends Cn{constructor($,ie,Xe){super(),this.callSetDisabledState=Xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new Q({},Dt($),It(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){br.then(()=>{const ie=this._findContainer($.path);$.control=ie.registerControl($.name,$.control),dn($.control,$,this.callSetDisabledState),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){br.then(()=>{const ie=this._findContainer($.path);ie&&ie.removeControl($.name),this._directives.delete($)})}addFormGroup($){br.then(()=>{const ie=this._findContainer($.path),Xe=new Q({});Hn(Xe,$),ie.registerControl($.name,Xe),Xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){br.then(()=>{const ie=this._findContainer($.path);ie&&ie.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,ie){br.then(()=>{this.form.get($.path).setValue(ie)})}setValue($){this.control.setValue($)}onSubmit($){return this.submitted=!0,Ds(this.form,this._directives),this.ngSubmit.emit($),"dialog"===$?.target?.method}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(Ut,10),g.Y36(Ft,10),g.Y36(St,8))},ne.\u0275dir=g.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ie){1&$&&g.NdJ("submit",function(et){return ie.onSubmit(et)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([rs]),g.qOj]}),q})();function Gr(ne,q){const be=ne.indexOf(q);be>-1&&ne.splice(be,1)}function Ki(ne){return"object"==typeof ne&&null!==ne&&2===Object.keys(ne).length&&"value"in ne&&"disabled"in ne}const qi=class extends ve{constructor(q=null,be,$){super($t(be),Gt($,be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vn(be)&&(be.nonNullable||be.initialValueIsDefault)&&(this.defaultValue=Ki(q)?q.value:q)}setValue(q,be={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==be.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==be.emitViewToModelChange)),this.updateValueAndValidity(be)}patchValue(q,be={}){this.setValue(q,be)}reset(q=this.defaultValue,be={}){this._applyFormState(q),this.markAsPristine(be),this.markAsUntouched(be),this.setValue(this.value,be),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){Gr(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){Gr(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){Ki(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}},Ko={provide:Bn,useExisting:(0,g.Gpc)(()=>Ji)},qo=(()=>Promise.resolve())();let Ji=(()=>{var ne;class q extends Bn{constructor($,ie,Xe,et,xt,bn){super(),this._changeDetectorRef=xt,this.callSetDisabledState=bn,this.control=new qi,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=$,this._setValidators(ie),this._setAsyncValidators(Xe),this.valueAccessor=fr(0,et)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const ie=$.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),vi($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){qo.then(()=>{this.control.setValue($,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled($){const ie=$.isDisabled.currentValue,Xe=0!==ie&&(0,g.VuI)(ie);qo.then(()=>{Xe&&!this.control.disabled?this.control.disable():!Xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath($){return this._parent?Un($,this._parent):[$]}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(Cn,9),g.Y36(Ut,10),g.Y36(Ft,10),g.Y36(ke,10),g.Y36(g.sBO,8),g.Y36(St,8))},ne.\u0275dir=g.lG2({type:ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Ko]),g.qOj,g.TTD]}),q})(),Io=(()=>{var ne;class q{}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275dir=g.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})();const hi={provide:ke,useExisting:(0,g.Gpc)(()=>Ao),multi:!0};let Ao=(()=>{var ne;class q extends Ue{writeValue($){this.setProperty("value",$??"")}registerOnChange($){this.onChange=ie=>{$(""==ie?null:parseFloat(ie))}}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($,ie){1&$&&g.NdJ("input",function(et){return ie.onChange(et.target.value)})("blur",function(){return ie.onTouched()})},features:[g._Bn([hi]),g.qOj]}),q})(),lt=(()=>{var ne;class q{}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275mod=g.oAB({type:ne}),ne.\u0275inj=g.cJS({}),q})();const Sn=new g.OlP("NgModelWithFormControlWarning"),dr={provide:Cn,useExisting:(0,g.Gpc)(()=>Mi)};let Mi=(()=>{var ne;class q extends Cn{constructor($,ie,Xe){super(),this.callSetDisabledState=Xe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators($),this._setAsyncValidators(ie)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const ie=this.form.get($.path);return dn(ie,$,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push($),ie}getControl($){return this.form.get($.path)}removeControl($){Rn($.control||null,$,!1),function ii(ne,q){const be=ne.indexOf(q);be>-1&&ne.splice(be,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,ie){this.form.get($.path).setValue(ie)}onSubmit($){return this.submitted=!0,Ds(this.form,this.directives),this.ngSubmit.emit($),"dialog"===$?.target?.method}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const ie=$.control,Xe=this.form.get($.path);ie!==Xe&&(Rn(ie||null,$),(ne=>ne instanceof qi)(Xe)&&(dn(Xe,$,this.callSetDisabledState),$.control=Xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const ie=this.form.get($.path);Hn(ie,$),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const ie=this.form.get($.path);ie&&function gn(ne,q){return ze(ne,q)}(ie,$)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dt(this.form,this),this._oldForm&&ze(this._oldForm,this)}_checkFormPresent(){}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(Ut,10),g.Y36(Ft,10),g.Y36(St,8))},ne.\u0275dir=g.lG2({type:ne,selectors:[["","formGroup",""]],hostBindings:function($,ie){1&$&&g.NdJ("submit",function(et){return ie.onSubmit(et)})("reset",function(){return ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([dr]),g.qOj,g.TTD]}),q})();const Mn={provide:Bn,useExisting:(0,g.Gpc)(()=>Qn)};let Qn=(()=>{var ne;class q extends Bn{set isDisabled($){}constructor($,ie,Xe,et,xt){super(),this._ngModelWarningConfig=xt,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(ie),this._setAsyncValidators(Xe),this.valueAccessor=fr(0,et)}ngOnChanges($){this._added||this._setUpControl(),vi($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return Un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(ne=q)._ngModelWarningSentOnce=!1,ne.\u0275fac=function($){return new($||ne)(g.Y36(Cn,13),g.Y36(Ut,10),g.Y36(Ft,10),g.Y36(ke,10),g.Y36(Sn,8))},ne.\u0275dir=g.lG2({type:ne,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Mn]),g.qOj,g.TTD]}),q})();const si={provide:ke,useExisting:(0,g.Gpc)(()=>ki),multi:!0};function Zn(ne,q){return null==ne?`${q}`:(q&&"object"==typeof q&&(q="Object"),`${ne}: ${q}`.slice(0,50))}let ki=(()=>{var ne;class q extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){this.value=$;const Xe=Zn(this._getOptionId($),$);this.setProperty("value",Xe)}registerOnChange($){this.onChange=ie=>{this.value=this._getOptionValue(ie),$(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId($){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie),$))return ie;return null}_getOptionValue($){const ie=function Ro(ne){return ne.split(":")[0]}($);return this._optionMap.has(ie)?this._optionMap.get(ie):$}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,ie){1&$&&g.NdJ("change",function(et){return ie.onChange(et.target.value)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([si]),g.qOj]}),q})(),is=(()=>{var ne;class q{constructor($,ie,Xe){this._element=$,this._renderer=ie,this._select=Xe,this._select&&(this.id=this._select._registerOption())}set ngValue($){null!=this._select&&(this._select._optionMap.set(this.id,$),this._setElementValue(Zn(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._setElementValue($),this._select&&this._select.writeValue(this._select.value)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(ki,9))},ne.\u0275dir=g.lG2({type:ne,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();const wi={provide:ke,useExisting:(0,g.Gpc)(()=>li),multi:!0};function ds(ne,q){return null==ne?`${q}`:("string"==typeof q&&(q=`'${q}'`),q&&"object"==typeof q&&(q="Object"),`${ne}: ${q}`.slice(0,50))}let li=(()=>{var ne;class q extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){let ie;if(this.value=$,Array.isArray($)){const Xe=$.map(et=>this._getOptionId(et));ie=(et,xt)=>{et._setSelected(Xe.indexOf(xt.toString())>-1)}}else ie=(Xe,et)=>{Xe._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange($){this.onChange=ie=>{const Xe=[],et=ie.selectedOptions;if(void 0!==et){const xt=et;for(let bn=0;bn<xt.length;bn++){const oi=this._getOptionValue(xt[bn].value);Xe.push(oi)}}else{const xt=ie.options;for(let bn=0;bn<xt.length;bn++){const Ir=xt[bn];if(Ir.selected){const oi=this._getOptionValue(Ir.value);Xe.push(oi)}}}this.value=Xe,$(Xe)}}_registerOption($){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,$),ie}_getOptionId($){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie)._value,$))return ie;return null}_getOptionValue($){const ie=function oa(ne){return ne.split(":")[0]}($);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:$}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,ie){1&$&&g.NdJ("change",function(et){return ie.onChange(et.target)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([wi]),g.qOj]}),q})(),wo=(()=>{var ne;class q{constructor($,ie,Xe){this._element=$,this._renderer=ie,this._select=Xe,this._select&&(this.id=this._select._registerOption(this))}set ngValue($){null!=this._select&&(this._value=$,this._setElementValue(ds(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._select?(this._value=$,this._setElementValue(ds(this.id,$)),this._select.writeValue(this._select.value)):this._setElementValue($)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}_setSelected($){this._renderer.setProperty(this._element.nativeElement,"selected",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(ne=q).\u0275fac=function($){return new($||ne)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(li,9))},ne.\u0275dir=g.lG2({type:ne,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();let Vr=(()=>{var ne;class q{constructor(){this._validator=Et}ngOnChanges($){if(this.inputName in $){const ie=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Et,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275dir=g.lG2({type:ne,features:[g.TTD]}),q})();const Is={provide:Ut,useExisting:(0,g.Gpc)(()=>qs),multi:!0};let qs=(()=>{var ne;class q extends Vr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>function bi(ne){return"number"==typeof ne?ne:parseFloat(ne)}($),this.createValidator=$=>Le($)}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,ie){2&$&&g.uIk("min",ie._enabled?ie.min:null)},inputs:{min:"min"},features:[g._Bn([Is]),g.qOj]}),q})();const Zo={provide:Ut,useExisting:(0,g.Gpc)(()=>ws),multi:!0},Ms={provide:Ut,useExisting:(0,g.Gpc)(()=>bo),multi:!0};let ws=(()=>{var ne;class q extends Vr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=$=>He}enabled($){return $}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ie){2&$&&g.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Zo]),g.qOj]}),q})(),bo=(()=>{var ne;class q extends ws{constructor(){super(...arguments),this.createValidator=$=>vt}}return(ne=q).\u0275fac=function(){let be;return function(ie){return(be||(be=g.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=g.lG2({type:ne,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($,ie){2&$&&g.uIk("required",ie._enabled?"":null)},features:[g._Bn([Ms]),g.qOj]}),q})(),fi=(()=>{var ne;class q{}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275mod=g.oAB({type:ne}),ne.\u0275inj=g.cJS({imports:[lt]}),q})();class Yo extends ve{constructor(q,be,$){super($t(be),Gt($,be)),this.controls=q,this._initObservables(),this._setUpdateStrategy(be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[this._adjustIndex(q)]}push(q,be={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:be.emitEvent}),this._onCollectionChange()}insert(q,be,$={}){this.controls.splice(q,0,be),this._registerControl(be),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(q,be={}){let $=this._adjustIndex(q);$<0&&($=0),this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:be.emitEvent})}setControl(q,be,$={}){let ie=this._adjustIndex(q);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),be&&(this.controls.splice(ie,0,be),this._registerControl(be)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,be={}){pr(this,0,q),q.forEach(($,ie)=>{Vn(this,!1,ie),this.at(ie).setValue($,{onlySelf:!0,emitEvent:be.emitEvent})}),this.updateValueAndValidity(be)}patchValue(q,be={}){null!=q&&(q.forEach(($,ie)=>{this.at(ie)&&this.at(ie).patchValue($,{onlySelf:!0,emitEvent:be.emitEvent})}),this.updateValueAndValidity(be))}reset(q=[],be={}){this._forEachChild(($,ie)=>{$.reset(q[ie],{onlySelf:!0,emitEvent:be.emitEvent})}),this._updatePristine(be),this._updateTouched(be),this.updateValueAndValidity(be)}getRawValue(){return this.controls.map(q=>q.getRawValue())}clear(q={}){this.controls.length<1||(this._forEachChild(be=>be._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_adjustIndex(q){return q<0?q+this.length:q}_syncPendingControls(){let q=this.controls.reduce((be,$)=>!!$._syncPendingControls()||be,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((be,$)=>{q(be,$)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(be=>be.enabled&&q(be))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}_find(q){return this.at(q)??null}}function Or(ne){return!!ne&&(void 0!==ne.asyncValidators||void 0!==ne.validators||void 0!==ne.updateOn)}let pa=(()=>{var ne;class q{constructor(){this.useNonNullable=!1}get nonNullable(){const $=new q;return $.useNonNullable=!0,$}group($,ie=null){const Xe=this._reduceControls($);let et={};return Or(ie)?et=ie:null!==ie&&(et.validators=ie.validator,et.asyncValidators=ie.asyncValidator),new Q(Xe,et)}record($,ie=null){const Xe=this._reduceControls($);return new de(Xe,ie)}control($,ie,Xe){let et={};return this.useNonNullable?(Or(ie)?et=ie:(et.validators=ie,et.asyncValidators=Xe),new qi($,{...et,nonNullable:!0})):new qi($,ie,Xe)}array($,ie,Xe){const et=$.map(xt=>this._createControl(xt));return new Yo(et,ie,Xe)}_reduceControls($){const ie={};return Object.keys($).forEach(Xe=>{ie[Xe]=this._createControl($[Xe])}),ie}_createControl($){return $ instanceof qi||$ instanceof ve?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275prov=g.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),q})(),Qo=(()=>{var ne;class q{static withConfig($){return{ngModule:q,providers:[{provide:St,useValue:$.callSetDisabledState??tn}]}}}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275mod=g.oAB({type:ne}),ne.\u0275inj=g.cJS({imports:[fi]}),q})(),Fo=(()=>{var ne;class q{static withConfig($){return{ngModule:q,providers:[{provide:Sn,useValue:$.warnOnNgModelWithFormControl??"always"},{provide:St,useValue:$.callSetDisabledState??tn}]}}}return(ne=q).\u0275fac=function($){return new($||ne)},ne.\u0275mod=g.oAB({type:ne}),ne.\u0275inj=g.cJS({imports:[fi]}),q})()},3680:(un,it,k)=>{k.d(it,{BQ:()=>Qe,Ng:()=>Jr});var g=k(5879),z=k(8413),H=k(9388),Ce=k(6814),De=k(2831),Ue=k(2495);const Le=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function Qt(){return!0}});let Qe=(()=>{var ve;class Q{constructor(pe,de,je){this._sanityChecks=de,this._document=je,this._hasDoneGlobalChecks=!1,pe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(pe){return!(0,De.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[pe])}}return(ve=Q).\u0275fac=function(pe){return new(pe||ve)(g.LFG(z.qm),g.LFG(Le,8),g.LFG(Ce.K0))},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({imports:[H.vT,H.vT]}),Q})();class Cn{constructor(Q,X,pe,de=!1){this._renderer=Q,this.element=X,this.config=pe,this._animationForciblyDisabledThroughCss=de,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Bn=(0,De.i$)({passive:!0,capture:!0});class xr{constructor(){this._events=new Map,this._delegateEventHandler=Q=>{const X=(0,De.sA)(Q);X&&this._events.get(Q.type)?.forEach((pe,de)=>{(de===X||de.contains(X))&&pe.forEach(je=>je.handleEvent(Q))})}}addHandler(Q,X,pe,de){const je=this._events.get(X);if(je){const St=je.get(pe);St?St.add(de):je.set(pe,new Set([de]))}else this._events.set(X,new Map([[pe,new Set([de])]])),Q.runOutsideAngular(()=>{document.addEventListener(X,this._delegateEventHandler,Bn)})}removeHandler(Q,X,pe){const de=this._events.get(Q);if(!de)return;const je=de.get(X);je&&(je.delete(pe),0===je.size&&de.delete(X),0===de.size&&(this._events.delete(Q),document.removeEventListener(Q,this._delegateEventHandler,Bn)))}}const Fn={enterDuration:225,exitDuration:150},kr=(0,De.i$)({passive:!0,capture:!0}),ui=["mousedown","touchstart"],Kn=["mouseup","mouseleave","touchend","touchcancel"];class hr{constructor(Q,X,pe,de){this._target=Q,this._ngZone=X,this._platform=de,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,de.isBrowser&&(this._containerElement=(0,Ue.fI)(pe))}fadeInRipple(Q,X,pe={}){const de=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),je={...Fn,...pe.animation};pe.centered&&(Q=de.left+de.width/2,X=de.top+de.height/2);const St=pe.radius||function Ei(ve,Q,X){const pe=Math.max(Math.abs(ve-X.left),Math.abs(ve-X.right)),de=Math.max(Math.abs(Q-X.top),Math.abs(Q-X.bottom));return Math.sqrt(pe*pe+de*de)}(Q,X,de),tn=Q-de.left,Un=X-de.top,dn=je.enterDuration,Rn=document.createElement("div");Rn.classList.add("mat-ripple-element"),Rn.style.left=tn-St+"px",Rn.style.top=Un-St+"px",Rn.style.height=2*St+"px",Rn.style.width=2*St+"px",null!=pe.color&&(Rn.style.backgroundColor=pe.color),Rn.style.transitionDuration=`${dn}ms`,this._containerElement.appendChild(Rn);const qn=window.getComputedStyle(Rn),dt=qn.transitionDuration,ze="none"===qn.transitionProperty||"0s"===dt||"0s, 0s"===dt||0===de.width&&0===de.height,Rt=new Cn(this,Rn,pe,ze);Rn.style.transform="scale3d(1, 1, 1)",Rt.state=0,pe.persistent||(this._mostRecentTransientRipple=Rt);let Ot=null;return!ze&&(dn||je.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const fn=()=>this._finishRippleTransition(Rt),sn=()=>this._destroyRipple(Rt);Rn.addEventListener("transitionend",fn),Rn.addEventListener("transitioncancel",sn),Ot={onTransitionEnd:fn,onTransitionCancel:sn}}),this._activeRipples.set(Rt,Ot),(ze||!dn)&&this._finishRippleTransition(Rt),Rt}fadeOutRipple(Q){if(2===Q.state||3===Q.state)return;const X=Q.element,pe={...Fn,...Q.config.animation};X.style.transitionDuration=`${pe.exitDuration}ms`,X.style.opacity="0",Q.state=2,(Q._animationForciblyDisabledThroughCss||!pe.exitDuration)&&this._finishRippleTransition(Q)}fadeOutAll(){this._getActiveRipples().forEach(Q=>Q.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Q=>{Q.config.persistent||Q.fadeOut()})}setupTriggerEvents(Q){const X=(0,Ue.fI)(Q);!this._platform.isBrowser||!X||X===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=X,ui.forEach(pe=>{hr._eventManager.addHandler(this._ngZone,pe,X,this)}))}handleEvent(Q){"mousedown"===Q.type?this._onMousedown(Q):"touchstart"===Q.type?this._onTouchStart(Q):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Kn.forEach(X=>{this._triggerElement.addEventListener(X,this,kr)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Q){0===Q.state?this._startFadeOutTransition(Q):2===Q.state&&this._destroyRipple(Q)}_startFadeOutTransition(Q){const X=Q===this._mostRecentTransientRipple,{persistent:pe}=Q.config;Q.state=1,!pe&&(!X||!this._isPointerDown)&&Q.fadeOut()}_destroyRipple(Q){const X=this._activeRipples.get(Q)??null;this._activeRipples.delete(Q),this._activeRipples.size||(this._containerRect=null),Q===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Q.state=3,null!==X&&(Q.element.removeEventListener("transitionend",X.onTransitionEnd),Q.element.removeEventListener("transitioncancel",X.onTransitionCancel)),Q.element.remove()}_onMousedown(Q){const X=(0,z.X6)(Q),pe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!X&&!pe&&(this._isPointerDown=!0,this.fadeInRipple(Q.clientX,Q.clientY,this._target.rippleConfig))}_onTouchStart(Q){if(!this._target.rippleDisabled&&!(0,z.yG)(Q)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const X=Q.changedTouches;if(X)for(let pe=0;pe<X.length;pe++)this.fadeInRipple(X[pe].clientX,X[pe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Q=>{!Q.config.persistent&&(1===Q.state||Q.config.terminateOnPointerUp&&0===Q.state)&&Q.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Q=this._triggerElement;Q&&(ui.forEach(X=>hr._eventManager.removeHandler(X,Q,this)),this._pointerUpEventsRegistered&&Kn.forEach(X=>Q.removeEventListener(X,this,kr)))}}hr._eventManager=new xr;let Wn=(()=>{var ve;class Q{}return(ve=Q).\u0275fac=function(pe){return new(pe||ve)},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({imports:[Qe,Qe]}),Q})(),Tr=(()=>{var ve;class Q{}return(ve=Q).\u0275fac=function(pe){return new(pe||ve)},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({imports:[Qe]}),Q})(),Jr=(()=>{var ve;class Q{}return(ve=Q).\u0275fac=function(pe){return new(pe||ve)},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({imports:[Wn,Ce.ez,Qe,Tr]}),Q})()},617:(un,it,k)=>{k.d(it,{Ps:()=>Dt});var g=k(5879),z=k(3680);k(6814),k(2096),k(8504),k(9315),k(9397),k(7398),k(6306),k(4716),k(3020),k(9862),k(6593);let Dt=(()=>{var rt;class It{}return(rt=It).\u0275fac=function(Ee){return new(Ee||rt)},rt.\u0275mod=g.oAB({type:rt}),rt.\u0275inj=g.cJS({imports:[z.BQ,z.BQ]}),It})()},6593:(un,it,k)=>{k.d(it,{Dx:()=>hr,H7:()=>di,b2:()=>Fn,q6:()=>hn,se:()=>Ge});var g=k(5879),z=k(6814);class H extends z.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends H{static makeCurrent(){(0,z.HT)(new Ae)}onAndCancel(X,pe,de){return X.addEventListener(pe,de),()=>{X.removeEventListener(pe,de)}}dispatchEvent(X,pe){X.dispatchEvent(pe)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,pe){return(pe=pe||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,pe){return"window"===pe?window:"document"===pe?X:"body"===pe?X.body:null}getBaseHref(X){const pe=function De(){return Ce=Ce||document.querySelector("base"),Ce?Ce.getAttribute("href"):null}();return null==pe?null:function ke(Q){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",Q);const X=Ue.pathname;return"/"===X.charAt(0)?X:`/${X}`}(pe)}resetBaseElement(){Ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,z.Mx)(document.cookie,X)}}let Ue,Ce=null,ye=(()=>{var Q;class X{build(){return new XMLHttpRequest}}return(Q=X).\u0275fac=function(de){return new(de||Q)},Q.\u0275prov=g.Yz7({token:Q,factory:Q.\u0275fac}),X})();const Se=new g.OlP("EventManagerPlugins");let Be=(()=>{var Q;class X{constructor(de,je){this._zone=je,this._eventNameToPlugin=new Map,de.forEach(St=>{St.manager=this}),this._plugins=de.slice().reverse()}addEventListener(de,je,St){return this._findPluginFor(je).addEventListener(de,je,St)}getZone(){return this._zone}_findPluginFor(de){let je=this._eventNameToPlugin.get(de);if(je)return je;if(je=this._plugins.find(tn=>tn.supports(de)),!je)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(de,je),je}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(Se),g.LFG(g.R0b))},Q.\u0275prov=g.Yz7({token:Q,factory:Q.\u0275fac}),X})();class ut{constructor(X){this._doc=X}}const ct="ng-app-id";let wt=(()=>{var Q;class X{constructor(de,je,St,tn={}){this.doc=de,this.appId=je,this.nonce=St,this.platformId=tn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,z.PM)(tn),this.resetHostNodes()}addStyles(de){for(const je of de)1===this.changeUsageCount(je,1)&&this.onStyleAdded(je)}removeStyles(de){for(const je of de)this.changeUsageCount(je,-1)<=0&&this.onStyleRemoved(je)}ngOnDestroy(){const de=this.styleNodesInDOM;de&&(de.forEach(je=>je.remove()),de.clear());for(const je of this.getAllStyles())this.onStyleRemoved(je);this.resetHostNodes()}addHost(de){this.hostNodes.add(de);for(const je of this.getAllStyles())this.addStyleToHost(de,je)}removeHost(de){this.hostNodes.delete(de)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(de){for(const je of this.hostNodes)this.addStyleToHost(je,de)}onStyleRemoved(de){const je=this.styleRef;je.get(de)?.elements?.forEach(St=>St.remove()),je.delete(de)}collectServerRenderedStyles(){const de=this.doc.head?.querySelectorAll(`style[${ct}="${this.appId}"]`);if(de?.length){const je=new Map;return de.forEach(St=>{null!=St.textContent&&je.set(St.textContent,St)}),je}return null}changeUsageCount(de,je){const St=this.styleRef;if(St.has(de)){const tn=St.get(de);return tn.usage+=je,tn.usage}return St.set(de,{usage:je,elements:[]}),je}getStyleElement(de,je){const St=this.styleNodesInDOM,tn=St?.get(je);if(tn?.parentNode===de)return St.delete(je),tn.removeAttribute(ct),tn;{const Un=this.doc.createElement("style");return this.nonce&&Un.setAttribute("nonce",this.nonce),Un.textContent=je,this.platformIsServer&&Un.setAttribute(ct,this.appId),Un}}addStyleToHost(de,je){const St=this.getStyleElement(de,je);de.appendChild(St);const tn=this.styleRef,Un=tn.get(je)?.elements;Un?Un.push(St):tn.set(je,{elements:[St],usage:1})}resetHostNodes(){const de=this.hostNodes;de.clear(),de.add(this.doc.head)}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(z.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},Q.\u0275prov=g.Yz7({token:Q,factory:Q.\u0275fac}),X})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g,Qe=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pt(Q,X){return X.map(pe=>pe.replace(Ut,Q))}let Ge=(()=>{var Q;class X{constructor(de,je,St,tn,Un,dn,Rn,qn=null){this.eventManager=de,this.sharedStylesHost=je,this.appId=St,this.removeStylesOnCompDestroy=tn,this.doc=Un,this.platformId=dn,this.ngZone=Rn,this.nonce=qn,this.rendererByCompId=new Map,this.platformIsServer=(0,z.PM)(dn),this.defaultRenderer=new Ke(de,Un,Rn,this.platformIsServer)}createRenderer(de,je){if(!de||!je)return this.defaultRenderer;this.platformIsServer&&je.encapsulation===g.ifc.ShadowDom&&(je={...je,encapsulation:g.ifc.Emulated});const St=this.getOrCreateRenderer(de,je);return St instanceof rr?St.applyToHost(de):St instanceof er&&St.applyStyles(),St}getOrCreateRenderer(de,je){const St=this.rendererByCompId;let tn=St.get(je.id);if(!tn){const Un=this.doc,dn=this.ngZone,Rn=this.eventManager,qn=this.sharedStylesHost,Yr=this.removeStylesOnCompDestroy,dt=this.platformIsServer;switch(je.encapsulation){case g.ifc.Emulated:tn=new rr(Rn,qn,je,this.appId,Yr,Un,dn,dt);break;case g.ifc.ShadowDom:return new yn(Rn,qn,de,je,Un,dn,this.nonce,dt);default:tn=new er(Rn,qn,je,Yr,Un,dn,dt)}St.set(je.id,tn)}return tn}ngOnDestroy(){this.rendererByCompId.clear()}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(Be),g.LFG(wt),g.LFG(g.AFp),g.LFG(Qe),g.LFG(z.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},Q.\u0275prov=g.Yz7({token:Q,factory:Q.\u0275fac}),X})();class Ke{constructor(X,pe,de,je){this.eventManager=X,this.doc=pe,this.ngZone=de,this.platformIsServer=je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,pe){return pe?this.doc.createElementNS(ft[pe]||pe,X):this.doc.createElement(X)}createComment(X){return this.doc.createComment(X)}createText(X){return this.doc.createTextNode(X)}appendChild(X,pe){(Nn(X)?X.content:X).appendChild(pe)}insertBefore(X,pe,de){X&&(Nn(X)?X.content:X).insertBefore(pe,de)}removeChild(X,pe){X&&X.removeChild(pe)}selectRootElement(X,pe){let de="string"==typeof X?this.doc.querySelector(X):X;if(!de)throw new g.vHH(-5104,!1);return pe||(de.textContent=""),de}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,pe,de,je){if(je){pe=je+":"+pe;const St=ft[je];St?X.setAttributeNS(St,pe,de):X.setAttribute(pe,de)}else X.setAttribute(pe,de)}removeAttribute(X,pe,de){if(de){const je=ft[de];je?X.removeAttributeNS(je,pe):X.removeAttribute(`${de}:${pe}`)}else X.removeAttribute(pe)}addClass(X,pe){X.classList.add(pe)}removeClass(X,pe){X.classList.remove(pe)}setStyle(X,pe,de,je){je&(g.JOm.DashCase|g.JOm.Important)?X.style.setProperty(pe,de,je&g.JOm.Important?"important":""):X.style[pe]=de}removeStyle(X,pe,de){de&g.JOm.DashCase?X.style.removeProperty(pe):X.style[pe]=""}setProperty(X,pe,de){X[pe]=de}setValue(X,pe){X.nodeValue=pe}listen(X,pe,de){if("string"==typeof X&&!(X=(0,z.q)().getGlobalEventTarget(this.doc,X)))throw new Error(`Unsupported event target ${X} for event ${pe}`);return this.eventManager.addEventListener(X,pe,this.decoratePreventDefault(de))}decoratePreventDefault(X){return pe=>{if("__ngUnwrap__"===pe)return X;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>X(pe)):X(pe))&&pe.preventDefault()}}}function Nn(Q){return"TEMPLATE"===Q.tagName&&void 0!==Q.content}class yn extends Ke{constructor(X,pe,de,je,St,tn,Un,dn){super(X,St,tn,dn),this.sharedStylesHost=pe,this.hostEl=de,this.shadowRoot=de.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rn=Pt(je.id,je.styles);for(const qn of Rn){const Yr=document.createElement("style");Un&&Yr.setAttribute("nonce",Un),Yr.textContent=qn,this.shadowRoot.appendChild(Yr)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,pe){return super.appendChild(this.nodeOrShadowRoot(X),pe)}insertBefore(X,pe,de){return super.insertBefore(this.nodeOrShadowRoot(X),pe,de)}removeChild(X,pe){return super.removeChild(this.nodeOrShadowRoot(X),pe)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class er extends Ke{constructor(X,pe,de,je,St,tn,Un,dn){super(X,St,tn,Un),this.sharedStylesHost=pe,this.removeStylesOnCompDestroy=je,this.styles=dn?Pt(dn,de.styles):de.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rr extends er{constructor(X,pe,de,je,St,tn,Un,dn){const Rn=je+"-"+de.id;super(X,pe,de,St,tn,Un,dn,Rn),this.contentAttr=function He(Q){return"_ngcontent-%COMP%".replace(Ut,Q)}(Rn),this.hostAttr=function vt(Q){return"_nghost-%COMP%".replace(Ut,Q)}(Rn)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,pe){const de=super.createElement(X,pe);return super.setAttribute(de,this.contentAttr,""),de}}let Nr=(()=>{var Q;class X extends ut{constructor(de){super(de)}supports(de){return!0}addEventListener(de,je,St){return de.addEventListener(je,St,!1),()=>this.removeEventListener(de,je,St)}removeEventListener(de,je,St){return de.removeEventListener(je,St)}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(z.K0))},Q.\u0275prov=g.Yz7({token:Q,factory:Q.\u0275fac}),X})();const Sr=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={alt:Q=>Q.altKey,control:Q=>Q.ctrlKey,meta:Q=>Q.metaKey,shift:Q=>Q.shiftKey};let rt=(()=>{var Q;class X extends ut{constructor(de){super(de)}supports(de){return null!=X.parseEventName(de)}addEventListener(de,je,St){const tn=X.parseEventName(je),Un=X.eventCallback(tn.fullKey,St,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,z.q)().onAndCancel(de,tn.domEventName,Un))}static parseEventName(de){const je=de.toLowerCase().split("."),St=je.shift();if(0===je.length||"keydown"!==St&&"keyup"!==St)return null;const tn=X._normalizeKey(je.pop());let Un="",dn=je.indexOf("code");if(dn>-1&&(je.splice(dn,1),Un="code."),Sr.forEach(qn=>{const Yr=je.indexOf(qn);Yr>-1&&(je.splice(Yr,1),Un+=qn+".")}),Un+=tn,0!=je.length||0===tn.length)return null;const Rn={};return Rn.domEventName=St,Rn.fullKey=Un,Rn}static matchEventFullKeyCode(de,je){let St=ht[de.key]||de.key,tn="";return je.indexOf("code.")>-1&&(St=de.code,tn="code."),!(null==St||!St)&&(St=St.toLowerCase()," "===St?St="space":"."===St&&(St="dot"),Sr.forEach(Un=>{Un!==St&&(0,Dt[Un])(de)&&(tn+=Un+".")}),tn+=St,tn===je)}static eventCallback(de,je,St){return tn=>{X.matchEventFullKeyCode(tn,de)&&St.runGuarded(()=>je(tn))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(z.K0))},Q.\u0275prov=g.Yz7({token:Q,factory:Q.\u0275fac}),X})();const hn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:z.bD},{provide:g.g9A,useValue:function Te(){Ae.makeCurrent()},multi:!0},{provide:z.K0,useFactory:function jt(){return(0,g.RDi)(document),document},deps:[]}]),Cn=new g.OlP(""),Bn=[{provide:g.rWj,useClass:class Oe{addToWindow(X){g.dqk.getAngularTestability=(de,je=!0)=>{const St=X.findTestabilityInTree(de,je);if(null==St)throw new g.vHH(5103,!1);return St},g.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(de=>{const je=g.dqk.getAllAngularTestabilities();let St=je.length,tn=!1;const Un=function(dn){tn=tn||dn,St--,0==St&&de(tn)};je.forEach(dn=>{dn.whenStable(Un)})})}findTestabilityInTree(X,pe,de){return null==pe?null:X.getTestability(pe)??(de?(0,z.q)().isShadowRoot(pe)?this.findTestabilityInTree(X,pe.host,!0):this.findTestabilityInTree(X,pe.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],xr=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function qe(){return new g.qLn},deps:[]},{provide:Se,useClass:Nr,multi:!0,deps:[z.K0,g.R0b,g.Lbi]},{provide:Se,useClass:rt,multi:!0,deps:[z.K0]},Ge,wt,Be,{provide:g.FYo,useExisting:Ge},{provide:z.JF,useClass:ye,deps:[]},[]];let Fn=(()=>{var Q;class X{constructor(de){}static withServerTransition(de){return{ngModule:X,providers:[{provide:g.AFp,useValue:de.appId}]}}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(Cn,12))},Q.\u0275mod=g.oAB({type:Q}),Q.\u0275inj=g.cJS({providers:[...xr,...Bn],imports:[z.ez,g.hGG]}),X})(),hr=(()=>{var Q;class X{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(z.K0))},Q.\u0275prov=g.Yz7({token:Q,factory:function(de){let je=null;return je=de?new de:function Kn(){return new hr((0,g.LFG)(z.K0))}(),je},providedIn:"root"}),X})();typeof window<"u"&&window;let di=(()=>{var Q;class X{}return(Q=X).\u0275fac=function(de){return new(de||Q)},Q.\u0275prov=g.Yz7({token:Q,factory:function(de){let je=null;return je=de?new(de||Q):g.LFG(Jr),je},providedIn:"root"}),X})(),Jr=(()=>{var Q;class X extends di{constructor(de){super(),this._doc=de}sanitize(de,je){if(null==je)return null;switch(de){case g.q3G.NONE:return je;case g.q3G.HTML:return(0,g.qzn)(je,"HTML")?(0,g.z3N)(je):(0,g.EiD)(this._doc,String(je)).toString();case g.q3G.STYLE:return(0,g.qzn)(je,"Style")?(0,g.z3N)(je):je;case g.q3G.SCRIPT:if((0,g.qzn)(je,"Script"))return(0,g.z3N)(je);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(je,"URL")?(0,g.z3N)(je):(0,g.mCW)(String(je));case g.q3G.RESOURCE_URL:if((0,g.qzn)(je,"ResourceURL"))return(0,g.z3N)(je);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(de){return(0,g.JVY)(de)}bypassSecurityTrustStyle(de){return(0,g.L6k)(de)}bypassSecurityTrustScript(de){return(0,g.eBb)(de)}bypassSecurityTrustUrl(de){return(0,g.LAX)(de)}bypassSecurityTrustResourceUrl(de){return(0,g.pB0)(de)}}return(Q=X).\u0275fac=function(de){return new(de||Q)(g.LFG(z.K0))},Q.\u0275prov=g.Yz7({token:Q,factory:function(de){let je=null;return je=de?new de:function $r(Q){return new Jr(Q.get(z.K0))}(g.LFG(g.zs3)),je},providedIn:"root"}),X})()},1662:(un,it,k)=>{k.d(it,{gz:()=>Mi,F0:()=>Ui,rH:()=>Pi,Od:()=>Hs,Bz:()=>No,lC:()=>Zn});var g=k(5879),z=k(5592),H=k(4674),Ce=k(2459),De=k(2096),Ue=k(5619),ke=k(2572),Oe=k(6973),ye=k(5211),Se=k(4911),Be=k(8407),ut=k(8504),ct=k(6232),wt=k(3168),ft=k(8645),Ut=k(7394),Ft=k(6814),Ye=k(7398),Qt=k(4664),Le=k(8180),Qe=k(7921),He=k(2181),vt=k(1631),Pt=k(1374),Ge=k(6328),Ke=k(9397),Bt=k(6306),Et=k(6699),Nn=k(3572),yn=k(9360),er=k(8251);function rr(O){return O<=0?()=>ct.E:(0,yn.e)((B,W)=>{let L=[];B.subscribe((0,er.x)(W,ee=>{L.push(ee),O<L.length&&L.shift()},()=>{for(const ee of L)W.next(ee);W.complete()},void 0,()=>{L=null}))})}var Nr=k(3026),Sr=k(2737),Dt=k(975),rt=k(4716),It=k(6196),tt=k(9773),Ee=k(7537),Ve=k(6593);const Te="primary",qe=Symbol("RouteTitle");class jt{constructor(B){this.params=B||{}}has(B){return Object.prototype.hasOwnProperty.call(this.params,B)}get(B){if(this.has(B)){const W=this.params[B];return Array.isArray(W)?W[0]:W}return null}getAll(B){if(this.has(B)){const W=this.params[B];return Array.isArray(W)?W:[W]}return[]}get keys(){return Object.keys(this.params)}}function en(O){return new jt(O)}function hn(O,B,W){const L=W.path.split("/");if(L.length>O.length||"full"===W.pathMatch&&(B.hasChildren()||L.length<O.length))return null;const ee={};for(let _e=0;_e<L.length;_e++){const Re=L[_e],gt=O[_e];if(Re.startsWith(":"))ee[Re.substring(1)]=gt;else if(Re!==gt.path)return null}return{consumed:O.slice(0,L.length),posParams:ee}}function Bn(O,B){const W=O?Object.keys(O):void 0,L=B?Object.keys(B):void 0;if(!W||!L||W.length!=L.length)return!1;let ee;for(let _e=0;_e<W.length;_e++)if(ee=W[_e],!xr(O[ee],B[ee]))return!1;return!0}function xr(O,B){if(Array.isArray(O)&&Array.isArray(B)){if(O.length!==B.length)return!1;const W=[...O].sort(),L=[...B].sort();return W.every((ee,_e)=>L[_e]===ee)}return O===B}function Fn(O){return O.length>0?O[O.length-1]:null}function Er(O){return function Ae(O){return!!O&&(O instanceof z.y||(0,H.m)(O.lift)&&(0,H.m)(O.subscribe))}(O)?O:(0,g.QGY)(O)?(0,Ce.D)(Promise.resolve(O)):(0,De.of)(O)}const kr={exact:function Ei(O,B,W){if(!Lr(O.segments,B.segments)||!Gn(O.segments,B.segments,W)||O.numberOfChildren!==B.numberOfChildren)return!1;for(const L in B.children)if(!O.children[L]||!Ei(O.children[L],B.children[L],W))return!1;return!0},subset:kn},ui={exact:function hr(O,B){return Bn(O,B)},subset:function yi(O,B){return Object.keys(B).length<=Object.keys(O).length&&Object.keys(B).every(W=>xr(O[W],B[W]))},ignored:()=>!0};function Kn(O,B,W){return kr[W.paths](O.root,B.root,W.matrixParams)&&ui[W.queryParams](O.queryParams,B.queryParams)&&!("exact"===W.fragment&&O.fragment!==B.fragment)}function kn(O,B,W){return Wn(O,B,B.segments,W)}function Wn(O,B,W,L){if(O.segments.length>W.length){const ee=O.segments.slice(0,W.length);return!(!Lr(ee,W)||B.hasChildren()||!Gn(ee,W,L))}if(O.segments.length===W.length){if(!Lr(O.segments,W)||!Gn(O.segments,W,L))return!1;for(const ee in B.children)if(!O.children[ee]||!kn(O.children[ee],B.children[ee],L))return!1;return!0}{const ee=W.slice(0,O.segments.length),_e=W.slice(O.segments.length);return!!(Lr(O.segments,ee)&&Gn(O.segments,ee,L)&&O.children[Te])&&Wn(O.children[Te],B,_e,L)}}function Gn(O,B,W){return B.every((L,ee)=>ui[W](O[ee].parameters,L.parameters))}class Tr{constructor(B=new ir([],{}),W={},L=null){this.root=B,this.queryParams=W,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return yr.serialize(this)}}class ir{constructor(B,W){this.segments=B,this.children=W,this.parent=null,Object.values(W).forEach(L=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nr(this)}}class ai{constructor(B,W){this.path=B,this.parameters=W}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return Nt(this)}}function Lr(O,B){return O.length===B.length&&O.every((W,L)=>W.path===B[L].path)}let ur=(()=>{var O;class B{}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:function(){return new Qr},providedIn:"root"}),B})();class Qr{parse(B){const W=new tn(B);return new Tr(W.parseRootSegment(),W.parseQueryParams(),W.parseFragment())}serialize(B){const W=`/${Si(B.root,!0)}`,L=function Vn(O){const B=Object.keys(O).map(W=>{const L=O[W];return Array.isArray(L)?L.map(ee=>`${$r(W)}=${$r(ee)}`).join("&"):`${$r(W)}=${$r(L)}`}).filter(W=>!!W);return B.length?`?${B.join("&")}`:""}(B.queryParams);return`${W}${L}${"string"==typeof B.fragment?`#${function Jr(O){return encodeURI(O)}(B.fragment)}`:""}`}}const yr=new Qr;function nr(O){return O.segments.map(B=>Nt(B)).join("/")}function Si(O,B){if(!O.hasChildren())return nr(O);if(B){const W=O.children[Te]?Si(O.children[Te],!1):"",L=[];return Object.entries(O.children).forEach(([ee,_e])=>{ee!==Te&&L.push(`${ee}:${Si(_e,!1)}`)}),L.length>0?`${W}(${L.join("//")})`:W}{const W=function qt(O,B){let W=[];return Object.entries(O.children).forEach(([L,ee])=>{L===Te&&(W=W.concat(B(ee,L)))}),Object.entries(O.children).forEach(([L,ee])=>{L!==Te&&(W=W.concat(B(ee,L)))}),W}(O,(L,ee)=>ee===Te?[Si(O.children[Te],!1)]:[`${ee}:${Si(L,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[Te]?`${nr(O)}/${W[0]}`:`${nr(O)}/(${W.join("//")})`}}function di(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $r(O){return di(O).replace(/%3B/gi,";")}function $t(O){return di(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(O){return decodeURIComponent(O)}function Gt(O){return Je(O.replace(/\+/g,"%20"))}function Nt(O){return`${$t(O.path)}${function vn(O){return Object.keys(O).map(B=>`;${$t(B)}=${$t(O[B])}`).join("")}(O.parameters)}`}const pr=/^[^\/()?;#]+/;function ve(O){const B=O.match(pr);return B?B[0]:""}const Q=/^[^\/()?;=#]+/,pe=/^[^=?&#]+/,je=/^[^&#]+/;class tn{constructor(B){this.url=B,this.remaining=B}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ir([],{}):new ir([],this.parseChildren())}parseQueryParams(){const B={};if(this.consumeOptional("?"))do{this.parseQueryParam(B)}while(this.consumeOptional("&"));return B}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const B=[];for(this.peekStartsWith("(")||B.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),B.push(this.parseSegment());let W={};this.peekStartsWith("/(")&&(this.capture("/"),W=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(B.length>0||Object.keys(W).length>0)&&(L[Te]=new ir(B,W)),L}parseSegment(){const B=ve(this.remaining);if(""===B&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(B),new ai(Je(B),this.parseMatrixParams())}parseMatrixParams(){const B={};for(;this.consumeOptional(";");)this.parseParam(B);return B}parseParam(B){const W=function X(O){const B=O.match(Q);return B?B[0]:""}(this.remaining);if(!W)return;this.capture(W);let L="";if(this.consumeOptional("=")){const ee=ve(this.remaining);ee&&(L=ee,this.capture(L))}B[Je(W)]=Je(L)}parseQueryParam(B){const W=function de(O){const B=O.match(pe);return B?B[0]:""}(this.remaining);if(!W)return;this.capture(W);let L="";if(this.consumeOptional("=")){const Re=function St(O){const B=O.match(je);return B?B[0]:""}(this.remaining);Re&&(L=Re,this.capture(L))}const ee=Gt(W),_e=Gt(L);if(B.hasOwnProperty(ee)){let Re=B[ee];Array.isArray(Re)||(Re=[Re],B[ee]=Re),Re.push(_e)}else B[ee]=_e}parseParens(B){const W={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=ve(this.remaining),ee=this.remaining[L.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new g.vHH(4010,!1);let _e;L.indexOf(":")>-1?(_e=L.slice(0,L.indexOf(":")),this.capture(_e),this.capture(":")):B&&(_e=Te);const Re=this.parseChildren();W[_e]=1===Object.keys(Re).length?Re[Te]:new ir([],Re),this.consumeOptional("//")}return W}peekStartsWith(B){return this.remaining.startsWith(B)}consumeOptional(B){return!!this.peekStartsWith(B)&&(this.remaining=this.remaining.substring(B.length),!0)}capture(B){if(!this.consumeOptional(B))throw new g.vHH(4011,!1)}}function Un(O){return O.segments.length>0?new ir([],{[Te]:O}):O}function dn(O){const B={};for(const L of Object.keys(O.children)){const _e=dn(O.children[L]);if(L===Te&&0===_e.segments.length&&_e.hasChildren())for(const[Re,gt]of Object.entries(_e.children))B[Re]=gt;else(_e.segments.length>0||_e.hasChildren())&&(B[L]=_e)}return function Rn(O){if(1===O.numberOfChildren&&O.children[Te]){const B=O.children[Te];return new ir(O.segments.concat(B.segments),B.children)}return O}(new ir(O.segments,B))}function qn(O){return O instanceof Tr}function dt(O){let B;const ee=Un(function W(_e){const Re={};for(const In of _e.children){const Xt=W(In);Re[In.outlet]=Xt}const gt=new ir(_e.url,Re);return _e===O&&(B=gt),gt}(O.root));return B??ee}function ze(O,B,W,L){let ee=O;for(;ee.parent;)ee=ee.parent;if(0===B.length)return fn(ee,ee,ee,W,L);const _e=function gn(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new Hn(!0,0,O);let B=0,W=!1;const L=O.reduce((ee,_e,Re)=>{if("object"==typeof _e&&null!=_e){if(_e.outlets){const gt={};return Object.entries(_e.outlets).forEach(([In,Xt])=>{gt[In]="string"==typeof Xt?Xt.split("/"):Xt}),[...ee,{outlets:gt}]}if(_e.segmentPath)return[...ee,_e.segmentPath]}return"string"!=typeof _e?[...ee,_e]:0===Re?(_e.split("/").forEach((gt,In)=>{0==In&&"."===gt||(0==In&&""===gt?W=!0:".."===gt?B++:""!=gt&&ee.push(gt))}),ee):[...ee,_e]},[]);return new Hn(W,B,L)}(B);if(_e.toRoot())return fn(ee,ee,new ir([],{}),W,L);const Re=function Rr(O,B,W){if(O.isAbsolute)return new Pr(B,!0,0);if(!W)return new Pr(B,!1,NaN);if(null===W.parent)return new Pr(W,!0,0);const L=Rt(O.commands[0])?0:1;return function Ai(O,B,W){let L=O,ee=B,_e=W;for(;_e>ee;){if(_e-=ee,L=L.parent,!L)throw new g.vHH(4005,!1);ee=L.segments.length}return new Pr(L,!1,ee-_e)}(W,W.segments.length-1+L,O.numberOfDoubleDots)}(_e,ee,O),gt=Re.processChildren?vi(Re.segmentGroup,Re.index,_e.commands):Kr(Re.segmentGroup,Re.index,_e.commands);return fn(ee,Re.segmentGroup,gt,W,L)}function Rt(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function Ot(O){return"object"==typeof O&&null!=O&&O.outlets}function fn(O,B,W,L,ee){let Re,_e={};L&&Object.entries(L).forEach(([In,Xt])=>{_e[In]=Array.isArray(Xt)?Xt.map(or=>`${or}`):`${Xt}`}),Re=O===B?W:sn(O,B,W);const gt=Un(dn(Re));return new Tr(gt,_e,ee)}function sn(O,B,W){const L={};return Object.entries(O.children).forEach(([ee,_e])=>{L[ee]=_e===B?W:sn(_e,B,W)}),new ir(O.segments,L)}class Hn{constructor(B,W,L){if(this.isAbsolute=B,this.numberOfDoubleDots=W,this.commands=L,B&&L.length>0&&Rt(L[0]))throw new g.vHH(4003,!1);const ee=L.find(Ot);if(ee&&ee!==Fn(L))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pr{constructor(B,W,L){this.segmentGroup=B,this.processChildren=W,this.index=L}}function Kr(O,B,W){if(O||(O=new ir([],{})),0===O.segments.length&&O.hasChildren())return vi(O,B,W);const L=function ao(O,B,W){let L=0,ee=B;const _e={match:!1,pathIndex:0,commandIndex:0};for(;ee<O.segments.length;){if(L>=W.length)return _e;const Re=O.segments[ee],gt=W[L];if(Ot(gt))break;const In=`${gt}`,Xt=L<W.length-1?W[L+1]:null;if(ee>0&&void 0===In)break;if(In&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!Ri(In,Xt,Re))return _e;L+=2}else{if(!Ri(In,{},Re))return _e;L++}ee++}return{match:!0,pathIndex:ee,commandIndex:L}}(O,B,W),ee=W.slice(L.commandIndex);if(L.match&&L.pathIndex<O.segments.length){const _e=new ir(O.segments.slice(0,L.pathIndex),{});return _e.children[Te]=new ir(O.segments.slice(L.pathIndex),O.children),vi(_e,0,ee)}return L.match&&0===ee.length?new ir(O.segments,{}):L.match&&!O.hasChildren()?Ds(O,B,W):L.match?vi(O,0,ee):Ds(O,B,W)}function vi(O,B,W){if(0===W.length)return new ir(O.segments,{});{const L=function ks(O){return Ot(O[0])?O[0].outlets:{[Te]:O}}(W),ee={};if(Object.keys(L).some(_e=>_e!==Te)&&O.children[Te]&&1===O.numberOfChildren&&0===O.children[Te].segments.length){const _e=vi(O.children[Te],B,W);return new ir(O.segments,_e.children)}return Object.entries(L).forEach(([_e,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(ee[_e]=Kr(O.children[_e],B,Re))}),Object.entries(O.children).forEach(([_e,Re])=>{void 0===L[_e]&&(ee[_e]=Re)}),new ir(O.segments,ee)}}function Ds(O,B,W){const L=O.segments.slice(0,B);let ee=0;for(;ee<W.length;){const _e=W[ee];if(Ot(_e)){const In=fr(_e.outlets);return new ir(L,In)}if(0===ee&&Rt(W[0])){L.push(new ai(O.segments[B].path,ii(W[0]))),ee++;continue}const Re=Ot(_e)?_e.outlets[Te]:`${_e}`,gt=ee<W.length-1?W[ee+1]:null;Re&&gt&&Rt(gt)?(L.push(new ai(Re,ii(gt))),ee+=2):(L.push(new ai(Re,{})),ee++)}return new ir(L,{})}function fr(O){const B={};return Object.entries(O).forEach(([W,L])=>{"string"==typeof L&&(L=[L]),null!==L&&(B[W]=Ds(new ir([],{}),0,L))}),B}function ii(O){const B={};return Object.entries(O).forEach(([W,L])=>B[W]=`${L}`),B}function Ri(O,B,W){return O==W.path&&Bn(B,W.parameters)}const rs="imperative";class br{constructor(B,W){this.id=B,this.url=W}}class ji extends br{constructor(B,W,L="imperative",ee=null){super(B,W),this.type=0,this.navigationTrigger=L,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends br{constructor(B,W,L){super(B,W),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ki extends br{constructor(B,W,L,ee){super(B,W),this.reason=L,this.code=ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qi extends br{constructor(B,W,L,ee){super(B,W),this.reason=L,this.code=ee,this.type=16}}class Ls extends br{constructor(B,W,L,ee){super(B,W),this.error=L,this.target=ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zi extends br{constructor(B,W,L,ee){super(B,W),this.urlAfterRedirects=L,this.state=ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends br{constructor(B,W,L,ee){super(B,W),this.urlAfterRedirects=L,this.state=ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eo extends br{constructor(B,W,L,ee,_e){super(B,W),this.urlAfterRedirects=L,this.state=ee,this.shouldActivate=_e,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wo extends br{constructor(B,W,L,ee){super(B,W),this.urlAfterRedirects=L,this.state=ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xa extends br{constructor(B,W,L,ee){super(B,W),this.urlAfterRedirects=L,this.state=ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(B){this.route=B,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fa{constructor(B){this.route=B,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hi{constructor(B){this.snapshot=B,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(B){this.snapshot=B,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(B){this.snapshot=B,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(B){this.snapshot=B,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(B,W,L){this.routerEvent=B,this.position=W,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hi{}class Ao{constructor(B){this.url=B}}class Fi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lt,this.attachRef=null}}let lt=(()=>{var O;class B{constructor(){this.contexts=new Map}onChildOutletCreated(L,ee){const _e=this.getOrCreateContext(L);_e.outlet=ee,this.contexts.set(L,_e)}onChildOutletDestroyed(L){const ee=this.getContext(L);ee&&(ee.outlet=null,ee.attachRef=null)}onOutletDeactivated(){const L=this.contexts;return this.contexts=new Map,L}onOutletReAttached(L){this.contexts=L}getOrCreateContext(L){let ee=this.getContext(L);return ee||(ee=new Fi,this.contexts.set(L,ee)),ee}getContext(L){return this.contexts.get(L)||null}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();class ot{constructor(B){this._root=B}get root(){return this._root.value}parent(B){const W=this.pathFromRoot(B);return W.length>1?W[W.length-2]:null}children(B){const W=bt(B,this._root);return W?W.children.map(L=>L.value):[]}firstChild(B){const W=bt(B,this._root);return W&&W.children.length>0?W.children[0].value:null}siblings(B){const W=Zt(B,this._root);return W.length<2?[]:W[W.length-2].children.map(ee=>ee.value).filter(ee=>ee!==B)}pathFromRoot(B){return Zt(B,this._root).map(W=>W.value)}}function bt(O,B){if(O===B.value)return B;for(const W of B.children){const L=bt(O,W);if(L)return L}return null}function Zt(O,B){if(O===B.value)return[B];for(const W of B.children){const L=Zt(O,W);if(L.length)return L.unshift(B),L}return[]}class Wt{constructor(B,W){this.value=B,this.children=W}toString(){return`TreeNode(${this.value})`}}function Sn(O){const B={};return O&&O.children.forEach(W=>B[W.value.outlet]=W),B}class lr extends ot{constructor(B,W){super(B),this.snapshot=W,Xr(this,B)}toString(){return this.snapshot.toString()}}function vr(O,B){const W=function dr(O,B){const Re=new vs([],{},{},"",{},Te,B,null,{});return new Es("",new Wt(Re,[]))}(0,B),L=new Ue.X([new ai("",{})]),ee=new Ue.X({}),_e=new Ue.X({}),Re=new Ue.X({}),gt=new Ue.X(""),In=new Mi(L,ee,Re,gt,_e,Te,B,W.root);return In.snapshot=W.root,new lr(new Wt(In,[]),W)}class Mi{constructor(B,W,L,ee,_e,Re,gt,In){this.urlSubject=B,this.paramsSubject=W,this.queryParamsSubject=L,this.fragmentSubject=ee,this.dataSubject=_e,this.outlet=Re,this.component=gt,this._futureSnapshot=In,this.title=this.dataSubject?.pipe((0,Ye.U)(Xt=>Xt[qe]))??(0,De.of)(void 0),this.url=B,this.params=W,this.queryParams=L,this.fragment=ee,this.data=_e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(B=>en(B)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(B=>en(B)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function co(O,B="emptyOnly"){const W=O.pathFromRoot;let L=0;if("always"!==B)for(L=W.length-1;L>=1;){const ee=W[L],_e=W[L-1];if(ee.routeConfig&&""===ee.routeConfig.path)L--;else{if(_e.component)break;L--}}return function Ii(O){return O.reduce((B,W)=>({params:{...B.params,...W.params},data:{...B.data,...W.data},resolve:{...W.data,...B.resolve,...W.routeConfig?.data,...W._resolvedData}}),{params:{},data:{},resolve:{}})}(W.slice(L))}class vs{get title(){return this.data?.[qe]}constructor(B,W,L,ee,_e,Re,gt,In,Xt){this.url=B,this.params=W,this.queryParams=L,this.fragment=ee,this.data=_e,this.outlet=Re,this.component=gt,this.routeConfig=In,this._resolve=Xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Es extends ot{constructor(B,W){super(W),this.url=B,Xr(this,W)}toString(){return Mn(this._root)}}function Xr(O,B){B.value._routerState=O,B.children.forEach(W=>Xr(O,W))}function Mn(O){const B=O.children.length>0?` { ${O.children.map(Mn).join(", ")} } `:"";return`${O.value}${B}`}function Qn(O){if(O.snapshot){const B=O.snapshot,W=O._futureSnapshot;O.snapshot=W,Bn(B.queryParams,W.queryParams)||O.queryParamsSubject.next(W.queryParams),B.fragment!==W.fragment&&O.fragmentSubject.next(W.fragment),Bn(B.params,W.params)||O.paramsSubject.next(W.params),function Cn(O,B){if(O.length!==B.length)return!1;for(let W=0;W<O.length;++W)if(!Bn(O[W],B[W]))return!1;return!0}(B.url,W.url)||O.urlSubject.next(W.url),Bn(B.data,W.data)||O.dataSubject.next(W.data)}else O.snapshot=O._futureSnapshot,O.dataSubject.next(O._futureSnapshot.data)}function si(O,B){const W=Bn(O.params,B.params)&&function Ar(O,B){return Lr(O,B)&&O.every((W,L)=>Bn(W.parameters,B[L].parameters))}(O.url,B.url);return W&&!(!O.parent!=!B.parent)&&(!O.parent||si(O.parent,B.parent))}let Zn=(()=>{var O;class B{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(lt),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(ki,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(L){if(L.name){const{firstChange:ee,previousValue:_e}=L.name;if(ee)return;this.isTrackedInParentContexts(_e)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(_e)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(L){return this.parentContexts.getContext(L)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const L=this.parentContexts.getContext(this.name);L?.route&&(L.attachRef?this.attach(L.attachRef,L.route):this.activateWith(L.route,L.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const L=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(L.instance),L}attach(L,ee){this.activated=L,this._activatedRoute=ee,this.location.insert(L.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(L.instance)}deactivate(){if(this.activated){const L=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(L)}}activateWith(L,ee){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=L;const _e=this.location,gt=L.snapshot.component,In=this.parentContexts.getOrCreateContext(this.name).children,Xt=new Ro(L,In,_e.injector);this.activated=_e.createComponent(gt,{index:_e.length,injector:Xt,environmentInjector:ee??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275dir=g.lG2({type:O,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),B})();class Ro{constructor(B,W,L){this.route=B,this.childContexts=W,this.parent=L}get(B,W){return B===Mi?this.route:B===lt?this.childContexts:this.parent.get(B,W)}}const ki=new g.OlP("");let is=(()=>{var O;class B{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(L){this.unsubscribeFromRouteData(L),this.subscribeToRouteData(L)}unsubscribeFromRouteData(L){this.outletDataSubscriptions.get(L)?.unsubscribe(),this.outletDataSubscriptions.delete(L)}subscribeToRouteData(L){const{activatedRoute:ee}=L,_e=(0,ke.a)([ee.queryParams,ee.params,ee.data]).pipe((0,Qt.w)(([Re,gt,In],Xt)=>(In={...Re,...gt,...In},0===Xt?(0,De.of)(In):Promise.resolve(In)))).subscribe(Re=>{if(!L.isActivated||!L.activatedComponentRef||L.activatedRoute!==ee||null===ee.component)return void this.unsubscribeFromRouteData(L);const gt=(0,g.qFp)(ee.component);if(gt)for(const{templateName:In}of gt.inputs)L.activatedComponentRef.setInput(In,Re[In]);else this.unsubscribeFromRouteData(L)});this.outletDataSubscriptions.set(L,_e)}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),B})();function ds(O,B,W){if(W&&O.shouldReuseRoute(B.value,W.value.snapshot)){const L=W.value;L._futureSnapshot=B.value;const ee=function oa(O,B,W){return B.children.map(L=>{for(const ee of W.children)if(O.shouldReuseRoute(L.value,ee.value.snapshot))return ds(O,L,ee);return ds(O,L)})}(O,B,W);return new Wt(L,ee)}{if(O.shouldAttach(B.value)){const _e=O.retrieve(B.value);if(null!==_e){const Re=_e.route;return Re.value._futureSnapshot=B.value,Re.children=B.children.map(gt=>ds(O,gt)),Re}}const L=function sr(O){return new Mi(new Ue.X(O.url),new Ue.X(O.params),new Ue.X(O.queryParams),new Ue.X(O.fragment),new Ue.X(O.data),O.outlet,O.component,O)}(B.value),ee=B.children.map(_e=>ds(O,_e));return new Wt(L,ee)}}const li="ngNavigationCancelingError";function wo(O,B){const{redirectTo:W,navigationBehaviorOptions:L}=qn(B)?{redirectTo:B,navigationBehaviorOptions:void 0}:B,ee=uo(!1,0,B);return ee.url=W,ee.navigationBehaviorOptions=L,ee}function uo(O,B,W){const L=new Error("NavigationCancelingError: "+(O||""));return L[li]=!0,L.cancellationCode=B,W&&(L.url=W),L}function Vr(O){return O&&O[li]}let Ss=(()=>{var O;class B{}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275cmp=g.Xpm({type:O,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(L,ee){1&L&&g._UZ(0,"router-outlet")},dependencies:[Zn],encapsulation:2}),B})();function Us(O){const B=O.children&&O.children.map(Us),W=B?{...O,children:B}:{...O};return!W.component&&!W.loadComponent&&(B||W.loadChildren)&&W.outlet&&W.outlet!==Te&&(W.component=Ss),W}function Vs(O){return O.outlet||Te}function bs(O){if(!O)return null;if(O.routeConfig?._injector)return O.routeConfig._injector;for(let B=O.parent;B;B=B.parent){const W=B.routeConfig;if(W?._loadedInjector)return W._loadedInjector;if(W?._injector)return W._injector}return null}class Bs{constructor(B,W,L,ee,_e){this.routeReuseStrategy=B,this.futureState=W,this.currState=L,this.forwardEvent=ee,this.inputBindingEnabled=_e}activate(B){const W=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(W,L,B),Qn(this.futureState.root),this.activateChildRoutes(W,L,B)}deactivateChildRoutes(B,W,L){const ee=Sn(W);B.children.forEach(_e=>{const Re=_e.value.outlet;this.deactivateRoutes(_e,ee[Re],L),delete ee[Re]}),Object.values(ee).forEach(_e=>{this.deactivateRouteAndItsChildren(_e,L)})}deactivateRoutes(B,W,L){const ee=B.value,_e=W?W.value:null;if(ee===_e)if(ee.component){const Re=L.getContext(ee.outlet);Re&&this.deactivateChildRoutes(B,W,Re.children)}else this.deactivateChildRoutes(B,W,L);else _e&&this.deactivateRouteAndItsChildren(W,L)}deactivateRouteAndItsChildren(B,W){B.value.component&&this.routeReuseStrategy.shouldDetach(B.value.snapshot)?this.detachAndStoreRouteSubtree(B,W):this.deactivateRouteAndOutlet(B,W)}detachAndStoreRouteSubtree(B,W){const L=W.getContext(B.value.outlet),ee=L&&B.value.component?L.children:W,_e=Sn(B);for(const Re of Object.keys(_e))this.deactivateRouteAndItsChildren(_e[Re],ee);if(L&&L.outlet){const Re=L.outlet.detach(),gt=L.children.onOutletDeactivated();this.routeReuseStrategy.store(B.value.snapshot,{componentRef:Re,route:B,contexts:gt})}}deactivateRouteAndOutlet(B,W){const L=W.getContext(B.value.outlet),ee=L&&B.value.component?L.children:W,_e=Sn(B);for(const Re of Object.keys(_e))this.deactivateRouteAndItsChildren(_e[Re],ee);L&&(L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated()),L.attachRef=null,L.route=null)}activateChildRoutes(B,W,L){const ee=Sn(W);B.children.forEach(_e=>{this.activateRoutes(_e,ee[_e.value.outlet],L),this.forwardEvent(new Ji(_e.value.snapshot))}),B.children.length&&this.forwardEvent(new Ko(B.value.snapshot))}activateRoutes(B,W,L){const ee=B.value,_e=W?W.value:null;if(Qn(ee),ee===_e)if(ee.component){const Re=L.getOrCreateContext(ee.outlet);this.activateChildRoutes(B,W,Re.children)}else this.activateChildRoutes(B,W,L);else if(ee.component){const Re=L.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const gt=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),Re.children.onOutletReAttached(gt.contexts),Re.attachRef=gt.componentRef,Re.route=gt.route.value,Re.outlet&&Re.outlet.attach(gt.componentRef,gt.route.value),Qn(gt.route.value),this.activateChildRoutes(B,null,Re.children)}else{const gt=bs(ee.snapshot);Re.attachRef=null,Re.route=ee,Re.injector=gt,Re.outlet&&Re.outlet.activateWith(ee,Re.injector),this.activateChildRoutes(B,null,Re.children)}}else this.activateChildRoutes(B,null,L)}}class Ba{constructor(B){this.path=B,this.route=this.path[this.path.length-1]}}class $i{constructor(B,W){this.component=B,this.route=W}}function fi(O,B,W){const L=O._root;return es(L,B?B._root:null,W,[L.value])}function js(O,B){const W=Symbol(),L=B.get(O,W);return L===W?"function"!=typeof O||(0,g.Z0I)(O)?B.get(O):O:L}function es(O,B,W,L,ee={canDeactivateChecks:[],canActivateChecks:[]}){const _e=Sn(B);return O.children.forEach(Re=>{(function Or(O,B,W,L,ee={canDeactivateChecks:[],canActivateChecks:[]}){const _e=O.value,Re=B?B.value:null,gt=W?W.getContext(O.value.outlet):null;if(Re&&_e.routeConfig===Re.routeConfig){const In=function pa(O,B,W){if("function"==typeof W)return W(O,B);switch(W){case"pathParamsChange":return!Lr(O.url,B.url);case"pathParamsOrQueryParamsChange":return!Lr(O.url,B.url)||!Bn(O.queryParams,B.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!si(O,B)||!Bn(O.queryParams,B.queryParams);default:return!si(O,B)}}(Re,_e,_e.routeConfig.runGuardsAndResolvers);In?ee.canActivateChecks.push(new Ba(L)):(_e.data=Re.data,_e._resolvedData=Re._resolvedData),es(O,B,_e.component?gt?gt.children:null:W,L,ee),In&&gt&&gt.outlet&&gt.outlet.isActivated&&ee.canDeactivateChecks.push(new $i(gt.outlet.component,Re))}else Re&&Mo(B,gt,ee),ee.canActivateChecks.push(new Ba(L)),es(O,null,_e.component?gt?gt.children:null:W,L,ee)})(Re,_e[Re.value.outlet],W,L.concat([Re.value]),ee),delete _e[Re.value.outlet]}),Object.entries(_e).forEach(([Re,gt])=>Mo(gt,W.getContext(Re),ee)),ee}function Mo(O,B,W){const L=Sn(O),ee=O.value;Object.entries(L).forEach(([_e,Re])=>{Mo(Re,ee.component?B?B.children.getContext(_e):null:B,W)}),W.canDeactivateChecks.push(new $i(ee.component&&B&&B.outlet&&B.outlet.isActivated?B.outlet.component:null,ee))}function ja(O){return"function"==typeof O}function Xe(O){return O instanceof Oe.K||"EmptyError"===O?.name}const et=Symbol("INITIAL_VALUE");function xt(){return(0,Qt.w)(O=>(0,ke.a)(O.map(B=>B.pipe((0,Le.q)(1),(0,Qe.O)(et)))).pipe((0,Ye.U)(B=>{for(const W of B)if(!0!==W){if(W===et)return et;if(!1===W||W instanceof Tr)return W}return!0}),(0,He.h)(B=>B!==et),(0,Le.q)(1)))}function Os(O){return(0,Be.z)((0,Ke.b)(B=>{if(qn(B))throw wo(0,B)}),(0,Ye.U)(B=>!0===B))}class ga{constructor(B){this.segmentGroup=B||null}}class As{constructor(B){this.urlTree=B}}function Uo(O){return(0,ut._)(new ga(O))}function _a(O){return(0,ut._)(new As(O))}class pl{constructor(B,W){this.urlSerializer=B,this.urlTree=W}noMatchError(B){return new g.vHH(4002,!1)}lineralizeSegments(B,W){let L=[],ee=W.root;for(;;){if(L=L.concat(ee.segments),0===ee.numberOfChildren)return(0,De.of)(L);if(ee.numberOfChildren>1||!ee.children[Te])return(0,ut._)(new g.vHH(4e3,!1));ee=ee.children[Te]}}applyRedirectCommands(B,W,L){return this.applyRedirectCreateUrlTree(W,this.urlSerializer.parse(W),B,L)}applyRedirectCreateUrlTree(B,W,L,ee){const _e=this.createSegmentGroup(B,W.root,L,ee);return new Tr(_e,this.createQueryParams(W.queryParams,this.urlTree.queryParams),W.fragment)}createQueryParams(B,W){const L={};return Object.entries(B).forEach(([ee,_e])=>{if("string"==typeof _e&&_e.startsWith(":")){const gt=_e.substring(1);L[ee]=W[gt]}else L[ee]=_e}),L}createSegmentGroup(B,W,L,ee){const _e=this.createSegments(B,W.segments,L,ee);let Re={};return Object.entries(W.children).forEach(([gt,In])=>{Re[gt]=this.createSegmentGroup(B,In,L,ee)}),new ir(_e,Re)}createSegments(B,W,L,ee){return W.map(_e=>_e.path.startsWith(":")?this.findPosParam(B,_e,ee):this.findOrReturn(_e,L))}findPosParam(B,W,L){const ee=L[W.path.substring(1)];if(!ee)throw new g.vHH(4001,!1);return ee}findOrReturn(B,W){let L=0;for(const ee of W){if(ee.path===B.path)return W.splice(L),ee;L++}return B}}const ml={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function To(O,B,W,L,ee){const _e=Oa(O,B,W);return _e.matched?(L=function Fr(O,B){return O.providers&&!O._injector&&(O._injector=(0,g.MMx)(O.providers,B,`Route: ${O.path}`)),O._injector??B}(B,L),function Ha(O,B,W,L){const ee=B.canMatch;if(!ee||0===ee.length)return(0,De.of)(!0);const _e=ee.map(Re=>{const gt=js(Re,O);return Er(function be(O){return O&&ja(O.canMatch)}(gt)?gt.canMatch(B,W):O.runInContext(()=>gt(B,W)))});return(0,De.of)(_e).pipe(xt(),Os())}(L,B,W).pipe((0,Ye.U)(Re=>!0===Re?_e:{...ml}))):(0,De.of)(_e)}function Oa(O,B,W){if(""===B.path)return"full"===B.pathMatch&&(O.hasChildren()||W.length>0)?{...ml}:{matched:!0,consumedSegments:[],remainingSegments:W,parameters:{},positionalParamSegments:{}};const ee=(B.matcher||hn)(W,O,B);if(!ee)return{...ml};const _e={};Object.entries(ee.posParams??{}).forEach(([gt,In])=>{_e[gt]=In.path});const Re=ee.consumed.length>0?{..._e,...ee.consumed[ee.consumed.length-1].parameters}:_e;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:W.slice(ee.consumed.length),parameters:Re,positionalParamSegments:ee.posParams??{}}}function hs(O,B,W,L){return W.length>0&&function ya(O,B,W){return W.some(L=>va(O,B,L)&&Vs(L)!==Te)}(O,W,L)?{segmentGroup:new ir(B,Zs(L,new ir(W,O.children))),slicedSegments:[]}:0===W.length&&function $a(O,B,W){return W.some(L=>va(O,B,L))}(O,W,L)?{segmentGroup:new ir(O.segments,rc(O,0,W,L,O.children)),slicedSegments:W}:{segmentGroup:new ir(O.segments,O.children),slicedSegments:W}}function rc(O,B,W,L,ee){const _e={};for(const Re of L)if(va(O,W,Re)&&!ee[Vs(Re)]){const gt=new ir([],{});_e[Vs(Re)]=gt}return{...ee,..._e}}function Zs(O,B){const W={};W[Te]=B;for(const L of O)if(""===L.path&&Vs(L)!==Te){const ee=new ir([],{});W[Vs(L)]=ee}return W}function va(O,B,W){return(!(O.hasChildren()||B.length>0)||"full"!==W.pathMatch)&&""===W.path}class gl{constructor(B,W,L,ee,_e,Re,gt){this.injector=B,this.configLoader=W,this.rootComponentType=L,this.config=ee,this.urlTree=_e,this.paramsInheritanceStrategy=Re,this.urlSerializer=gt,this.allowRedirects=!0,this.applyRedirects=new pl(this.urlSerializer,this.urlTree)}noMatchError(B){return new g.vHH(4002,!1)}recognize(){const B=hs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,B,Te).pipe((0,Bt.K)(W=>{if(W instanceof As)return this.allowRedirects=!1,this.urlTree=W.urlTree,this.match(W.urlTree);throw W instanceof ga?this.noMatchError(W):W}),(0,Ye.U)(W=>{const L=new vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),ee=new Wt(L,W),_e=new Es("",ee),Re=function Yr(O,B,W=null,L=null){return ze(dt(O),B,W,L)}(L,[],this.urlTree.queryParams,this.urlTree.fragment);return Re.queryParams=this.urlTree.queryParams,_e.url=this.urlSerializer.serialize(Re),this.inheritParamsAndData(_e._root),{state:_e,tree:Re}}))}match(B){return this.processSegmentGroup(this.injector,this.config,B.root,Te).pipe((0,Bt.K)(L=>{throw L instanceof ga?this.noMatchError(L):L}))}inheritParamsAndData(B){const W=B.value,L=co(W,this.paramsInheritanceStrategy);W.params=Object.freeze(L.params),W.data=Object.freeze(L.data),B.children.forEach(ee=>this.inheritParamsAndData(ee))}processSegmentGroup(B,W,L,ee){return 0===L.segments.length&&L.hasChildren()?this.processChildren(B,W,L):this.processSegment(B,W,L,L.segments,ee,!0)}processChildren(B,W,L){const ee=[];for(const _e of Object.keys(L.children))"primary"===_e?ee.unshift(_e):ee.push(_e);return(0,Ce.D)(ee).pipe((0,Ge.b)(_e=>{const Re=L.children[_e],gt=function ps(O,B){const W=O.filter(L=>Vs(L)===B);return W.push(...O.filter(L=>Vs(L)!==B)),W}(W,_e);return this.processSegmentGroup(B,gt,Re,_e)}),(0,Et.R)((_e,Re)=>(_e.push(...Re),_e)),(0,Nn.d)(null),function ht(O,B){const W=arguments.length>=2;return L=>L.pipe(O?(0,He.h)((ee,_e)=>O(ee,_e,L)):Sr.y,rr(1),W?(0,Nn.d)(B):(0,Nr.T)(()=>new Oe.K))}(),(0,vt.z)(_e=>{if(null===_e)return Uo(L);const Re=Gl(_e);return function Ea(O){O.sort((B,W)=>B.value.outlet===Te?-1:W.value.outlet===Te?1:B.value.outlet.localeCompare(W.value.outlet))}(Re),(0,De.of)(Re)}))}processSegment(B,W,L,ee,_e,Re){return(0,Ce.D)(W).pipe((0,Ge.b)(gt=>this.processSegmentAgainstRoute(gt._injector??B,W,gt,L,ee,_e,Re).pipe((0,Bt.K)(In=>{if(In instanceof ga)return(0,De.of)(null);throw In}))),(0,Pt.P)(gt=>!!gt),(0,Bt.K)(gt=>{if(Xe(gt))return function Ga(O,B,W){return 0===B.length&&!O.children[W]}(L,ee,_e)?(0,De.of)([]):Uo(L);throw gt}))}processSegmentAgainstRoute(B,W,L,ee,_e,Re,gt){return function ic(O,B,W,L){return!!(Vs(O)===L||L!==Te&&va(B,W,O))&&("**"===O.path||Oa(B,O,W).matched)}(L,ee,_e,Re)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(B,ee,L,_e,Re,gt):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(B,ee,W,L,_e,Re):Uo(ee):Uo(ee)}expandSegmentAgainstRouteUsingRedirect(B,W,L,ee,_e,Re){return"**"===ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(B,L,ee,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(B,W,L,ee,_e,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(B,W,L,ee){const _e=this.applyRedirects.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?_a(_e):this.applyRedirects.lineralizeSegments(L,_e).pipe((0,vt.z)(Re=>{const gt=new ir(Re,{});return this.processSegment(B,W,gt,Re,ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(B,W,L,ee,_e,Re){const{matched:gt,consumedSegments:In,remainingSegments:Xt,positionalParamSegments:or}=Oa(W,ee,_e);if(!gt)return Uo(W);const ti=this.applyRedirects.applyRedirectCommands(In,ee.redirectTo,or);return ee.redirectTo.startsWith("/")?_a(ti):this.applyRedirects.lineralizeSegments(ee,ti).pipe((0,vt.z)(Ct=>this.processSegment(B,L,W,Ct.concat(Xt),Re,!1)))}matchSegmentAgainstRoute(B,W,L,ee,_e,Re){let gt;if("**"===L.path){const In=ee.length>0?Fn(ee).parameters:{},Xt=new vs(ee,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sc(L),Vs(L),L.component??L._loadedComponent??null,L,nl(L));gt=(0,De.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]}),W.children={}}else gt=To(W,L,ee,B).pipe((0,Ye.U)(({matched:In,consumedSegments:Xt,remainingSegments:or,parameters:ti})=>In?{snapshot:new vs(Xt,ti,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sc(L),Vs(L),L.component??L._loadedComponent??null,L,nl(L)),consumedSegments:Xt,remainingSegments:or}:null));return gt.pipe((0,Qt.w)(In=>null===In?Uo(W):this.getChildConfig(B=L._injector??B,L,ee).pipe((0,Qt.w)(({routes:Xt})=>{const or=L._loadedInjector??B,{snapshot:ti,consumedSegments:Ct,remainingSegments:Oi}=In,{segmentGroup:os,slicedSegments:Wa}=hs(W,Ct,Oi,Xt);if(0===Wa.length&&os.hasChildren())return this.processChildren(or,Xt,os).pipe((0,Ye.U)(Do=>null===Do?null:[new Wt(ti,Do)]));if(0===Xt.length&&0===Wa.length)return(0,De.of)([new Wt(ti,[])]);const ol=Vs(L)===_e;return this.processSegment(or,Xt,os,Wa,ol?Te:_e,!0).pipe((0,Ye.U)(Do=>[new Wt(ti,Do)]))}))))}getChildConfig(B,W,L){return W.children?(0,De.of)({routes:W.children,injector:B}):W.loadChildren?void 0!==W._loadedRoutes?(0,De.of)({routes:W._loadedRoutes,injector:W._loadedInjector}):function Pa(O,B,W,L){const ee=B.canLoad;if(void 0===ee||0===ee.length)return(0,De.of)(!0);const _e=ee.map(Re=>{const gt=js(Re,O);return Er(function Qo(O){return O&&ja(O.canLoad)}(gt)?gt.canLoad(B,W):O.runInContext(()=>gt(B,W)))});return(0,De.of)(_e).pipe(xt(),Os())}(B,W,L).pipe((0,vt.z)(ee=>ee?this.configLoader.loadChildren(B,W).pipe((0,Ke.b)(_e=>{W._loadedRoutes=_e.routes,W._loadedInjector=_e.injector})):function tl(O){return(0,ut._)(uo(!1,3))}())):(0,De.of)({routes:[],injector:B})}}function Ia(O){const B=O.value.routeConfig;return B&&""===B.path}function Gl(O){const B=[],W=new Set;for(const L of O){if(!Ia(L)){B.push(L);continue}const ee=B.find(_e=>L.value.routeConfig===_e.value.routeConfig);void 0!==ee?(ee.children.push(...L.children),W.add(ee)):B.push(L)}for(const L of W){const ee=Gl(L.children);B.push(new Wt(L.value,ee))}return B.filter(L=>!W.has(L))}function sc(O){return O.data||{}}function nl(O){return O.resolve||{}}function la(O){return"string"==typeof O.title||null===O.title}function Ti(O){return(0,Qt.w)(B=>{const W=O(B);return W?(0,Ce.D)(W).pipe((0,Ye.U)(()=>B)):(0,De.of)(B)})}const N=new g.OlP("ROUTES");let re=(()=>{var O;class B{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(L){if(this.componentLoaders.get(L))return this.componentLoaders.get(L);if(L._loadedComponent)return(0,De.of)(L._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(L);const ee=Er(L.loadComponent()).pipe((0,Ye.U)(Y),(0,Ke.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(L),L._loadedComponent=Re}),(0,rt.x)(()=>{this.componentLoaders.delete(L)})),_e=new wt.c(ee,()=>new ft.x).pipe((0,It.x)());return this.componentLoaders.set(L,_e),_e}loadChildren(L,ee){if(this.childrenLoaders.get(ee))return this.childrenLoaders.get(ee);if(ee._loadedRoutes)return(0,De.of)({routes:ee._loadedRoutes,injector:ee._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ee);const Re=this.loadModuleFactoryOrRoutes(ee.loadChildren).pipe((0,Ye.U)(In=>{this.onLoadEndListener&&this.onLoadEndListener(ee);let Xt,or;return Array.isArray(In)?or=In:(Xt=In.create(L).injector,or=Xt.get(N,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:or.map(Us),injector:Xt}}),(0,rt.x)(()=>{this.childrenLoaders.delete(ee)})),gt=new wt.c(Re,()=>new ft.x).pipe((0,It.x)());return this.childrenLoaders.set(ee,gt),gt}loadModuleFactoryOrRoutes(L){return Er(L()).pipe((0,Ye.U)(Y),(0,vt.z)(ee=>ee instanceof g.YKP||Array.isArray(ee)?(0,De.of)(ee):(0,Ce.D)(this.compiler.compileModuleAsync(ee))))}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();function Y(O){return function Ne(O){return O&&"object"==typeof O&&"default"in O}(O)?O.default:O}let M=(()=>{var O;class B{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ft.x,this.transitionAbortSubject=new ft.x,this.configLoader=(0,g.f3M)(re),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(ur),this.rootContexts=(0,g.f3M)(lt),this.inputBindingEnabled=null!==(0,g.f3M)(ki,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=_e=>this.events.next(new fa(_e)),this.configLoader.onLoadStartListener=_e=>this.events.next(new lo(_e))}complete(){this.transitions?.complete()}handleNavigationRequest(L){const ee=++this.navigationId;this.transitions?.next({...this.transitions.value,...L,id:ee})}setupNavigations(L,ee,_e){return this.transitions=new Ue.X({id:0,currentUrlTree:ee,currentRawUrl:ee,currentBrowserUrl:ee,extractedUrl:L.urlHandlingStrategy.extract(ee),urlAfterRedirects:L.urlHandlingStrategy.extract(ee),rawUrl:ee,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rs,restoredState:null,currentSnapshot:_e.snapshot,targetSnapshot:null,currentRouterState:_e,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,He.h)(Re=>0!==Re.id),(0,Ye.U)(Re=>({...Re,extractedUrl:L.urlHandlingStrategy.extract(Re.rawUrl)})),(0,Qt.w)(Re=>{this.currentTransition=Re;let gt=!1,In=!1;return(0,De.of)(Re).pipe((0,Ke.b)(Xt=>{this.currentNavigation={id:Xt.id,initialUrl:Xt.rawUrl,extractedUrl:Xt.extractedUrl,trigger:Xt.source,extras:Xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Qt.w)(Xt=>{const or=Xt.currentBrowserUrl.toString(),ti=!L.navigated||Xt.extractedUrl.toString()!==or||or!==Xt.currentUrlTree.toString();if(!ti&&"reload"!==(Xt.extras.onSameUrlNavigation??L.onSameUrlNavigation)){const Oi="";return this.events.next(new qi(Xt.id,this.urlSerializer.serialize(Xt.rawUrl),Oi,0)),Xt.resolve(null),ct.E}if(L.urlHandlingStrategy.shouldProcessUrl(Xt.rawUrl))return(0,De.of)(Xt).pipe((0,Qt.w)(Oi=>{const os=this.transitions?.getValue();return this.events.next(new ji(Oi.id,this.urlSerializer.serialize(Oi.extractedUrl),Oi.source,Oi.restoredState)),os!==this.transitions?.getValue()?ct.E:Promise.resolve(Oi)}),function Oo(O,B,W,L,ee,_e){return(0,vt.z)(Re=>function Co(O,B,W,L,ee,_e,Re="emptyOnly"){return new gl(O,B,W,L,ee,Re,_e).recognize()}(O,B,W,L,Re.extractedUrl,ee,_e).pipe((0,Ye.U)(({state:gt,tree:In})=>({...Re,targetSnapshot:gt,urlAfterRedirects:In}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,L.config,this.urlSerializer,L.paramsInheritanceStrategy),(0,Ke.b)(Oi=>{Re.targetSnapshot=Oi.targetSnapshot,Re.urlAfterRedirects=Oi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Oi.urlAfterRedirects};const os=new Zi(Oi.id,this.urlSerializer.serialize(Oi.extractedUrl),this.urlSerializer.serialize(Oi.urlAfterRedirects),Oi.targetSnapshot);this.events.next(os)}));if(ti&&L.urlHandlingStrategy.shouldProcessUrl(Xt.currentRawUrl)){const{id:Oi,extractedUrl:os,source:Wa,restoredState:ol,extras:Do}=Xt,Kl=new ji(Oi,this.urlSerializer.serialize(os),Wa,ol);this.events.next(Kl);const Na=vr(0,this.rootComponentType).snapshot;return this.currentTransition=Re={...Xt,targetSnapshot:Na,urlAfterRedirects:os,extras:{...Do,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(Re)}{const Oi="";return this.events.next(new qi(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),Oi,1)),Xt.resolve(null),ct.E}}),(0,Ke.b)(Xt=>{const or=new Fs(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot);this.events.next(or)}),(0,Ye.U)(Xt=>(this.currentTransition=Re={...Xt,guards:fi(Xt.targetSnapshot,Xt.currentSnapshot,this.rootContexts)},Re)),function bn(O,B){return(0,vt.z)(W=>{const{targetSnapshot:L,currentSnapshot:ee,guards:{canActivateChecks:_e,canDeactivateChecks:Re}}=W;return 0===Re.length&&0===_e.length?(0,De.of)({...W,guardsResult:!0}):function Ir(O,B,W,L){return(0,Ce.D)(O).pipe((0,vt.z)(ee=>function $l(O,B,W,L,ee){const _e=B&&B.routeConfig?B.routeConfig.canDeactivate:null;if(!_e||0===_e.length)return(0,De.of)(!0);const Re=_e.map(gt=>{const In=bs(B)??ee,Xt=js(gt,In);return Er(function q(O){return O&&ja(O.canDeactivate)}(Xt)?Xt.canDeactivate(O,B,W,L):In.runInContext(()=>Xt(O,B,W,L))).pipe((0,Pt.P)())});return(0,De.of)(Re).pipe(xt())}(ee.component,ee.route,W,B,L)),(0,Pt.P)(ee=>!0!==ee,!0))}(Re,L,ee,O).pipe((0,vt.z)(gt=>gt&&function Hl(O){return"boolean"==typeof O}(gt)?function oi(O,B,W,L){return(0,Ce.D)(B).pipe((0,Ge.b)(ee=>(0,ye.z)(function Po(O,B){return null!==O&&B&&B(new Hi(O)),(0,De.of)(!0)}(ee.route.parent,L),function Ps(O,B){return null!==O&&B&&B(new qo(O)),(0,De.of)(!0)}(ee.route,L),function Rl(O,B,W){const L=B[B.length-1],_e=B.slice(0,B.length-1).reverse().map(Re=>function Yo(O){const B=O.routeConfig?O.routeConfig.canActivateChild:null;return B&&0!==B.length?{node:O,guards:B}:null}(Re)).filter(Re=>null!==Re).map(Re=>(0,Se.P)(()=>{const gt=Re.guards.map(In=>{const Xt=bs(Re.node)??W,or=js(In,Xt);return Er(function ne(O){return O&&ja(O.canActivateChild)}(or)?or.canActivateChild(L,O):Xt.runInContext(()=>or(L,O))).pipe((0,Pt.P)())});return(0,De.of)(gt).pipe(xt())}));return(0,De.of)(_e).pipe(xt())}(O,ee.path,W),function ma(O,B,W){const L=B.routeConfig?B.routeConfig.canActivate:null;if(!L||0===L.length)return(0,De.of)(!0);const ee=L.map(_e=>(0,Se.P)(()=>{const Re=bs(B)??W,gt=js(_e,Re);return Er(function Fo(O){return O&&ja(O.canActivate)}(gt)?gt.canActivate(B,O):Re.runInContext(()=>gt(B,O))).pipe((0,Pt.P)())}));return(0,De.of)(ee).pipe(xt())}(O,ee.route,W))),(0,Pt.P)(ee=>!0!==ee,!0))}(L,_e,O,B):(0,De.of)(gt)),(0,Ye.U)(gt=>({...W,guardsResult:gt})))})}(this.environmentInjector,Xt=>this.events.next(Xt)),(0,Ke.b)(Xt=>{if(Re.guardsResult=Xt.guardsResult,qn(Xt.guardsResult))throw wo(0,Xt.guardsResult);const or=new Eo(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot,!!Xt.guardsResult);this.events.next(or)}),(0,He.h)(Xt=>!!Xt.guardsResult||(this.cancelNavigationTransition(Xt,"",3),!1)),Ti(Xt=>{if(Xt.guards.canActivateChecks.length)return(0,De.of)(Xt).pipe((0,Ke.b)(or=>{const ti=new Wo(or.id,this.urlSerializer.serialize(or.extractedUrl),this.urlSerializer.serialize(or.urlAfterRedirects),or.targetSnapshot);this.events.next(ti)}),(0,Qt.w)(or=>{let ti=!1;return(0,De.of)(or).pipe(function Vc(O,B){return(0,vt.z)(W=>{const{targetSnapshot:L,guards:{canActivateChecks:ee}}=W;if(!ee.length)return(0,De.of)(W);let _e=0;return(0,Ce.D)(ee).pipe((0,Ge.b)(Re=>function zl(O,B,W,L){const ee=O.routeConfig,_e=O._resolve;return void 0!==ee?.title&&!la(ee)&&(_e[qe]=ee.title),function aa(O,B,W,L){const ee=function wc(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}(O);if(0===ee.length)return(0,De.of)({});const _e={};return(0,Ce.D)(ee).pipe((0,vt.z)(Re=>function fo(O,B,W,L){const ee=bs(B)??L,_e=js(O,ee);return Er(_e.resolve?_e.resolve(B,W):ee.runInContext(()=>_e(B,W)))}(O[Re],B,W,L).pipe((0,Pt.P)(),(0,Ke.b)(gt=>{_e[Re]=gt}))),rr(1),(0,Dt.h)(_e),(0,Bt.K)(Re=>Xe(Re)?ct.E:(0,ut._)(Re)))}(_e,O,B,L).pipe((0,Ye.U)(Re=>(O._resolvedData=Re,O.data=co(O,W).resolve,ee&&la(ee)&&(O.data[qe]=ee.title),null)))}(Re.route,L,O,B)),(0,Ke.b)(()=>_e++),rr(1),(0,vt.z)(Re=>_e===ee.length?(0,De.of)(W):ct.E))})}(L.paramsInheritanceStrategy,this.environmentInjector),(0,Ke.b)({next:()=>ti=!0,complete:()=>{ti||this.cancelNavigationTransition(or,"",2)}}))}),(0,Ke.b)(or=>{const ti=new Xa(or.id,this.urlSerializer.serialize(or.extractedUrl),this.urlSerializer.serialize(or.urlAfterRedirects),or.targetSnapshot);this.events.next(ti)}))}),Ti(Xt=>{const or=ti=>{const Ct=[];ti.routeConfig?.loadComponent&&!ti.routeConfig._loadedComponent&&Ct.push(this.configLoader.loadComponent(ti.routeConfig).pipe((0,Ke.b)(Oi=>{ti.component=Oi}),(0,Ye.U)(()=>{})));for(const Oi of ti.children)Ct.push(...or(Oi));return Ct};return(0,ke.a)(or(Xt.targetSnapshot.root)).pipe((0,Nn.d)(),(0,Le.q)(1))}),Ti(()=>this.afterPreactivation()),(0,Ye.U)(Xt=>{const or=function wi(O,B,W){const L=ds(O,B._root,W?W._root:void 0);return new lr(L,B)}(L.routeReuseStrategy,Xt.targetSnapshot,Xt.currentRouterState);return this.currentTransition=Re={...Xt,targetRouterState:or},Re}),(0,Ke.b)(()=>{this.events.next(new hi)}),((O,B,W,L)=>(0,Ye.U)(ee=>(new Bs(B,ee.targetRouterState,ee.currentRouterState,W,L).activate(O),ee)))(this.rootContexts,L.routeReuseStrategy,Xt=>this.events.next(Xt),this.inputBindingEnabled),(0,Le.q)(1),(0,Ke.b)({next:Xt=>{gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects))),L.titleStrategy?.updateTitle(Xt.targetRouterState.snapshot),Xt.resolve(!0)},complete:()=>{gt=!0}}),(0,tt.R)(this.transitionAbortSubject.pipe((0,Ke.b)(Xt=>{throw Xt}))),(0,rt.x)(()=>{gt||In||this.cancelNavigationTransition(Re,"",1),this.currentNavigation?.id===Re.id&&(this.currentNavigation=null)}),(0,Bt.K)(Xt=>{if(In=!0,Vr(Xt))this.events.next(new Ki(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Xt.message,Xt.cancellationCode)),function bi(O){return Vr(O)&&qn(O.url)}(Xt)?this.events.next(new Ao(Xt.url)):Re.resolve(!1);else{this.events.next(new Ls(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Xt,Re.targetSnapshot??void 0));try{Re.resolve(L.errorHandler(Xt))}catch(or){Re.reject(or)}}return ct.E}))}))}cancelNavigationTransition(L,ee,_e){const Re=new Ki(L.id,this.urlSerializer.serialize(L.extractedUrl),ee,_e);this.events.next(Re),L.resolve(!1)}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();function K(O){return O!==rs}let ae=(()=>{var O;class B{buildTitle(L){let ee,_e=L.root;for(;void 0!==_e;)ee=this.getResolvedTitleForRoute(_e)??ee,_e=_e.children.find(Re=>Re.outlet===Te);return ee}getResolvedTitleForRoute(L){return L.data[qe]}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:function(){return(0,g.f3M)(fe)},providedIn:"root"}),B})(),fe=(()=>{var O;class B extends ae{constructor(L){super(),this.title=L}updateTitle(L){const ee=this.buildTitle(L);void 0!==ee&&this.title.setTitle(ee)}}return(O=B).\u0275fac=function(L){return new(L||O)(g.LFG(Ve.Dx))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})(),Me=(()=>{var O;class B{}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:function(){return(0,g.f3M)(nt)},providedIn:"root"}),B})();class st{shouldDetach(B){return!1}store(B,W){}shouldAttach(B){return!1}retrieve(B){return null}shouldReuseRoute(B,W){return B.routeConfig===W.routeConfig}}let nt=(()=>{var O;class B extends st{}return(O=B).\u0275fac=function(){let W;return function(ee){return(W||(W=g.n5z(O)))(ee||O)}}(),O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();const At=new g.OlP("",{providedIn:"root",factory:()=>({})});let Jt=(()=>{var O;class B{}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:function(){return(0,g.f3M)(mn)},providedIn:"root"}),B})(),mn=(()=>{var O;class B{shouldProcessUrl(L){return!0}extract(L){return L}merge(L,ee){return L}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();var on=function(O){return O[O.COMPLETE=0]="COMPLETE",O[O.FAILED=1]="FAILED",O[O.REDIRECTING=2]="REDIRECTING",O}(on||{});function jn(O,B){O.events.pipe((0,He.h)(W=>W instanceof Gr||W instanceof Ki||W instanceof Ls||W instanceof qi),(0,Ye.U)(W=>W instanceof Gr||W instanceof qi?on.COMPLETE:W instanceof Ki&&(0===W.code||1===W.code)?on.REDIRECTING:on.FAILED),(0,He.h)(W=>W!==on.REDIRECTING),(0,Le.q)(1)).subscribe(()=>{B()})}function mr(O){throw O}function Ur(O,B,W){return B.parse("/")}const ei={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ts={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{var O;class B{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new ft.x,this.options=(0,g.f3M)(At,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||mr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ur,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Jt),this.routeReuseStrategy=(0,g.f3M)(Me),this.titleStrategy=(0,g.f3M)(ae),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(N,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(M),this.urlSerializer=(0,g.f3M)(ur),this.location=(0,g.f3M)(Ft.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(ki,{optional:!0}),this.eventsSubscription=new Ut.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(L=>{this.lastSuccessfulId=L.id,this.currentPageId=this.browserPageId},L=>{this.console.warn(`Unhandled Navigation Error: ${L}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const L=this.navigationTransitions.events.subscribe(ee=>{try{const{currentTransition:_e}=this.navigationTransitions;if(null===_e)return void(ss(ee)&&this._events.next(ee));if(ee instanceof ji)K(_e.source)&&(this.browserUrlTree=_e.extractedUrl);else if(ee instanceof qi)this.rawUrlTree=_e.rawUrl;else if(ee instanceof Zi){if("eager"===this.urlUpdateStrategy){if(!_e.extras.skipLocationChange){const Re=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl);this.setBrowserUrl(Re,_e)}this.browserUrlTree=_e.urlAfterRedirects}}else if(ee instanceof hi)this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects);else if(ee instanceof Ki)0!==ee.code&&1!==ee.code&&(this.navigated=!0),(3===ee.code||2===ee.code)&&this.restoreHistory(_e);else if(ee instanceof Ao){const Re=this.urlHandlingStrategy.merge(ee.url,_e.currentRawUrl),gt={skipLocationChange:_e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||K(_e.source)};this.scheduleNavigation(Re,rs,null,gt,{resolve:_e.resolve,reject:_e.reject,promise:_e.promise})}ee instanceof Ls&&this.restoreHistory(_e,!0),ee instanceof Gr&&(this.navigated=!0),ss(ee)&&this._events.next(ee)}catch(_e){this.navigationTransitions.transitionAbortSubject.next(_e)}});this.eventsSubscription.add(L)}resetRootComponentType(L){this.routerState.root.component=L,this.navigationTransitions.rootComponentType=L}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const L=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rs,L)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(L=>{const ee="popstate"===L.type?"popstate":"hashchange";"popstate"===ee&&setTimeout(()=>{this.navigateToSyncWithBrowser(L.url,ee,L.state)},0)}))}navigateToSyncWithBrowser(L,ee,_e){const Re={replaceUrl:!0},gt=_e?.navigationId?_e:null;if(_e){const Xt={..._e};delete Xt.navigationId,delete Xt.\u0275routerPageId,0!==Object.keys(Xt).length&&(Re.state=Xt)}const In=this.parseUrl(L);this.scheduleNavigation(In,ee,gt,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(L){this.config=L.map(Us),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(L,ee={}){const{relativeTo:_e,queryParams:Re,fragment:gt,queryParamsHandling:In,preserveFragment:Xt}=ee,or=Xt?this.currentUrlTree.fragment:gt;let Ct,ti=null;switch(In){case"merge":ti={...this.currentUrlTree.queryParams,...Re};break;case"preserve":ti=this.currentUrlTree.queryParams;break;default:ti=Re||null}null!==ti&&(ti=this.removeEmptyProps(ti));try{Ct=dt(_e?_e.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof L[0]||!L[0].startsWith("/"))&&(L=[]),Ct=this.currentUrlTree.root}return ze(Ct,L,ti,or??null)}navigateByUrl(L,ee={skipLocationChange:!1}){const _e=qn(L)?L:this.parseUrl(L),Re=this.urlHandlingStrategy.merge(_e,this.rawUrlTree);return this.scheduleNavigation(Re,rs,null,ee)}navigate(L,ee={skipLocationChange:!1}){return function Ys(O){for(let B=0;B<O.length;B++)if(null==O[B])throw new g.vHH(4008,!1)}(L),this.navigateByUrl(this.createUrlTree(L,ee),ee)}serializeUrl(L){return this.urlSerializer.serialize(L)}parseUrl(L){let ee;try{ee=this.urlSerializer.parse(L)}catch(_e){ee=this.malformedUriErrorHandler(_e,this.urlSerializer,L)}return ee}isActive(L,ee){let _e;if(_e=!0===ee?{...ei}:!1===ee?{...ts}:ee,qn(L))return Kn(this.currentUrlTree,L,_e);const Re=this.parseUrl(L);return Kn(this.currentUrlTree,Re,_e)}removeEmptyProps(L){return Object.keys(L).reduce((ee,_e)=>{const Re=L[_e];return null!=Re&&(ee[_e]=Re),ee},{})}scheduleNavigation(L,ee,_e,Re,gt){if(this.disposed)return Promise.resolve(!1);let In,Xt,or;gt?(In=gt.resolve,Xt=gt.reject,or=gt.promise):or=new Promise((Ct,Oi)=>{In=Ct,Xt=Oi});const ti=this.pendingTasks.add();return jn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ti))}),this.navigationTransitions.handleNavigationRequest({source:ee,restoredState:_e,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:L,extras:Re,resolve:In,reject:Xt,promise:or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),or.catch(Ct=>Promise.reject(Ct))}setBrowserUrl(L,ee){const _e=this.urlSerializer.serialize(L);if(this.location.isCurrentPathEqualTo(_e)||ee.extras.replaceUrl){const gt={...ee.extras.state,...this.generateNgRouterState(ee.id,this.browserPageId)};this.location.replaceState(_e,"",gt)}else{const Re={...ee.extras.state,...this.generateNgRouterState(ee.id,this.browserPageId+1)};this.location.go(_e,"",Re)}}restoreHistory(L,ee=!1){if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-this.browserPageId;0!==Re?this.location.historyGo(Re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Re&&(this.resetState(L),this.browserUrlTree=L.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(ee&&this.resetState(L),this.resetUrlToCurrentUrlTree())}resetState(L){this.routerState=L.currentRouterState,this.currentUrlTree=L.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,L.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(L,ee){return"computed"===this.canceledNavigationResolution?{navigationId:L,\u0275routerPageId:ee}:{navigationId:L}}}return(O=B).\u0275fac=function(L){return new(L||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();function ss(O){return!(O instanceof hi||O instanceof Ao)}let Pi=(()=>{var O;class B{constructor(L,ee,_e,Re,gt,In){this.router=L,this.route=ee,this.tabIndexAttribute=_e,this.renderer=Re,this.el=gt,this.locationStrategy=In,this.href=null,this.commands=null,this.onChanges=new ft.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Xt=gt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Xt||"area"===Xt,this.isAnchorElement?this.subscription=L.events.subscribe(or=>{or instanceof Gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(L){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",L)}ngOnChanges(L){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(L){null!=L?(this.commands=Array.isArray(L)?L:[L],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(L,ee,_e,Re,gt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==L||ee||_e||Re||gt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const L=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",L)}applyAttributeValue(L,ee){const _e=this.renderer,Re=this.el.nativeElement;null!==ee?_e.setAttribute(Re,L,ee):_e.removeAttribute(Re,L)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(O=B).\u0275fac=function(L){return new(L||O)(g.Y36(Ui),g.Y36(Mi),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Ft.S$))},O.\u0275dir=g.lG2({type:O,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(L,ee){1&L&&g.NdJ("click",function(Re){return ee.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&L&&g.uIk("target",ee.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]}),B})(),Hs=(()=>{var O;class B{get isActive(){return this._isActive}constructor(L,ee,_e,Re,gt){this.router=L,this.element=ee,this.renderer=_e,this.cdr=Re,this.link=gt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=L.events.subscribe(In=>{In instanceof Gr&&this.update()})}ngAfterContentInit(){(0,De.of)(this.links.changes,(0,De.of)(null)).pipe((0,Ee.J)()).subscribe(L=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const L=[...this.links.toArray(),this.link].filter(ee=>!!ee).map(ee=>ee.onChanges);this.linkInputChangesSubscription=(0,Ce.D)(L).pipe((0,Ee.J)()).subscribe(ee=>{this._isActive!==this.isLinkActive(this.router)(ee)&&this.update()})}set routerLinkActive(L){const ee=Array.isArray(L)?L:L.split(" ");this.classes=ee.filter(_e=>!!_e)}ngOnChanges(L){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const L=this.hasActiveLinks();this._isActive!==L&&(this._isActive=L,this.cdr.markForCheck(),this.classes.forEach(ee=>{L?this.renderer.addClass(this.element.nativeElement,ee):this.renderer.removeClass(this.element.nativeElement,ee)}),L&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(L))})}isLinkActive(L){const ee=function cr(O){return!!O.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return _e=>!!_e.urlTree&&L.isActive(_e.urlTree,ee)}hasActiveLinks(){const L=this.isLinkActive(this.router);return this.link&&L(this.link)||this.links.some(L)}}return(O=B).\u0275fac=function(L){return new(L||O)(g.Y36(Ui),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(Pi,8))},O.\u0275dir=g.lG2({type:O,selectors:[["","routerLinkActive",""]],contentQueries:function(L,ee,_e){if(1&L&&g.Suo(_e,Pi,5),2&L){let Re;g.iGM(Re=g.CRH())&&(ee.links=Re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]}),B})();class wa{}let ns=(()=>{var O;class B{constructor(L,ee,_e,Re,gt){this.router=L,this.injector=_e,this.preloadingStrategy=Re,this.loader=gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,He.h)(L=>L instanceof Gr),(0,Ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(L,ee){const _e=[];for(const Re of ee){Re.providers&&!Re._injector&&(Re._injector=(0,g.MMx)(Re.providers,L,`Route: ${Re.path}`));const gt=Re._injector??L,In=Re._loadedInjector??gt;(Re.loadChildren&&!Re._loadedRoutes&&void 0===Re.canLoad||Re.loadComponent&&!Re._loadedComponent)&&_e.push(this.preloadConfig(gt,Re)),(Re.children||Re._loadedRoutes)&&_e.push(this.processRoutes(In,Re.children??Re._loadedRoutes))}return(0,Ce.D)(_e).pipe((0,Ee.J)())}preloadConfig(L,ee){return this.preloadingStrategy.preload(ee,()=>{let _e;_e=ee.loadChildren&&void 0===ee.canLoad?this.loader.loadChildren(L,ee):(0,De.of)(null);const Re=_e.pipe((0,vt.z)(gt=>null===gt?(0,De.of)(void 0):(ee._loadedRoutes=gt.routes,ee._loadedInjector=gt.injector,this.processRoutes(gt.injector??L,gt.routes))));if(ee.loadComponent&&!ee._loadedComponent){const gt=this.loader.loadComponent(ee);return(0,Ce.D)([Re,gt]).pipe((0,Ee.J)())}return Re})}}return(O=B).\u0275fac=function(L){return new(L||O)(g.LFG(Ui),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(wa),g.LFG(re))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),B})();const Qs=new g.OlP("");let xo=(()=>{var O;class B{constructor(L,ee,_e,Re,gt={}){this.urlSerializer=L,this.transitions=ee,this.viewportScroller=_e,this.zone=Re,this.options=gt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},gt.scrollPositionRestoration=gt.scrollPositionRestoration||"disabled",gt.anchorScrolling=gt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(L=>{L instanceof ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=L.navigationTrigger,this.restoredId=L.restoredState?L.restoredState.navigationId:0):L instanceof Gr?(this.lastId=L.id,this.scheduleScrollEvent(L,this.urlSerializer.parse(L.urlAfterRedirects).fragment)):L instanceof qi&&0===L.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(L,this.urlSerializer.parse(L.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(L=>{L instanceof Io&&(L.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(L.position):L.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(L.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(L,ee){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Io(L,"popstate"===this.lastSource?this.store[this.restoredId]:null,ee))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(O=B).\u0275fac=function(L){g.$Z()},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),B})();function _n(O,B){return{\u0275kind:O,\u0275providers:B}}function wn(){const O=(0,g.f3M)(g.zs3);return B=>{const W=O.get(g.z2F);if(B!==W.components[0])return;const L=O.get(Ui),ee=O.get(jc);1===O.get(Ln)&&L.initialNavigation(),O.get(Jo,null,g.XFs.Optional)?.setUpPreloading(),O.get(Qs,null,g.XFs.Optional)?.init(),L.resetRootComponentType(W.componentTypes[0]),ee.closed||(ee.next(),ee.complete(),ee.unsubscribe())}}const jc=new g.OlP("",{factory:()=>new ft.x}),Ln=new g.OlP("",{providedIn:"root",factory:()=>1}),Jo=new g.OlP("");function Xo(O){return _n(0,[{provide:Jo,useExisting:ns},{provide:wa,useExisting:O}])}const il=new g.OlP("ROUTER_FORROOT_GUARD"),Lu=[Ft.Ye,{provide:ur,useClass:Qr},Ui,lt,{provide:Mi,useFactory:function bc(O){return O.routerState.root},deps:[Ui]},re,[]];function Pl(){return new g.PXZ("Router",Ui)}let No=(()=>{var O;class B{constructor(L){}static forRoot(L,ee){return{ngModule:B,providers:[Lu,[],{provide:N,multi:!0,useValue:L},{provide:il,useFactory:gs,deps:[[Ui,new g.FiY,new g.tp0]]},{provide:At,useValue:ee||{}},ee?.useHash?{provide:Ft.S$,useClass:Ft.Do}:{provide:Ft.S$,useClass:Ft.b0},{provide:Qs,useFactory:()=>{const O=(0,g.f3M)(Ft.EM),B=(0,g.f3M)(g.R0b),W=(0,g.f3M)(At),L=(0,g.f3M)(M),ee=(0,g.f3M)(ur);return W.scrollOffset&&O.setOffset(W.scrollOffset),new xo(ee,L,O,B,W)}},ee?.preloadingStrategy?Xo(ee.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Pl},ee?.initialNavigation?gr(ee):[],ee?.bindToComponentInputs?_n(8,[is,{provide:ki,useExisting:is}]).\u0275providers:[],[{provide:xa,useFactory:wn},{provide:g.tb,multi:!0,useExisting:xa}]]}}static forChild(L){return{ngModule:B,providers:[{provide:N,multi:!0,useValue:L}]}}}return(O=B).\u0275fac=function(L){return new(L||O)(g.LFG(il,8))},O.\u0275mod=g.oAB({type:O}),O.\u0275inj=g.cJS({}),B})();function gs(O){return"guarded"}function gr(O){return["disabled"===O.initialNavigation?_n(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const B=(0,g.f3M)(Ui);return()=>{B.setUpLocationChangeListener()}}},{provide:Ln,useValue:2}]).\u0275providers:[],"enabledBlocking"===O.initialNavigation?_n(2,[{provide:Ln,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:B=>{const W=B.get(Ft.V_,Promise.resolve());return()=>W.then(()=>new Promise(L=>{const ee=B.get(Ui),_e=B.get(jc);jn(ee,()=>{L(!0)}),B.get(M).afterPreactivation=()=>(L(!0),_e.closed?(0,De.of)(void 0):_e),ee.initialNavigation()}))}}]).\u0275providers:[]]}const xa=new g.OlP("")},4303:(un,it,k)=>{k.r(it),k.d(it,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>Bn,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>tt,_addOrOverwriteComponent:()=>Ee,_apps:()=>rt,_clearComponents:()=>jt,_components:()=>It,_getProvider:()=>Te,_registerComponent:()=>Ve,_removeServiceInstance:()=>qe,deleteApp:()=>kr,getApp:()=>Fn,getApps:()=>Er,initializeApp:()=>xr,onLog:()=>hr,registerVersion:()=>Kn,setLogLevel:()=>Ei});var g=k(5861),z=k(4537),H=k(7879),Ae=k(9058),Ce=k(1878);class De{constructor(Je){this.container=Je}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function Ue($t){const Je=$t.getComponent();return"VERSION"===Je?.type}(Gt)){const Nt=Gt.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(Gt=>Gt).join(" ")}}const ke="@firebase/app",ye=new H.Yd("@firebase/app"),ht="[DEFAULT]",Dt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,It=new Map;function tt($t,Je){try{$t.container.addComponent(Je)}catch(Gt){ye.debug(`Component ${Je.name} failed to register with FirebaseApp ${$t.name}`,Gt)}}function Ee($t,Je){$t.container.addOrOverwriteComponent(Je)}function Ve($t){const Je=$t.name;if(It.has(Je))return ye.debug(`There were multiple attempts to register component ${Je}.`),!1;It.set(Je,$t);for(const Gt of rt.values())tt(Gt,$t);return!0}function Te($t,Je){const Gt=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),$t.container.getProvider(Je)}function qe($t,Je,Gt=ht){Te($t,Je).clearInstance(Gt)}function jt(){It.clear()}const hn=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(Je,Gt,Nt){this._isDeleted=!1,this._options=Object.assign({},Je),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this.checkDestroyed(),this._automaticDataCollectionEnabled=Je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Je){this._isDeleted=Je}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const Bn="10.4.0";function xr($t,Je={}){let Gt=$t;"object"!=typeof Je&&(Je={name:Je});const Nt=Object.assign({name:ht,automaticDataCollectionEnabled:!1},Je),vn=Nt.name;if("string"!=typeof vn||!vn)throw hn.create("bad-app-name",{appName:String(vn)});if(Gt||(Gt=(0,Ae.aH)()),!Gt)throw hn.create("no-options");const Vn=rt.get(vn);if(Vn){if((0,Ae.vZ)(Gt,Vn.options)&&(0,Ae.vZ)(Nt,Vn.config))return Vn;throw hn.create("duplicate-app",{appName:vn})}const pr=new z.H0(vn);for(const Q of It.values())pr.addComponent(Q);const ve=new Cn(Gt,Nt,pr);return rt.set(vn,ve),ve}function Fn($t=ht){const Je=rt.get($t);if(!Je&&$t===ht&&(0,Ae.aH)())return xr();if(!Je)throw hn.create("no-app",{appName:$t});return Je}function Er(){return Array.from(rt.values())}function kr($t){return ui.apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*($t){const Je=$t.name;rt.has(Je)&&(rt.delete(Je),yield Promise.all($t.container.getProviders().map(Gt=>Gt.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function Kn($t,Je,Gt){var Nt;let vn=null!==(Nt=Dt[$t])&&void 0!==Nt?Nt:$t;Gt&&(vn+=`-${Gt}`);const Vn=vn.match(/\s|\//),pr=Je.match(/\s|\//);if(Vn||pr){const ve=[`Unable to register library "${vn}" with version "${Je}":`];return Vn&&ve.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),Vn&&pr&&ve.push("and"),pr&&ve.push(`version name "${Je}" contains illegal characters (whitespace or "/")`),void ye.warn(ve.join(" "))}Ve(new z.wA(`${vn}-version`,()=>({library:vn,version:Je}),"VERSION"))}function hr($t,Je){if(null!==$t&&"function"!=typeof $t)throw hn.create("invalid-log-argument");(0,H.Am)($t,Je)}function Ei($t){(0,H.Ub)($t)}const yi="firebase-heartbeat-database",kn=1,Wn="firebase-heartbeat-store";let Gn=null;function Tr(){return Gn||(Gn=(0,Ce.X3)(yi,kn,{upgrade:($t,Je)=>{0===Je&&$t.createObjectStore(Wn)}}).catch($t=>{throw hn.create("idb-open",{originalErrorMessage:$t.message})})),Gn}function ai(){return(ai=(0,g.Z)(function*($t){try{return yield(yield Tr()).transaction(Wn).objectStore(Wn).get(qt($t))}catch(Je){if(Je instanceof Ae.ZR)ye.warn(Je.message);else{const Gt=hn.create("idb-get",{originalErrorMessage:Je?.message});ye.warn(Gt.message)}}})).apply(this,arguments)}function Ar($t,Je){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*($t,Je){try{const Nt=(yield Tr()).transaction(Wn,"readwrite");yield Nt.objectStore(Wn).put(Je,qt($t)),yield Nt.done}catch(Gt){if(Gt instanceof Ae.ZR)ye.warn(Gt.message);else{const Nt=hn.create("idb-set",{originalErrorMessage:Gt?.message});ye.warn(Nt.message)}}})).apply(this,arguments)}function qt($t){return`${$t.name}!${$t.options.appId}`}class yr{constructor(Je){this.container=Je,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new di(Gt),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Je=this;return(0,g.Z)(function*(){const Nt=Je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=nr();if(null===Je._heartbeatsCache&&(Je._heartbeatsCache=yield Je._heartbeatsCachePromise),Je._heartbeatsCache.lastSentHeartbeatDate!==vn&&!Je._heartbeatsCache.heartbeats.some(Vn=>Vn.date===vn))return Je._heartbeatsCache.heartbeats.push({date:vn,agent:Nt}),Je._heartbeatsCache.heartbeats=Je._heartbeatsCache.heartbeats.filter(Vn=>{const pr=new Date(Vn.date).valueOf();return Date.now()-pr<=2592e6}),Je._storage.overwrite(Je._heartbeatsCache)})()}getHeartbeatsHeader(){var Je=this;return(0,g.Z)(function*(){if(null===Je._heartbeatsCache&&(yield Je._heartbeatsCachePromise),null===Je._heartbeatsCache||0===Je._heartbeatsCache.heartbeats.length)return"";const Gt=nr(),{heartbeatsToSend:Nt,unsentEntries:vn}=function Si($t,Je=1024){const Gt=[];let Nt=$t.slice();for(const vn of $t){const Vn=Gt.find(pr=>pr.agent===vn.agent);if(Vn){if(Vn.dates.push(vn.date),$r(Gt)>Je){Vn.dates.pop();break}}else if(Gt.push({agent:vn.agent,dates:[vn.date]}),$r(Gt)>Je){Gt.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:Nt}}(Je._heartbeatsCache.heartbeats),Vn=(0,Ae.L)(JSON.stringify({version:2,heartbeats:Nt}));return Je._heartbeatsCache.lastSentHeartbeatDate=Gt,vn.length>0?(Je._heartbeatsCache.heartbeats=vn,yield Je._storage.overwrite(Je._heartbeatsCache)):(Je._heartbeatsCache.heartbeats=[],Je._storage.overwrite(Je._heartbeatsCache)),Vn})()}}function nr(){return(new Date).toISOString().substring(0,10)}class di{constructor(Je){this.app=Je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ae.hl)()&&(0,Ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Je=this;return(0,g.Z)(function*(){return(yield Je._canUseIndexedDBPromise)&&(yield function ir($t){return ai.apply(this,arguments)}(Je.app))||{heartbeats:[]}})()}overwrite(Je){var Gt=this;return(0,g.Z)(function*(){var Nt;if(yield Gt._canUseIndexedDBPromise){const Vn=yield Gt.read();return Ar(Gt.app,{lastSentHeartbeatDate:null!==(Nt=Je.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Vn.lastSentHeartbeatDate,heartbeats:Je.heartbeats})}})()}add(Je){var Gt=this;return(0,g.Z)(function*(){var Nt;if(yield Gt._canUseIndexedDBPromise){const Vn=yield Gt.read();return Ar(Gt.app,{lastSentHeartbeatDate:null!==(Nt=Je.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...Je.heartbeats]})}})()}}function $r($t){return(0,Ae.L)(JSON.stringify({version:2,heartbeats:$t})).length}!function Jr($t){Ve(new z.wA("platform-logger",Je=>new De(Je),"PRIVATE")),Ve(new z.wA("heartbeat",Je=>new yr(Je),"PRIVATE")),Kn(ke,"0.9.19",$t),Kn(ke,"0.9.19","esm2017"),Kn("fire-js","")}("")},4537:(un,it,k)=>{k.d(it,{H0:()=>ke,wA:()=>H,zt:()=>Ce});var g=k(5861),z=k(9058);class H{constructor(ye,Se,Be){this.name=ye,this.instanceFactory=Se,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const Ae="[DEFAULT]";class Ce{constructor(ye,Se){this.name=ye,this.container=Se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const Se=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(Se)){const Be=new z.BH;if(this.instancesDeferred.set(Se,Be),this.isInitialized(Se)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:Se});ut&&Be.resolve(ut)}catch{}}return this.instancesDeferred.get(Se).promise}getImmediate(ye){var Se;const Be=this.normalizeInstanceIdentifier(ye?.identifier),ut=null!==(Se=ye?.optional)&&void 0!==Se&&Se;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(ct){if(ut)return null;throw ct}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function Ue(Oe){return"EAGER"===Oe.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch{}for(const[Se,Be]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(Se);try{const ct=this.getOrInitializeService({instanceIdentifier:ut});Be.resolve(ct)}catch{}}}}clearInstance(ye=Ae){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,g.Z)(function*(){const Se=Array.from(ye.instances.values());yield Promise.all([...Se.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...Se.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=Ae){return this.instances.has(ye)}getOptions(ye=Ae){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:Se={}}=ye,Be=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Be,options:Se});for(const[ct,wt]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(ct)&&wt.resolve(ut);return ut}onInit(ye,Se){var Be;const ut=this.normalizeInstanceIdentifier(Se),ct=null!==(Be=this.onInitCallbacks.get(ut))&&void 0!==Be?Be:new Set;ct.add(ye),this.onInitCallbacks.set(ut,ct);const wt=this.instances.get(ut);return wt&&ye(wt,ut),()=>{ct.delete(ye)}}invokeOnInitCallbacks(ye,Se){const Be=this.onInitCallbacks.get(Se);if(Be)for(const ut of Be)try{ut(ye,Se)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:Se={}}){let Be=this.instances.get(ye);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ye,Oe===Ae?void 0:Oe),options:Se}),this.instances.set(ye,Be),this.instancesOptions.set(ye,Se),this.invokeOnInitCallbacks(Be,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Be)}catch{}var Oe;return Be||null}normalizeInstanceIdentifier(ye=Ae){return this.component?this.component.multipleInstances?ye:Ae:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const Se=this.getProvider(ye.name);if(Se.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);Se.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const Se=new Ce(ye,this);return this.providers.set(ye,Se),Se}getProviders(){return Array.from(this.providers.values())}}},7879:(un,it,k)=>{k.d(it,{Am:()=>Oe,Ub:()=>ke,Yd:()=>Ue,in:()=>z});const g=[];var z=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(z||{});const H={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Ae=z.INFO,Ce={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},De=(ye,Se,...Be)=>{if(Se<ye.logLevel)return;const ut=(new Date).toISOString(),ct=Ce[Se];if(!ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${Se})`);console[ct](`[${ut}]  ${ye.name}:`,...Be)};class Ue{constructor(Se){this.name=Se,this._logLevel=Ae,this._logHandler=De,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(Se){if(!(Se in z))throw new TypeError(`Invalid value "${Se}" assigned to \`logLevel\``);this._logLevel=Se}setLogLevel(Se){this._logLevel="string"==typeof Se?H[Se]:Se}get logHandler(){return this._logHandler}set logHandler(Se){if("function"!=typeof Se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Se}get userLogHandler(){return this._userLogHandler}set userLogHandler(Se){this._userLogHandler=Se}debug(...Se){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Se),this._logHandler(this,z.DEBUG,...Se)}log(...Se){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Se),this._logHandler(this,z.VERBOSE,...Se)}info(...Se){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Se),this._logHandler(this,z.INFO,...Se)}warn(...Se){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Se),this._logHandler(this,z.WARN,...Se)}error(...Se){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Se),this._logHandler(this,z.ERROR,...Se)}}function ke(ye){g.forEach(Se=>{Se.setLogLevel(ye)})}function Oe(ye,Se){for(const Be of g){let ut=null;Se&&Se.level&&(ut=H[Se.level]),Be.userLogHandler=null===ye?null:(ct,wt,...ft)=>{const Ut=ft.map(Ft=>{if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch{return null}}).filter(Ft=>Ft).join(" ");wt>=(ut??ct.logLevel)&&ye({level:z[wt].toLowerCase(),message:Ut,args:ft,type:ct.name})}}}},5597:(un,it,k)=>{k.d(it,{uH:()=>Y});var g=k(5879);function z(M,K){var ae=Object.keys(M);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(M);K&&(fe=fe.filter(function(Me){return Object.getOwnPropertyDescriptor(M,Me).enumerable})),ae.push.apply(ae,fe)}return ae}function H(M){for(var K=1;K<arguments.length;K++){var ae=null!=arguments[K]?arguments[K]:{};K%2?z(Object(ae),!0).forEach(function(fe){Oe(M,fe,ae[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(ae)):z(Object(ae)).forEach(function(fe){Object.defineProperty(M,fe,Object.getOwnPropertyDescriptor(ae,fe))})}return M}function Ae(M){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(M)}function Ue(M,K){for(var ae=0;ae<K.length;ae++){var fe=K[ae];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(M,fe.key,fe)}}function Oe(M,K,ae){return K in M?Object.defineProperty(M,K,{value:ae,enumerable:!0,configurable:!0,writable:!0}):M[K]=ae,M}function Be(M,K){return function wt(M){if(Array.isArray(M))return M}(M)||function Ut(M,K){var ae=null==M?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(null!=ae){var nt,At,fe=[],Me=!0,st=!1;try{for(ae=ae.call(M);!(Me=(nt=ae.next()).done)&&(fe.push(nt.value),!K||fe.length!==K);Me=!0);}catch(Jt){st=!0,At=Jt}finally{try{!Me&&null!=ae.return&&ae.return()}finally{if(st)throw At}}return fe}}(M,K)||Ft(M,K)||function Le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(M){return function ct(M){if(Array.isArray(M))return Ye(M)}(M)||function ft(M){if(typeof Symbol<"u"&&null!=M[Symbol.iterator]||null!=M["@@iterator"])return Array.from(M)}(M)||Ft(M)||function Qt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(M,K){if(M){if("string"==typeof M)return Ye(M,K);var ae=Object.prototype.toString.call(M).slice(8,-1);if("Object"===ae&&M.constructor&&(ae=M.constructor.name),"Map"===ae||"Set"===ae)return Array.from(M);if("Arguments"===ae||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return Ye(M,K)}}function Ye(M,K){(null==K||K>M.length)&&(K=M.length);for(var ae=0,fe=new Array(K);ae<K;ae++)fe[ae]=M[ae];return fe}var Qe=function(){},He={},vt={},Pt=null,Ge={mark:Qe,measure:Qe};try{typeof window<"u"&&(He=window),typeof document<"u"&&(vt=document),typeof MutationObserver<"u"&&(Pt=MutationObserver),typeof performance<"u"&&(Ge=performance)}catch{}var Dt,rt,It,tt,Ee,Bt=(He.navigator||{}).userAgent,Et=void 0===Bt?"":Bt,Nn=He,yn=vt,er=Pt,rr=Ge,Sr=!!yn.documentElement&&!!yn.head&&"function"==typeof yn.addEventListener&&"function"==typeof yn.createElement,ht=~Et.indexOf("MSIE")||~Et.indexOf("Trident/"),Ve="___FONT_AWESOME___",qe="fa",jt="svg-inline--fa",en="data-fa-i2svg",hn="data-fa-pseudo-element",Cn="data-fa-pseudo-element-pending",Bn="data-prefix",xr="data-icon",Fn="fontawesome-i2svg",Er="async",kr=["HTML","HEAD","STYLE","SCRIPT"],ui=function(){try{return!0}catch{return!1}}(),Kn="classic",hr="sharp",Ei=[Kn,hr];function yi(M){return new Proxy(M,{get:function(ae,fe){return fe in ae?ae[fe]:ae[Kn]}})}var kn=yi((Oe(Dt={},Kn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Oe(Dt,hr,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Dt)),Wn=yi((Oe(rt={},Kn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Oe(rt,hr,{solid:"fass",regular:"fasr",light:"fasl"}),rt)),Gn=yi((Oe(It={},Kn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Oe(It,hr,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),It)),Tr=yi((Oe(tt={},Kn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Oe(tt,hr,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),tt)),ir=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,ai="fa-layers-text",Ar=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Lr=yi((Oe(Ee={},Kn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Oe(Ee,hr,{900:"fass",400:"fasr",300:"fasl"}),Ee)),qt=[1,2,3,4,5,6,7,8,9,10],ur=qt.concat([11,12,13,14,15,16,17,18,19,20]),Qr=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],yr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},nr=new Set;Object.keys(Wn[Kn]).map(nr.add.bind(nr)),Object.keys(Wn[hr]).map(nr.add.bind(nr));var Si=[].concat(Ei,ut(nr),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",yr.GROUP,yr.SWAP_OPACITY,yr.PRIMARY,yr.SECONDARY]).concat(qt.map(function(M){return"".concat(M,"x")})).concat(ur.map(function(M){return"w-".concat(M)})),di=Nn.FontAwesomeConfig||{};yn&&"function"==typeof yn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(M){var K=Be(M,2),fe=K[1],Me=function Jr(M){return""===M||"false"!==M&&("true"===M||M)}(function $r(M){var K=yn.querySelector("script["+M+"]");if(K)return K.getAttribute(M)}(K[0]));null!=Me&&(di[fe]=Me)});var Je={styleDefault:"solid",familyDefault:"classic",cssPrefix:qe,replacementClass:jt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};di.familyPrefix&&(di.cssPrefix=di.familyPrefix);var Gt=H(H({},Je),di);Gt.autoReplaceSvg||(Gt.observeMutations=!1);var Nt={};Object.keys(Je).forEach(function(M){Object.defineProperty(Nt,M,{enumerable:!0,set:function(ae){Gt[M]=ae,vn.forEach(function(fe){return fe(Nt)})},get:function(){return Gt[M]}})}),Object.defineProperty(Nt,"familyPrefix",{enumerable:!0,set:function(K){Gt.cssPrefix=K,vn.forEach(function(ae){return ae(Nt)})},get:function(){return Gt.cssPrefix}}),Nn.FontAwesomeConfig=Nt;var vn=[],ve={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},X="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pe(){for(var M=12,K="";M-- >0;)K+=X[62*Math.random()|0];return K}function de(M){for(var K=[],ae=(M||[]).length>>>0;ae--;)K[ae]=M[ae];return K}function je(M){return M.classList?de(M.classList):(M.getAttribute("class")||"").split(" ").filter(function(K){return K})}function St(M){return"".concat(M).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Un(M){return Object.keys(M||{}).reduce(function(K,ae){return K+"".concat(ae,": ").concat(M[ae].trim(),";")},"")}function dn(M){return M.size!==ve.size||M.x!==ve.x||M.y!==ve.y||M.rotate!==ve.rotate||M.flipX||M.flipY}var Yr=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function dt(){var M=qe,K=jt,ae=Nt.cssPrefix,fe=Nt.replacementClass,Me=Yr;if(ae!==M||fe!==K){var st=new RegExp("\\.".concat(M,"\\-"),"g"),nt=new RegExp("\\--".concat(M,"\\-"),"g"),At=new RegExp("\\.".concat(K),"g");Me=Me.replace(st,".".concat(ae,"-")).replace(nt,"--".concat(ae,"-")).replace(At,".".concat(fe))}return Me}var ze=!1;function Rt(){Nt.autoAddCss&&!ze&&(function Q(M){if(M&&Sr){var K=yn.createElement("style");K.setAttribute("type","text/css"),K.innerHTML=M;for(var ae=yn.head.childNodes,fe=null,Me=ae.length-1;Me>-1;Me--){var st=ae[Me],nt=(st.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(nt)>-1&&(fe=st)}yn.head.insertBefore(K,fe)}}(dt()),ze=!0)}var Ot={mixout:function(){return{dom:{css:dt,insertCss:Rt}}},hooks:function(){return{beforeDOMElementCreation:function(){Rt()},beforeI2svg:function(){Rt()}}}},fn=Nn||{};fn[Ve]||(fn[Ve]={}),fn[Ve].styles||(fn[Ve].styles={}),fn[Ve].hooks||(fn[Ve].hooks={}),fn[Ve].shims||(fn[Ve].shims=[]);var sn=fn[Ve],Hn=[],Pr=!1;function Ai(M){var K=M.tag,ae=M.attributes,fe=void 0===ae?{}:ae,Me=M.children,st=void 0===Me?[]:Me;return"string"==typeof M?St(M):"<".concat(K," ").concat(function tn(M){return Object.keys(M||{}).reduce(function(K,ae){return K+"".concat(ae,'="').concat(St(M[ae]),'" ')},"").trim()}(fe),">").concat(st.map(Ai).join(""),"</").concat(K,">")}function ks(M,K,ae){if(M&&M[K]&&M[K][ae])return{prefix:K,iconName:ae,icon:M[K][ae]}}Sr&&((Pr=(yn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(yn.readyState))||yn.addEventListener("DOMContentLoaded",function M(){yn.removeEventListener("DOMContentLoaded",M),Pr=1,Hn.map(function(K){return K()})}));var vi=function(K,ae,fe,Me){var Jt,mn,on,st=Object.keys(K),nt=st.length,At=void 0!==Me?function(K,ae){return function(fe,Me,st,nt){return K.call(ae,fe,Me,st,nt)}}(ae,Me):ae;for(void 0===fe?(Jt=1,on=K[st[0]]):(Jt=0,on=fe);Jt<nt;Jt++)on=At(on,K[mn=st[Jt]],mn,K);return on};function Ds(M){var K=function ao(M){for(var K=[],ae=0,fe=M.length;ae<fe;){var Me=M.charCodeAt(ae++);if(Me>=55296&&Me<=56319&&ae<fe){var st=M.charCodeAt(ae++);56320==(64512&st)?K.push(((1023&Me)<<10)+(1023&st)+65536):(K.push(Me),ae--)}else K.push(Me)}return K}(M);return 1===K.length?K[0].toString(16):null}function ii(M){return Object.keys(M).reduce(function(K,ae){var fe=M[ae];return fe.icon?K[fe.iconName]=fe.icon:K[ae]=fe,K},{})}function Ri(M,K){var fe=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,Me=void 0!==fe&&fe,st=ii(K);"function"!=typeof sn.hooks.addPack||Me?sn.styles[M]=H(H({},sn.styles[M]||{}),st):sn.hooks.addPack(M,ii(K)),"fas"===M&&Ri("fa",K)}var br,ji,Gr,Ki=sn.styles,qi=sn.shims,Ls=(Oe(br={},Kn,Object.values(Gn[Kn])),Oe(br,hr,Object.values(Gn[hr])),br),Zi=null,Fs={},Eo={},Wo={},Xa={},lo={},fa=(Oe(ji={},Kn,Object.keys(kn[Kn])),Oe(ji,hr,Object.keys(kn[hr])),ji);var qo=function(){var K=function(st){return vi(Ki,function(nt,At,Jt){return nt[Jt]=vi(At,st,{}),nt},{})};Fs=K(function(Me,st,nt){return st[3]&&(Me[st[3]]=nt),st[2]&&st[2].filter(function(Jt){return"number"==typeof Jt}).forEach(function(Jt){Me[Jt.toString(16)]=nt}),Me}),Eo=K(function(Me,st,nt){return Me[nt]=nt,st[2]&&st[2].filter(function(Jt){return"string"==typeof Jt}).forEach(function(Jt){Me[Jt]=nt}),Me}),lo=K(function(Me,st,nt){var At=st[2];return Me[nt]=nt,At.forEach(function(Jt){Me[Jt]=nt}),Me});var ae="far"in Ki||Nt.autoFetchSvg,fe=vi(qi,function(Me,st){var nt=st[0],At=st[1],Jt=st[2];return"far"===At&&!ae&&(At="fas"),"string"==typeof nt&&(Me.names[nt]={prefix:At,iconName:Jt}),"number"==typeof nt&&(Me.unicodes[nt.toString(16)]={prefix:At,iconName:Jt}),Me},{names:{},unicodes:{}});Wo=fe.names,Xa=fe.unicodes,Zi=ot(Nt.styleDefault,{family:Nt.familyDefault})};function Ji(M,K){return(Fs[M]||{})[K]}function hi(M,K){return(lo[M]||{})[K]}function Ao(M){return Wo[M]||{prefix:null,iconName:null}}function Fi(){return Zi}(function Vn(M){vn.push(M)})(function(M){Zi=ot(M.styleDefault,{family:Nt.familyDefault})}),qo();var lt=function(){return{prefix:null,iconName:null,rest:[]}};function ot(M){var ae=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,fe=void 0===ae?Kn:ae;return Wn[fe][M]||Wn[fe][kn[fe][M]]||(M in sn.styles?M:null)||null}var bt=(Oe(Gr={},Kn,Object.keys(Gn[Kn])),Oe(Gr,hr,Object.keys(Gn[hr])),Gr);function Zt(M){var K,fe=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,Me=void 0!==fe&&fe,st=(Oe(K={},Kn,"".concat(Nt.cssPrefix,"-").concat(Kn)),Oe(K,hr,"".concat(Nt.cssPrefix,"-").concat(hr)),K),nt=null,At=Kn;(M.includes(st[Kn])||M.some(function(mn){return bt[Kn].includes(mn)}))&&(At=Kn),(M.includes(st[hr])||M.some(function(mn){return bt[hr].includes(mn)}))&&(At=hr);var Jt=M.reduce(function(mn,on){var jn=function Ko(M,K){var ae=K.split("-"),fe=ae[0],Me=ae.slice(1).join("-");return fe!==M||""===Me||function Hi(M){return~Si.indexOf(M)}(Me)?null:Me}(Nt.cssPrefix,on);if(Ki[on]?(on=Ls[At].includes(on)?Tr[At][on]:on,nt=on,mn.prefix=on):fa[At].indexOf(on)>-1?(nt=on,mn.prefix=ot(on,{family:At})):jn?mn.iconName=jn:on!==Nt.replacementClass&&on!==st[Kn]&&on!==st[hr]&&mn.rest.push(on),!Me&&mn.prefix&&mn.iconName){var mr="fa"===nt?Ao(mn.iconName):{},Ur=hi(mn.prefix,mn.iconName);mr.prefix&&(nt=null),mn.iconName=mr.iconName||Ur||mn.iconName,mn.prefix=mr.prefix||mn.prefix,"far"===mn.prefix&&!Ki.far&&Ki.fas&&!Nt.autoFetchSvg&&(mn.prefix="fas")}return mn},lt());return(M.includes("fa-brands")||M.includes("fab"))&&(Jt.prefix="fab"),(M.includes("fa-duotone")||M.includes("fad"))&&(Jt.prefix="fad"),!Jt.prefix&&At===hr&&(Ki.fass||Nt.autoFetchSvg)&&(Jt.prefix="fass",Jt.iconName=hi(Jt.prefix,Jt.iconName)||Jt.iconName),("fa"===Jt.prefix||"fa"===nt)&&(Jt.prefix=Fi()||"fas"),Jt}var Wt=function(){function M(){(function De(M,K){if(!(M instanceof K))throw new TypeError("Cannot call a class as a function")})(this,M),this.definitions={}}return function ke(M,K,ae){K&&Ue(M.prototype,K),ae&&Ue(M,ae),Object.defineProperty(M,"prototype",{writable:!1})}(M,[{key:"add",value:function(){for(var ae=this,fe=arguments.length,Me=new Array(fe),st=0;st<fe;st++)Me[st]=arguments[st];var nt=Me.reduce(this._pullDefinitions,{});Object.keys(nt).forEach(function(At){ae.definitions[At]=H(H({},ae.definitions[At]||{}),nt[At]),Ri(At,nt[At]);var Jt=Gn[Kn][At];Jt&&Ri(Jt,nt[At]),qo()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(ae,fe){var Me=fe.prefix&&fe.iconName&&fe.icon?{0:fe}:fe;return Object.keys(Me).map(function(st){var nt=Me[st],At=nt.prefix,Jt=nt.iconName,mn=nt.icon,on=mn[2];ae[At]||(ae[At]={}),on.length>0&&on.forEach(function(jn){"string"==typeof jn&&(ae[At][jn]=mn)}),ae[At][Jt]=mn}),ae}}]),M}(),Sn=[],lr={},vr={},dr=Object.keys(vr);function co(M,K){for(var ae=arguments.length,fe=new Array(ae>2?ae-2:0),Me=2;Me<ae;Me++)fe[Me-2]=arguments[Me];return(lr[M]||[]).forEach(function(nt){K=nt.apply(null,[K].concat(fe))}),K}function Ii(M){for(var K=arguments.length,ae=new Array(K>1?K-1:0),fe=1;fe<K;fe++)ae[fe-1]=arguments[fe];(lr[M]||[]).forEach(function(st){st.apply(null,ae)})}function vs(){var M=arguments[0],K=Array.prototype.slice.call(arguments,1);return vr[M]?vr[M].apply(null,K):void 0}function Es(M){"fa"===M.prefix&&(M.prefix="fas");var K=M.iconName,ae=M.prefix||Fi();if(K)return K=hi(ae,K)||K,ks(Xr.definitions,ae,K)||ks(sn.styles,ae,K)}var Xr=new Wt,Qn={i2svg:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Sr?(Ii("beforeI2svg",K),vs("pseudoElements2svg",K),vs("i2svg",K)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=K.autoReplaceSvgRoot;!1===Nt.autoReplaceSvg&&(Nt.autoReplaceSvg=!0),Nt.observeMutations=!0,function Rr(M){Sr&&(Pr?setTimeout(M,0):Hn.push(M))}(function(){Ro({autoReplaceSvgRoot:ae}),Ii("watch",K)})}},Zn={noAuto:function(){Nt.autoReplaceSvg=!1,Nt.observeMutations=!1,Ii("noAuto")},config:Nt,dom:Qn,parse:{icon:function(K){if(null===K)return null;if("object"===Ae(K)&&K.prefix&&K.iconName)return{prefix:K.prefix,iconName:hi(K.prefix,K.iconName)||K.iconName};if(Array.isArray(K)&&2===K.length){var ae=0===K[1].indexOf("fa-")?K[1].slice(3):K[1],fe=ot(K[0]);return{prefix:fe,iconName:hi(fe,ae)||ae}}if("string"==typeof K&&(K.indexOf("".concat(Nt.cssPrefix,"-"))>-1||K.match(ir))){var Me=Zt(K.split(" "),{skipLookups:!0});return{prefix:Me.prefix||Fi(),iconName:hi(Me.prefix,Me.iconName)||Me.iconName}}if("string"==typeof K){var st=Fi();return{prefix:st,iconName:hi(st,K)||K}}}},library:Xr,findIconDefinition:Es,toHtml:Ai},Ro=function(){var ae=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,fe=void 0===ae?yn:ae;(Object.keys(sn.styles).length>0||Nt.autoFetchSvg)&&Sr&&Nt.autoReplaceSvg&&Zn.dom.i2svg({node:fe})};function ki(M,K){return Object.defineProperty(M,"abstract",{get:K}),Object.defineProperty(M,"html",{get:function(){return M.abstract.map(function(fe){return Ai(fe)})}}),Object.defineProperty(M,"node",{get:function(){if(Sr){var fe=yn.createElement("div");return fe.innerHTML=M.html,fe.children}}}),M}function ds(M){var K=M.icons,ae=K.main,fe=K.mask,Me=M.prefix,st=M.iconName,nt=M.transform,At=M.symbol,Jt=M.title,mn=M.maskId,on=M.titleId,jn=M.extra,mr=M.watchable,Ur=void 0!==mr&&mr,ei=fe.found?fe:ae,ts=ei.width,Ui=ei.height,Ys="fak"===Me,ss=[Nt.replacementClass,st?"".concat(Nt.cssPrefix,"-").concat(st):""].filter(function(ns){return-1===jn.classes.indexOf(ns)}).filter(function(ns){return""!==ns||!!ns}).concat(jn.classes).join(" "),Pi={children:[],attributes:H(H({},jn.attributes),{},{"data-prefix":Me,"data-icon":st,class:ss,role:jn.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ts," ").concat(Ui)})},Hs=Ys&&!~jn.classes.indexOf("fa-fw")?{width:"".concat(ts/Ui*16*.0625,"em")}:{};Ur&&(Pi.attributes[en]=""),Jt&&(Pi.children.push({tag:"title",attributes:{id:Pi.attributes["aria-labelledby"]||"title-".concat(on||pe())},children:[Jt]}),delete Pi.attributes.title);var cr=H(H({},Pi),{},{prefix:Me,iconName:st,main:ae,mask:fe,maskId:mn,transform:nt,symbol:At,styles:H(H({},Hs),jn.styles)}),wa=fe.found&&ae.found?vs("generateAbstractMask",cr)||{children:[],attributes:{}}:vs("generateAbstractIcon",cr)||{children:[],attributes:{}},Bc=wa.attributes;return cr.children=wa.children,cr.attributes=Bc,At?function wi(M){var ae=M.iconName,fe=M.children,Me=M.attributes,st=M.symbol,nt=!0===st?"".concat(M.prefix,"-").concat(Nt.cssPrefix,"-").concat(ae):st;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:H(H({},Me),{},{id:nt}),children:fe}]}]}(cr):function is(M){var K=M.children,ae=M.main,fe=M.mask,Me=M.attributes,st=M.styles,nt=M.transform;if(dn(nt)&&ae.found&&!fe.found){var mn={x:ae.width/ae.height/2,y:.5};Me.style=Un(H(H({},st),{},{"transform-origin":"".concat(mn.x+nt.x/16,"em ").concat(mn.y+nt.y/16,"em")}))}return[{tag:"svg",attributes:Me,children:K}]}(cr)}function oa(M){var K=M.content,ae=M.width,fe=M.height,Me=M.transform,st=M.title,nt=M.extra,At=M.watchable,Jt=void 0!==At&&At,mn=H(H(H({},nt.attributes),st?{title:st}:{}),{},{class:nt.classes.join(" ")});Jt&&(mn[en]="");var on=H({},nt.styles);dn(Me)&&(on.transform=function qn(M){var K=M.transform,ae=M.width,Me=M.height,st=void 0===Me?16:Me,nt=M.startCentered,At=void 0!==nt&&nt,Jt="";return Jt+=At&&ht?"translate(".concat(K.x/16-(void 0===ae?16:ae)/2,"em, ").concat(K.y/16-st/2,"em) "):At?"translate(calc(-50% + ".concat(K.x/16,"em), calc(-50% + ").concat(K.y/16,"em)) "):"translate(".concat(K.x/16,"em, ").concat(K.y/16,"em) "),(Jt+="scale(".concat(K.size/16*(K.flipX?-1:1),", ").concat(K.size/16*(K.flipY?-1:1),") "))+"rotate(".concat(K.rotate,"deg) ")}({transform:Me,startCentered:!0,width:ae,height:fe}),on["-webkit-transform"]=on.transform);var jn=Un(on);jn.length>0&&(mn.style=jn);var mr=[];return mr.push({tag:"span",attributes:mn,children:[K]}),st&&mr.push({tag:"span",attributes:{class:"sr-only"},children:[st]}),mr}var li=sn.styles;function wo(M){var K=M[0],ae=M[1],st=Be(M.slice(4),1)[0];return{found:!0,width:K,height:ae,icon:Array.isArray(st)?{tag:"g",attributes:{class:"".concat(Nt.cssPrefix,"-").concat(yr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Nt.cssPrefix,"-").concat(yr.SECONDARY),fill:"currentColor",d:st[0]}},{tag:"path",attributes:{class:"".concat(Nt.cssPrefix,"-").concat(yr.PRIMARY),fill:"currentColor",d:st[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:st}}}}var uo={found:!1,width:512,height:512};function Vr(M,K){var ae=K;return"fa"===K&&null!==Nt.styleDefault&&(K=Fi()),new Promise(function(fe,Me){if(vs("missingIconAbstract"),"fa"===ae){var nt=Ao(M)||{};M=nt.iconName||M,K=nt.prefix||K}if(M&&K&&li[K]&&li[K][M])return fe(wo(li[K][M]));(function bi(M,K){!ui&&!Nt.showMissingIcons&&M&&console.error('Icon with name "'.concat(M,'" and prefix "').concat(K,'" is missing.'))})(M,K),fe(H(H({},uo),{},{icon:Nt.showMissingIcons&&M&&vs("missingIconAbstract")||{}}))})}var Ss=function(){},Fr=Nt.measurePerformance&&rr&&rr.mark&&rr.measure?rr:{mark:Ss,measure:Ss},Is='FA "6.4.2"',Zo=function(K){Fr.mark("".concat(Is," ").concat(K," ends")),Fr.measure("".concat(Is," ").concat(K),"".concat(Is," ").concat(K," begins"),"".concat(Is," ").concat(K," ends"))},Ms={begin:function(K){return Fr.mark("".concat(Is," ").concat(K," begins")),function(){return Zo(K)}},end:Zo},ws=function(){};function bo(M){return"string"==typeof(M.getAttribute?M.getAttribute(en):null)}function Vs(M){return yn.createElementNS("http://www.w3.org/2000/svg",M)}function ps(M){return yn.createElement(M)}function bs(M){var ae=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,fe=void 0===ae?"svg"===M.tag?Vs:ps:ae;if("string"==typeof M)return yn.createTextNode(M);var Me=fe(M.tag);return Object.keys(M.attributes||[]).forEach(function(nt){Me.setAttribute(nt,M.attributes[nt])}),(M.children||[]).forEach(function(nt){Me.appendChild(bs(nt,{ceFn:fe}))}),Me}var ho={replace:function(K){var ae=K[0];if(ae.parentNode)if(K[1].forEach(function(Me){ae.parentNode.insertBefore(bs(Me),ae)}),null===ae.getAttribute(en)&&Nt.keepOriginalSource){var fe=yn.createComment(function Xi(M){var K=" ".concat(M.outerHTML," ");return"".concat(K,"Font Awesome fontawesome.com ")}(ae));ae.parentNode.replaceChild(fe,ae)}else ae.remove()},nest:function(K){var ae=K[0],fe=K[1];if(~je(ae).indexOf(Nt.replacementClass))return ho.replace(K);var Me=new RegExp("".concat(Nt.cssPrefix,"-.*"));if(delete fe[0].attributes.id,fe[0].attributes.class){var st=fe[0].attributes.class.split(" ").reduce(function(At,Jt){return Jt===Nt.replacementClass||Jt.match(Me)?At.toSvg.push(Jt):At.toNode.push(Jt),At},{toNode:[],toSvg:[]});fe[0].attributes.class=st.toSvg.join(" "),0===st.toNode.length?ae.removeAttribute("class"):ae.setAttribute("class",st.toNode.join(" "))}var nt=fe.map(function(At){return Ai(At)}).join("\n");ae.setAttribute(en,""),ae.innerHTML=nt}};function Bs(M){M()}function Ba(M,K){var ae="function"==typeof K?K:ws;if(0===M.length)ae();else{var fe=Bs;Nt.mutateApproach===Er&&(fe=Nn.requestAnimationFrame||Bs),fe(function(){var Me=function Us(){return!0===Nt.autoReplaceSvg?ho.replace:ho[Nt.autoReplaceSvg]||ho.replace}(),st=Ms.begin("mutate");M.map(Me),st(),ae()})}}var $i=!1;function fi(){$i=!0}function Yo(){$i=!1}var js=null;function es(M){if(er&&Nt.observeMutations){var K=M.treeCallback,ae=void 0===K?ws:K,fe=M.nodeCallback,Me=void 0===fe?ws:fe,st=M.pseudoElementsCallback,nt=void 0===st?ws:st,At=M.observeMutationsRoot,Jt=void 0===At?yn:At;js=new er(function(mn){if(!$i){var on=Fi();de(mn).forEach(function(jn){if("childList"===jn.type&&jn.addedNodes.length>0&&!bo(jn.addedNodes[0])&&(Nt.searchPseudoElements&&nt(jn.target),ae(jn.target)),"attributes"===jn.type&&jn.target.parentNode&&Nt.searchPseudoElements&&nt(jn.target.parentNode),"attributes"===jn.type&&bo(jn.target)&&~Qr.indexOf(jn.attributeName))if("class"===jn.attributeName&&function Cr(M){var K=M.getAttribute?M.getAttribute(Bn):null,ae=M.getAttribute?M.getAttribute(xr):null;return K&&ae}(jn.target)){var mr=Zt(je(jn.target)),ei=mr.iconName;jn.target.setAttribute(Bn,mr.prefix||on),ei&&jn.target.setAttribute(xr,ei)}else(function Va(M){return M&&M.classList&&M.classList.contains&&M.classList.contains(Nt.replacementClass)})(jn.target)&&Me(jn.target)})}}),Sr&&js.observe(Jt,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Qo(M){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},ae=function Mo(M){var K=M.getAttribute("data-prefix"),ae=M.getAttribute("data-icon"),fe=void 0!==M.innerText?M.innerText.trim():"",Me=Zt(je(M));return Me.prefix||(Me.prefix=Fi()),K&&ae&&(Me.prefix=K,Me.iconName=ae),Me.iconName&&Me.prefix||(Me.prefix&&fe.length>0&&(Me.iconName=function Io(M,K){return(Eo[M]||{})[K]}(Me.prefix,M.innerText)||Ji(Me.prefix,Ds(M.innerText))),!Me.iconName&&Nt.autoFetchSvg&&M.firstChild&&M.firstChild.nodeType===Node.TEXT_NODE&&(Me.iconName=M.firstChild.data)),Me}(M),fe=ae.iconName,Me=ae.prefix,st=ae.rest,nt=function ja(M){var K=de(M.attributes).reduce(function(Me,st){return"class"!==Me.name&&"style"!==Me.name&&(Me[st.name]=st.value),Me},{}),ae=M.getAttribute("title"),fe=M.getAttribute("data-fa-title-id");return Nt.autoA11y&&(ae?K["aria-labelledby"]="".concat(Nt.replacementClass,"-title-").concat(fe||pe()):(K["aria-hidden"]="true",K.focusable="false")),K}(M),At=co("parseNodeAttributes",{},M),Jt=K.styleParser?function pa(M){var K=M.getAttribute("style"),ae=[];return K&&(ae=K.split(";").reduce(function(fe,Me){var st=Me.split(":"),nt=st[0],At=st.slice(1);return nt&&At.length>0&&(fe[nt]=At.join(":").trim()),fe},{})),ae}(M):[];return H({iconName:fe,title:M.getAttribute("title"),titleId:M.getAttribute("data-fa-title-id"),prefix:Me,transform:ve,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:st,styles:Jt,attributes:nt}},At)}var Fo=sn.styles;function ne(M){var K="nest"===Nt.autoReplaceSvg?Qo(M,{styleParser:!1}):Qo(M);return~K.extra.classes.indexOf(ai)?vs("generateLayersText",M,K):vs("generateSvgReplacementMutation",M,K)}var q=new Set;function be(M){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Sr)return Promise.resolve();var ae=yn.documentElement.classList,fe=function(jn){return ae.add("".concat(Fn,"-").concat(jn))},Me=function(jn){return ae.remove("".concat(Fn,"-").concat(jn))},st=Nt.autoFetchSvg?q:Ei.map(function(on){return"fa-".concat(on)}).concat(Object.keys(Fo));st.includes("fa")||st.push("fa");var nt=[".".concat(ai,":not([").concat(en,"])")].concat(st.map(function(on){return".".concat(on,":not([").concat(en,"])")})).join(", ");if(0===nt.length)return Promise.resolve();var At=[];try{At=de(M.querySelectorAll(nt))}catch{}if(!(At.length>0))return Promise.resolve();fe("pending"),Me("complete");var Jt=Ms.begin("onTree"),mn=At.reduce(function(on,jn){try{var mr=ne(jn);mr&&on.push(mr)}catch(Ur){ui||"MissingIcon"===Ur.name&&console.error(Ur)}return on},[]);return new Promise(function(on,jn){Promise.all(mn).then(function(mr){Ba(mr,function(){fe("active"),fe("complete"),Me("pending"),"function"==typeof K&&K(),Jt(),on()})}).catch(function(mr){Jt(),jn(mr)})})}function $(M){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ne(M).then(function(ae){ae&&Ba([ae],K)})}Ei.map(function(M){q.add("fa-".concat(M))}),Object.keys(kn[Kn]).map(q.add.bind(q)),Object.keys(kn[hr]).map(q.add.bind(q)),q=ut(q);var Xe=function(K){var ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fe=ae.transform,Me=void 0===fe?ve:fe,st=ae.symbol,nt=void 0!==st&&st,At=ae.mask,Jt=void 0===At?null:At,mn=ae.maskId,on=void 0===mn?null:mn,jn=ae.title,mr=void 0===jn?null:jn,Ur=ae.titleId,ei=void 0===Ur?null:Ur,ts=ae.classes,Ui=void 0===ts?[]:ts,Ys=ae.attributes,ss=void 0===Ys?{}:Ys,Pi=ae.styles,Hs=void 0===Pi?{}:Pi;if(K){var cr=K.prefix,wa=K.iconName,rl=K.icon;return ki(H({type:"icon"},K),function(){return Ii("beforeDOMElementCreation",{iconDefinition:K,params:ae}),Nt.autoA11y&&(mr?ss["aria-labelledby"]="".concat(Nt.replacementClass,"-title-").concat(ei||pe()):(ss["aria-hidden"]="true",ss.focusable="false")),ds({icons:{main:wo(rl),mask:Jt?wo(Jt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:cr,iconName:wa,transform:H(H({},ve),Me),symbol:nt,title:mr,maskId:on,titleId:ei,extra:{attributes:ss,styles:Hs,classes:Ui}})})}},et={mixout:function(){return{icon:(M=Xe,function(K){var ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fe=(K||{}).icon?K:Es(K||{}),Me=ae.mask;return Me&&(Me=(Me||{}).icon?Me:Es(Me||{})),M(fe,H(H({},ae),{},{mask:Me}))})};var M},hooks:function(){return{mutationObserverCallbacks:function(ae){return ae.treeCallback=be,ae.nodeCallback=$,ae}}},provides:function(K){K.i2svg=function(ae){var fe=ae.node,st=ae.callback;return be(void 0===fe?yn:fe,void 0===st?function(){}:st)},K.generateSvgReplacementMutation=function(ae,fe){var Me=fe.iconName,st=fe.title,nt=fe.titleId,At=fe.prefix,Jt=fe.transform,mn=fe.symbol,on=fe.mask,jn=fe.maskId,mr=fe.extra;return new Promise(function(Ur,ei){Promise.all([Vr(Me,At),on.iconName?Vr(on.iconName,on.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ts){var Ui=Be(ts,2);Ur([ae,ds({icons:{main:Ui[0],mask:Ui[1]},prefix:At,iconName:Me,transform:Jt,symbol:mn,maskId:jn,title:st,titleId:nt,extra:mr,watchable:!0})])}).catch(ei)})},K.generateAbstractIcon=function(ae){var mn,fe=ae.children,Me=ae.attributes,st=ae.main,nt=ae.transform,Jt=Un(ae.styles);return Jt.length>0&&(Me.style=Jt),dn(nt)&&(mn=vs("generateAbstractTransformGrouping",{main:st,transform:nt,containerWidth:st.width,iconWidth:st.width})),fe.push(mn||st.icon),{children:fe,attributes:Me}}}},xt={mixout:function(){return{layer:function(ae){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Me=fe.classes,st=void 0===Me?[]:Me;return ki({type:"layer"},function(){Ii("beforeDOMElementCreation",{assembler:ae,params:fe});var nt=[];return ae(function(At){Array.isArray(At)?At.map(function(Jt){nt=nt.concat(Jt.abstract)}):nt=nt.concat(At.abstract)}),[{tag:"span",attributes:{class:["".concat(Nt.cssPrefix,"-layers")].concat(ut(st)).join(" ")},children:nt}]})}}}},bn={mixout:function(){return{counter:function(ae){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Me=fe.title,st=void 0===Me?null:Me,nt=fe.classes,At=void 0===nt?[]:nt,Jt=fe.attributes,mn=void 0===Jt?{}:Jt,on=fe.styles,jn=void 0===on?{}:on;return ki({type:"counter",content:ae},function(){return Ii("beforeDOMElementCreation",{content:ae,params:fe}),function sr(M){var K=M.content,ae=M.title,fe=M.extra,Me=H(H(H({},fe.attributes),ae?{title:ae}:{}),{},{class:fe.classes.join(" ")}),st=Un(fe.styles);st.length>0&&(Me.style=st);var nt=[];return nt.push({tag:"span",attributes:Me,children:[K]}),ae&&nt.push({tag:"span",attributes:{class:"sr-only"},children:[ae]}),nt}({content:ae.toString(),title:st,extra:{attributes:mn,styles:jn,classes:["".concat(Nt.cssPrefix,"-layers-counter")].concat(ut(At))}})})}}}},Ir={mixout:function(){return{text:function(ae){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Me=fe.transform,st=void 0===Me?ve:Me,nt=fe.title,At=void 0===nt?null:nt,Jt=fe.classes,mn=void 0===Jt?[]:Jt,on=fe.attributes,jn=void 0===on?{}:on,mr=fe.styles,Ur=void 0===mr?{}:mr;return ki({type:"text",content:ae},function(){return Ii("beforeDOMElementCreation",{content:ae,params:fe}),oa({content:ae,transform:H(H({},ve),st),title:At,extra:{attributes:jn,styles:Ur,classes:["".concat(Nt.cssPrefix,"-layers-text")].concat(ut(mn))}})})}}},provides:function(K){K.generateLayersText=function(ae,fe){var Me=fe.title,st=fe.transform,nt=fe.extra,At=null,Jt=null;if(ht){var mn=parseInt(getComputedStyle(ae).fontSize,10),on=ae.getBoundingClientRect();At=on.width/mn,Jt=on.height/mn}return Nt.autoA11y&&!Me&&(nt.attributes["aria-hidden"]="true"),Promise.resolve([ae,oa({content:ae.innerHTML,width:At,height:Jt,transform:st,title:Me,extra:nt,watchable:!0})])}}},oi=new RegExp('"',"ug"),Ps=[1105920,1112319];function ma(M,K){var ae="".concat(Cn).concat(K.replace(":","-"));return new Promise(function(fe,Me){if(null!==M.getAttribute(ae))return fe();var nt=de(M.children).filter(function(rl){return rl.getAttribute(hn)===K})[0],At=Nn.getComputedStyle(M,K),Jt=At.getPropertyValue("font-family").match(Ar),mn=At.getPropertyValue("font-weight"),on=At.getPropertyValue("content");if(nt&&!Jt)return M.removeChild(nt),fe();if(Jt&&"none"!==on&&""!==on){var jn=At.getPropertyValue("content"),mr=~["Sharp"].indexOf(Jt[2])?hr:Kn,Ur=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(Jt[2])?Wn[mr][Jt[2].toLowerCase()]:Lr[mr][mn],ei=function Po(M){var K=M.replace(oi,""),ae=function fr(M,K){var Me,ae=M.length,fe=M.charCodeAt(K);return fe>=55296&&fe<=56319&&ae>K+1&&(Me=M.charCodeAt(K+1))>=56320&&Me<=57343?1024*(fe-55296)+Me-56320+65536:fe}(K,0),fe=ae>=Ps[0]&&ae<=Ps[1],Me=2===K.length&&K[0]===K[1];return{value:Ds(Me?K[0]:K),isSecondary:fe||Me}}(jn),ts=ei.value,Ui=ei.isSecondary,Ys=Jt[0].startsWith("FontAwesome"),ss=Ji(Ur,ts),Pi=ss;if(Ys){var Hs=function Lo(M){var K=Xa[M],ae=Ji("fas",M);return K||(ae?{prefix:"fas",iconName:ae}:null)||{prefix:null,iconName:null}}(ts);Hs.iconName&&Hs.prefix&&(ss=Hs.iconName,Ur=Hs.prefix)}if(!ss||Ui||nt&&nt.getAttribute(Bn)===Ur&&nt.getAttribute(xr)===Pi)fe();else{M.setAttribute(ae,Pi),nt&&M.removeChild(nt);var cr=function Hl(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ve,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),wa=cr.extra;wa.attributes[hn]=K,Vr(ss,Ur).then(function(rl){var Bc=ds(H(H({},cr),{},{icons:{main:rl,mask:lt()},prefix:Ur,iconName:Pi,extra:wa,watchable:!0})),ns=yn.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===K?M.insertBefore(ns,M.firstChild):M.appendChild(ns),ns.outerHTML=Bc.map(function(Qs){return Ai(Qs)}).join("\n"),M.removeAttribute(ae),fe()}).catch(Me)}}else fe()})}function Rl(M){return Promise.all([ma(M,"::before"),ma(M,"::after")])}function $l(M){return!(M.parentNode===document.head||~kr.indexOf(M.tagName.toUpperCase())||M.getAttribute(hn)||M.parentNode&&"svg"===M.parentNode.tagName)}function Pa(M){if(Sr)return new Promise(function(K,ae){var fe=de(M.querySelectorAll("*")).filter($l).map(Rl),Me=Ms.begin("searchPseudoElements");fi(),Promise.all(fe).then(function(){Me(),Yo(),K()}).catch(function(){Me(),Yo(),ae()})})}var Ha=!1,As=function(K){return K.toLowerCase().split(" ").reduce(function(fe,Me){var st=Me.toLowerCase().split("-"),nt=st[0],At=st.slice(1).join("-");if(nt&&"h"===At)return fe.flipX=!0,fe;if(nt&&"v"===At)return fe.flipY=!0,fe;if(At=parseFloat(At),isNaN(At))return fe;switch(nt){case"grow":fe.size=fe.size+At;break;case"shrink":fe.size=fe.size-At;break;case"left":fe.x=fe.x-At;break;case"right":fe.x=fe.x+At;break;case"up":fe.y=fe.y-At;break;case"down":fe.y=fe.y+At;break;case"rotate":fe.rotate=fe.rotate+At}return fe},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},_a={x:0,y:0,width:"100%",height:"100%"};function el(M){return M.attributes&&(M.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(M.attributes.fill="black"),M}!function Mi(M,K){var ae=K.mixoutsTo;Sn=M,lr={},Object.keys(vr).forEach(function(fe){-1===dr.indexOf(fe)&&delete vr[fe]}),Sn.forEach(function(fe){var Me=fe.mixout?fe.mixout():{};if(Object.keys(Me).forEach(function(nt){"function"==typeof Me[nt]&&(ae[nt]=Me[nt]),"object"===Ae(Me[nt])&&Object.keys(Me[nt]).forEach(function(At){ae[nt]||(ae[nt]={}),ae[nt][At]=Me[nt][At]})}),fe.hooks){var st=fe.hooks();Object.keys(st).forEach(function(nt){lr[nt]||(lr[nt]=[]),lr[nt].push(st[nt])})}fe.provides&&fe.provides(vr)})}([Ot,et,xt,bn,Ir,{hooks:function(){return{mutationObserverCallbacks:function(ae){return ae.pseudoElementsCallback=Pa,ae}}},provides:function(K){K.pseudoElements2svg=function(ae){var fe=ae.node;Nt.searchPseudoElements&&Pa(void 0===fe?yn:fe)}}},{mixout:function(){return{dom:{unwatch:function(){fi(),Ha=!0}}}},hooks:function(){return{bootstrap:function(){es(co("mutationObserverCallbacks",{}))},noAuto:function(){!function Or(){js&&js.disconnect()}()},watch:function(ae){var fe=ae.observeMutationsRoot;Ha?Yo():es(co("mutationObserverCallbacks",{observeMutationsRoot:fe}))}}}},{mixout:function(){return{parse:{transform:function(ae){return As(ae)}}}},hooks:function(){return{parseNodeAttributes:function(ae,fe){var Me=fe.getAttribute("data-fa-transform");return Me&&(ae.transform=As(Me)),ae}}},provides:function(K){K.generateAbstractTransformGrouping=function(ae){var fe=ae.main,Me=ae.transform,nt=ae.iconWidth,At={transform:"translate(".concat(ae.containerWidth/2," 256)")},Jt="translate(".concat(32*Me.x,", ").concat(32*Me.y,") "),mn="scale(".concat(Me.size/16*(Me.flipX?-1:1),", ").concat(Me.size/16*(Me.flipY?-1:1),") "),on="rotate(".concat(Me.rotate," 0 0)"),Ur={outer:At,inner:{transform:"".concat(Jt," ").concat(mn," ").concat(on)},path:{transform:"translate(".concat(nt/2*-1," -256)")}};return{tag:"g",attributes:H({},Ur.outer),children:[{tag:"g",attributes:H({},Ur.inner),children:[{tag:fe.icon.tag,children:fe.icon.children,attributes:H(H({},fe.icon.attributes),Ur.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(ae,fe){var Me=fe.getAttribute("data-fa-mask"),st=Me?Zt(Me.split(" ").map(function(nt){return nt.trim()})):lt();return st.prefix||(st.prefix=Fi()),ae.mask=st,ae.maskId=fe.getAttribute("data-fa-mask-id"),ae}}},provides:function(K){K.generateAbstractMask=function(ae){var M,fe=ae.children,Me=ae.attributes,st=ae.main,nt=ae.mask,At=ae.maskId,on=st.icon,mr=nt.icon,Ur=function Rn(M){var K=M.transform,fe=M.iconWidth,Me={transform:"translate(".concat(M.containerWidth/2," 256)")},st="translate(".concat(32*K.x,", ").concat(32*K.y,") "),nt="scale(".concat(K.size/16*(K.flipX?-1:1),", ").concat(K.size/16*(K.flipY?-1:1),") "),At="rotate(".concat(K.rotate," 0 0)");return{outer:Me,inner:{transform:"".concat(st," ").concat(nt," ").concat(At)},path:{transform:"translate(".concat(fe/2*-1," -256)")}}}({transform:ae.transform,containerWidth:nt.width,iconWidth:st.width}),ei={tag:"rect",attributes:H(H({},_a),{},{fill:"white"})},ts=on.children?{children:on.children.map(el)}:{},Ui={tag:"g",attributes:H({},Ur.inner),children:[el(H({tag:on.tag,attributes:H(H({},on.attributes),Ur.path)},ts))]},Ys={tag:"g",attributes:H({},Ur.outer),children:[Ui]},ss="mask-".concat(At||pe()),Pi="clip-".concat(At||pe()),Hs={tag:"mask",attributes:H(H({},_a),{},{id:ss,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ei,Ys]},cr={tag:"defs",children:[{tag:"clipPath",attributes:{id:Pi},children:(M=mr,"g"===M.tag?M.children:[M])},Hs]};return fe.push(cr,{tag:"rect",attributes:H({fill:"currentColor","clip-path":"url(#".concat(Pi,")"),mask:"url(#".concat(ss,")")},_a)}),{children:fe,attributes:Me}}}},{provides:function(K){var ae=!1;Nn.matchMedia&&(ae=Nn.matchMedia("(prefers-reduced-motion: reduce)").matches),K.missingIconAbstract=function(){var fe=[],Me={fill:"currentColor"},st={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};fe.push({tag:"path",attributes:H(H({},Me),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var nt=H(H({},st),{},{attributeName:"opacity"}),At={tag:"circle",attributes:H(H({},Me),{},{cx:"256",cy:"364",r:"28"}),children:[]};return ae||At.children.push({tag:"animate",attributes:H(H({},st),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:H(H({},nt),{},{values:"1;0;1;1;0;1;"})}),fe.push(At),fe.push({tag:"path",attributes:H(H({},Me),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:ae?[]:[{tag:"animate",attributes:H(H({},nt),{},{values:"1;0;0;0;0;1;"})}]}),ae||fe.push({tag:"path",attributes:H(H({},Me),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:H(H({},nt),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:fe}}}},{hooks:function(){return{parseNodeAttributes:function(ae,fe){var Me=fe.getAttribute("data-fa-symbol");return ae.symbol=null!==Me&&(""===Me||Me),ae}}}}],{mixoutsTo:Zn});let Y=(()=>{var M;class K{}return(M=K).\u0275fac=function(fe){return new(fe||M)},M.\u0275mod=g.oAB({type:M}),M.\u0275inj=g.cJS({}),K})()},1878:(un,it,k)=>{k.d(it,{X3:()=>Qt});var g=k(5861);const z=(Ge,Ke)=>Ke.some(Bt=>Ge instanceof Bt);let H,Ae;const Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,ye=new WeakMap,Se=new WeakMap;let ct={get(Ge,Ke,Bt){if(Ge instanceof IDBTransaction){if("done"===Ke)return ke.get(Ge);if("objectStoreNames"===Ke)return Ge.objectStoreNames||Oe.get(Ge);if("store"===Ke)return Bt.objectStoreNames[1]?void 0:Bt.objectStore(Bt.objectStoreNames[0])}return Ft(Ge[Ke])},set:(Ge,Ke,Bt)=>(Ge[Ke]=Bt,!0),has:(Ge,Ke)=>Ge instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in Ge};function Ut(Ge){return"function"==typeof Ge?function ft(Ge){return Ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ge)?function(...Ke){return Ge.apply(Ye(this),Ke),Ft(Ue.get(this))}:function(...Ke){return Ft(Ge.apply(Ye(this),Ke))}:function(Ke,...Bt){const Et=Ge.call(Ye(this),Ke,...Bt);return Oe.set(Et,Ke.sort?Ke.sort():[Ke]),Ft(Et)}}(Ge):(Ge instanceof IDBTransaction&&function ut(Ge){if(ke.has(Ge))return;const Ke=new Promise((Bt,Et)=>{const Nn=()=>{Ge.removeEventListener("complete",yn),Ge.removeEventListener("error",er),Ge.removeEventListener("abort",er)},yn=()=>{Bt(),Nn()},er=()=>{Et(Ge.error||new DOMException("AbortError","AbortError")),Nn()};Ge.addEventListener("complete",yn),Ge.addEventListener("error",er),Ge.addEventListener("abort",er)});ke.set(Ge,Ke)}(Ge),z(Ge,function Ce(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ge,ct):Ge)}function Ft(Ge){if(Ge instanceof IDBRequest)return function Be(Ge){const Ke=new Promise((Bt,Et)=>{const Nn=()=>{Ge.removeEventListener("success",yn),Ge.removeEventListener("error",er)},yn=()=>{Bt(Ft(Ge.result)),Nn()},er=()=>{Et(Ge.error),Nn()};Ge.addEventListener("success",yn),Ge.addEventListener("error",er)});return Ke.then(Bt=>{Bt instanceof IDBCursor&&Ue.set(Bt,Ge)}).catch(()=>{}),Se.set(Ke,Ge),Ke}(Ge);if(ye.has(Ge))return ye.get(Ge);const Ke=Ut(Ge);return Ke!==Ge&&(ye.set(Ge,Ke),Se.set(Ke,Ge)),Ke}const Ye=Ge=>Se.get(Ge);function Qt(Ge,Ke,{blocked:Bt,upgrade:Et,blocking:Nn,terminated:yn}={}){const er=indexedDB.open(Ge,Ke),rr=Ft(er);return Et&&er.addEventListener("upgradeneeded",Nr=>{Et(Ft(er.result),Nr.oldVersion,Nr.newVersion,Ft(er.transaction),Nr)}),Bt&&er.addEventListener("blocked",Nr=>Bt(Nr.oldVersion,Nr.newVersion,Nr)),rr.then(Nr=>{yn&&Nr.addEventListener("close",()=>yn()),Nn&&Nr.addEventListener("versionchange",Sr=>Nn(Sr.oldVersion,Sr.newVersion,Sr))}).catch(()=>{}),rr}const Qe=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],vt=new Map;function Pt(Ge,Ke){if(!(Ge instanceof IDBDatabase)||Ke in Ge||"string"!=typeof Ke)return;if(vt.get(Ke))return vt.get(Ke);const Bt=Ke.replace(/FromIndex$/,""),Et=Ke!==Bt,Nn=He.includes(Bt);if(!(Bt in(Et?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Qe.includes(Bt))return;const yn=function(){var er=(0,g.Z)(function*(rr,...Nr){const Sr=this.transaction(rr,Nn?"readwrite":"readonly");let ht=Sr.store;return Et&&(ht=ht.index(Nr.shift())),(yield Promise.all([ht[Bt](...Nr),Nn&&Sr.done]))[0]});return function(Nr){return er.apply(this,arguments)}}();return vt.set(Ke,yn),yn}!function wt(Ge){ct=Ge(ct)}(Ge=>({...Ge,get:(Ke,Bt,Et)=>Pt(Ke,Bt)||Ge.get(Ke,Bt,Et),has:(Ke,Bt)=>!!Pt(Ke,Bt)||Ge.has(Ke,Bt)}))},2425:(un,it,k)=>{k.d(it,{FM:()=>Qt,Rh:()=>Sr,_W:()=>yn});var g=k(1180),z=k(5879),H=k(6825),Ae=k(6814),Ce=k(8645),De=k(6593);const Ue=["toast-component",""];function ke(tt,Ee){if(1&tt){const Ve=z.EpF();z.TgZ(0,"button",5),z.NdJ("click",function(){z.CHM(Ve);const qe=z.oxw();return z.KtG(qe.remove())}),z.TgZ(1,"span",6),z._uU(2,"\xd7"),z.qZA()()}}function Oe(tt,Ee){if(1&tt&&(z.ynx(0),z._uU(1),z.BQk()),2&tt){const Ve=z.oxw(2);z.xp6(1),z.hij("[",Ve.duplicatesCount+1,"]")}}function ye(tt,Ee){if(1&tt&&(z.TgZ(0,"div"),z._uU(1),z.YNc(2,Oe,2,1,"ng-container",4),z.qZA()),2&tt){const Ve=z.oxw();z.Tol(Ve.options.titleClass),z.uIk("aria-label",Ve.title),z.xp6(1),z.hij(" ",Ve.title," "),z.xp6(1),z.Q6J("ngIf",Ve.duplicatesCount)}}function Se(tt,Ee){if(1&tt&&z._UZ(0,"div",7),2&tt){const Ve=z.oxw();z.Tol(Ve.options.messageClass),z.Q6J("innerHTML",Ve.message,z.oJD)}}function Be(tt,Ee){if(1&tt&&(z.TgZ(0,"div",8),z._uU(1),z.qZA()),2&tt){const Ve=z.oxw();z.Tol(Ve.options.messageClass),z.uIk("aria-label",Ve.message),z.xp6(1),z.hij(" ",Ve.message," ")}}function ut(tt,Ee){if(1&tt&&(z.TgZ(0,"div"),z._UZ(1,"div",9),z.qZA()),2&tt){const Ve=z.oxw();z.xp6(1),z.Udp("width",Ve.width+"%")}}let Qt=(()=>{var tt;class Ee{constructor(Te){(0,g.Z)(this,"el",void 0),this.el=Te}getContainerElement(){return this.el.nativeElement}}return tt=Ee,(0,g.Z)(Ee,"\u0275fac",function(Te){return new(Te||tt)(z.Y36(z.SBq))}),(0,g.Z)(Ee,"\u0275dir",z.lG2({type:tt,selectors:[["","toastContainer",""]],exportAs:["toastContainer"],standalone:!0})),Ee})();class Le{constructor(Ee,Ve){(0,g.Z)(this,"_attachedHost",void 0),(0,g.Z)(this,"component",void 0),(0,g.Z)(this,"viewContainerRef",void 0),(0,g.Z)(this,"injector",void 0),this.component=Ee,this.injector=Ve}attach(Ee,Ve){return this._attachedHost=Ee,Ee.attach(this,Ve)}detach(){const Ee=this._attachedHost;if(Ee)return this._attachedHost=void 0,Ee.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ee){this._attachedHost=Ee}}class Qe{constructor(){(0,g.Z)(this,"_attachedPortal",void 0),(0,g.Z)(this,"_disposeFn",void 0)}attach(Ee,Ve){return this._attachedPortal=Ee,this.attachComponentPortal(Ee,Ve)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ee){this._disposeFn=Ee}}class He{constructor(Ee){(0,g.Z)(this,"_overlayRef",void 0),(0,g.Z)(this,"componentInstance",void 0),(0,g.Z)(this,"duplicatesCount",0),(0,g.Z)(this,"_afterClosed",new Ce.x),(0,g.Z)(this,"_activate",new Ce.x),(0,g.Z)(this,"_manualClose",new Ce.x),(0,g.Z)(this,"_resetTimeout",new Ce.x),(0,g.Z)(this,"_countDuplicate",new Ce.x),this._overlayRef=Ee}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ee,Ve){Ee&&this._resetTimeout.next(),Ve&&this._countDuplicate.next(++this.duplicatesCount)}}class vt{constructor(Ee,Ve,Te,qe,jt,en){(0,g.Z)(this,"toastId",void 0),(0,g.Z)(this,"config",void 0),(0,g.Z)(this,"message",void 0),(0,g.Z)(this,"title",void 0),(0,g.Z)(this,"toastType",void 0),(0,g.Z)(this,"toastRef",void 0),(0,g.Z)(this,"_onTap",new Ce.x),(0,g.Z)(this,"_onAction",new Ce.x),this.toastId=Ee,this.config=Ve,this.message=Te,this.title=qe,this.toastType=jt,this.toastRef=en,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ee){this._onAction.next(Ee)}onAction(){return this._onAction.asObservable()}}const Ge=new z.OlP("ToastConfig");class Ke extends Qe{constructor(Ee,Ve,Te){super(),(0,g.Z)(this,"_hostDomElement",void 0),(0,g.Z)(this,"_componentFactoryResolver",void 0),(0,g.Z)(this,"_appRef",void 0),this._hostDomElement=Ee,this._componentFactoryResolver=Ve,this._appRef=Te}attachComponentPortal(Ee,Ve){const Te=this._componentFactoryResolver.resolveComponentFactory(Ee.component);let qe;return qe=Te.create(Ee.injector),this._appRef.attachView(qe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(qe.hostView),qe.destroy()}),Ve?this._hostDomElement.insertBefore(this._getComponentRootNode(qe),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(qe)),qe}_getComponentRootNode(Ee){return Ee.hostView.rootNodes[0]}}let Bt=(()=>{var tt;class Ee{constructor(){(0,g.Z)(this,"_document",(0,z.f3M)(Ae.K0)),(0,g.Z)(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Te=this._document.createElement("div");Te.classList.add("overlay-container"),Te.setAttribute("aria-live","polite"),this._document.body.appendChild(Te),this._containerElement=Te}}return tt=Ee,(0,g.Z)(Ee,"\u0275fac",function(Te){return new(Te||tt)}),(0,g.Z)(Ee,"\u0275prov",z.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})),Ee})();class Et{constructor(Ee){(0,g.Z)(this,"_portalHost",void 0),this._portalHost=Ee}attach(Ee,Ve=!0){return this._portalHost.attach(Ee,Ve)}detach(){return this._portalHost.detach()}}let Nn=(()=>{var tt;class Ee{constructor(){(0,g.Z)(this,"_overlayContainer",(0,z.f3M)(Bt)),(0,g.Z)(this,"_componentFactoryResolver",(0,z.f3M)(z._Vd)),(0,g.Z)(this,"_appRef",(0,z.f3M)(z.z2F)),(0,g.Z)(this,"_document",(0,z.f3M)(Ae.K0)),(0,g.Z)(this,"_paneElements",new Map)}create(Te,qe){return this._createOverlayRef(this.getPaneElement(Te,qe))}getPaneElement(Te="",qe){return this._paneElements.get(qe)||this._paneElements.set(qe,{}),this._paneElements.get(qe)[Te]||(this._paneElements.get(qe)[Te]=this._createPaneElement(Te,qe)),this._paneElements.get(qe)[Te]}_createPaneElement(Te,qe){const jt=this._document.createElement("div");return jt.id="toast-container",jt.classList.add(Te),jt.classList.add("toast-container"),qe?qe.getContainerElement().appendChild(jt):this._overlayContainer.getContainerElement().appendChild(jt),jt}_createPortalHost(Te){return new Ke(Te,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Te){return new Et(this._createPortalHost(Te))}}return tt=Ee,(0,g.Z)(Ee,"\u0275fac",function(Te){return new(Te||tt)}),(0,g.Z)(Ee,"\u0275prov",z.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})),Ee})(),yn=(()=>{var tt;class Ee{constructor(Te,qe,jt,en,hn){(0,g.Z)(this,"overlay",void 0),(0,g.Z)(this,"_injector",void 0),(0,g.Z)(this,"sanitizer",void 0),(0,g.Z)(this,"ngZone",void 0),(0,g.Z)(this,"toastrConfig",void 0),(0,g.Z)(this,"currentlyActive",0),(0,g.Z)(this,"toasts",[]),(0,g.Z)(this,"overlayContainer",void 0),(0,g.Z)(this,"previousToastMessage",void 0),(0,g.Z)(this,"index",0),this.overlay=qe,this._injector=jt,this.sanitizer=en,this.ngZone=hn,this.toastrConfig={...Te.default,...Te.config},Te.config.iconClasses&&(this.toastrConfig.iconClasses={...Te.default.iconClasses,...Te.config.iconClasses})}show(Te,qe,jt={},en=""){return this._preBuildNotification(en,Te,qe,this.applyConfig(jt))}success(Te,qe,jt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Te,qe,this.applyConfig(jt))}error(Te,qe,jt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Te,qe,this.applyConfig(jt))}info(Te,qe,jt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Te,qe,this.applyConfig(jt))}warning(Te,qe,jt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Te,qe,this.applyConfig(jt))}clear(Te){for(const qe of this.toasts)if(void 0!==Te){if(qe.toastId===Te)return void qe.toastRef.manualClose()}else qe.toastRef.manualClose()}remove(Te){const qe=this._findToast(Te);if(!qe||(qe.activeToast.toastRef.close(),this.toasts.splice(qe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const jt=this.toasts[this.currentlyActive].toastRef;jt.isInactive()||(this.currentlyActive=this.currentlyActive+1,jt.activate())}return!0}findDuplicate(Te="",qe="",jt,en){const{includeTitleDuplicates:hn}=this.toastrConfig;for(const Cn of this.toasts)if((!hn||hn&&Cn.title===Te)&&Cn.message===qe)return Cn.toastRef.onDuplicate(jt,en),Cn;return null}applyConfig(Te={}){return{...this.toastrConfig,...Te}}_findToast(Te){for(let qe=0;qe<this.toasts.length;qe++)if(this.toasts[qe].toastId===Te)return{index:qe,activeToast:this.toasts[qe]};return null}_preBuildNotification(Te,qe,jt,en){return en.onActivateTick?this.ngZone.run(()=>this._buildNotification(Te,qe,jt,en)):this._buildNotification(Te,qe,jt,en)}_buildNotification(Te,qe,jt,en){if(!en.toastComponent)throw new Error("toastComponent required");const hn=this.findDuplicate(jt,qe,this.toastrConfig.resetTimeoutOnDuplicate&&en.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&jt||qe)&&this.toastrConfig.preventDuplicates&&null!==hn)return hn;this.previousToastMessage=qe;let Cn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Cn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Bn=this.overlay.create(en.positionClass,this.overlayContainer);this.index=this.index+1;let xr=qe;qe&&en.enableHtml&&(xr=this.sanitizer.sanitize(z.q3G.HTML,qe));const Fn=new He(Bn),Er=new vt(this.index,en,xr,jt,Te,Fn),ui=z.zs3.create({providers:[{provide:vt,useValue:Er}],parent:this._injector}),Kn=new Le(en.toastComponent,ui),hr=Bn.attach(Kn,en.newestOnTop);Fn.componentInstance=hr.instance;const Ei={toastId:this.index,title:jt||"",message:qe||"",toastRef:Fn,onShown:Fn.afterActivate(),onHidden:Fn.afterClosed(),onTap:Er.onTap(),onAction:Er.onAction(),portal:hr};return Cn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ei.toastRef.activate()})),this.toasts.push(Ei),Ei}}return tt=Ee,(0,g.Z)(Ee,"\u0275fac",function(Te){return new(Te||tt)(z.LFG(Ge),z.LFG(Nn),z.LFG(z.zs3),z.LFG(De.H7),z.LFG(z.R0b))}),(0,g.Z)(Ee,"\u0275prov",z.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})),Ee})();const rr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{var tt;class Ee{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(Te,qe,jt){(0,g.Z)(this,"toastrService",void 0),(0,g.Z)(this,"toastPackage",void 0),(0,g.Z)(this,"ngZone",void 0),(0,g.Z)(this,"message",void 0),(0,g.Z)(this,"title",void 0),(0,g.Z)(this,"options",void 0),(0,g.Z)(this,"duplicatesCount",void 0),(0,g.Z)(this,"originalTimeout",void 0),(0,g.Z)(this,"width",-1),(0,g.Z)(this,"toastClasses",""),(0,g.Z)(this,"state",void 0),(0,g.Z)(this,"timeout",void 0),(0,g.Z)(this,"intervalId",void 0),(0,g.Z)(this,"hideTime",void 0),(0,g.Z)(this,"sub",void 0),(0,g.Z)(this,"sub1",void 0),(0,g.Z)(this,"sub2",void 0),(0,g.Z)(this,"sub3",void 0),this.toastrService=Te,this.toastPackage=qe,this.ngZone=jt,this.message=qe.message,this.title=qe.title,this.options=qe.config,this.originalTimeout=qe.config.timeOut,this.toastClasses=`${qe.toastType} ${qe.config.toastClass}`,this.sub=qe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=qe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=qe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=qe.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Te=(new Date).getTime();this.width=(this.hideTime-Te)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Te,qe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Te),qe)):this.timeout=setTimeout(()=>Te(),qe)}outsideInterval(Te,qe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Te),qe)):this.intervalId=setInterval(()=>Te(),qe)}runInsideAngular(Te){this.ngZone?this.ngZone.run(()=>Te()):Te()}}return tt=Ee,(0,g.Z)(Ee,"\u0275fac",function(Te){return new(Te||tt)(z.Y36(yn),z.Y36(vt),z.Y36(z.R0b))}),(0,g.Z)(Ee,"\u0275cmp",z.Xpm({type:tt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Te,qe){1&Te&&z.NdJ("click",function(){return qe.tapToast()})("mouseenter",function(){return qe.stickAround()})("mouseleave",function(){return qe.delayedHideToast()}),2&Te&&(z.d8E("@flyInOut",qe.state),z.Tol(qe.toastClasses),z.Udp("display",qe.displayStyle))},standalone:!0,features:[z.jDz],attrs:Ue,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Te,qe){1&Te&&(z.YNc(0,ke,3,0,"button",0),z.YNc(1,ye,3,5,"div",1),z.YNc(2,Se,1,3,"div",2),z.YNc(3,Be,2,4,"div",3),z.YNc(4,ut,2,2,"div",4)),2&Te&&(z.Q6J("ngIf",qe.options.closeButton),z.xp6(1),z.Q6J("ngIf",qe.title),z.xp6(1),z.Q6J("ngIf",qe.message&&qe.options.enableHtml),z.xp6(1),z.Q6J("ngIf",qe.message&&!qe.options.enableHtml),z.xp6(1),z.Q6J("ngIf",qe.options.progressBar))},dependencies:[Ae.O5],encapsulation:2,data:{animation:[(0,H.X$)("flyInOut",[(0,H.SB)("inactive",(0,H.oB)({opacity:0})),(0,H.SB)("active",(0,H.oB)({opacity:1})),(0,H.SB)("removed",(0,H.oB)({opacity:0})),(0,H.eR)("inactive => active",(0,H.jt)("{{ easeTime }}ms {{ easing }}")),(0,H.eR)("active => removed",(0,H.jt)("{{ easeTime }}ms {{ easing }}"))])]}})),Ee})()},Nr=(tt={})=>(0,z.MR2)([{provide:Ge,useValue:{default:rr,config:tt}}]);let Sr=(()=>{var tt;class Ee{static forRoot(Te={}){return{ngModule:Ee,providers:[Nr(Te)]}}}return tt=Ee,(0,g.Z)(Ee,"\u0275fac",function(Te){return new(Te||tt)}),(0,g.Z)(Ee,"\u0275mod",z.oAB({type:tt})),(0,g.Z)(Ee,"\u0275inj",z.cJS({})),Ee})()},5861:(un,it,k)=>{function g(H,Ae,Ce,De,Ue,ke,Oe){try{var ye=H[ke](Oe),Se=ye.value}catch(Be){return void Ce(Be)}ye.done?Ae(Se):Promise.resolve(Se).then(De,Ue)}function z(H){return function(){var Ae=this,Ce=arguments;return new Promise(function(De,Ue){var ke=H.apply(Ae,Ce);function Oe(Se){g(ke,De,Ue,Oe,ye,"next",Se)}function ye(Se){g(ke,De,Ue,Oe,ye,"throw",Se)}Oe(void 0)})}}k.d(it,{Z:()=>z})},1180:(un,it,k)=>{function g(Ce){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(Ce)}function Ae(Ce,De,Ue){return(De=function H(Ce){var De=function z(Ce,De){if("object"!==g(Ce)||null===Ce)return Ce;var Ue=Ce[Symbol.toPrimitive];if(void 0!==Ue){var ke=Ue.call(Ce,De||"default");if("object"!==g(ke))return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(Ce)}(Ce,"string");return"symbol"===g(De)?De:String(De)}(De))in Ce?Object.defineProperty(Ce,De,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Ce[De]=Ue,Ce}k.d(it,{Z:()=>Ae})},7582:(un,it,k)=>{function Ae(ht,Dt){var rt={};for(var It in ht)Object.prototype.hasOwnProperty.call(ht,It)&&Dt.indexOf(It)<0&&(rt[It]=ht[It]);if(null!=ht&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(It=Object.getOwnPropertySymbols(ht);tt<It.length;tt++)Dt.indexOf(It[tt])<0&&Object.prototype.propertyIsEnumerable.call(ht,It[tt])&&(rt[It[tt]]=ht[It[tt]])}return rt}function Be(ht,Dt,rt,It){return new(rt||(rt=Promise))(function(Ee,Ve){function Te(en){try{jt(It.next(en))}catch(hn){Ve(hn)}}function qe(en){try{jt(It.throw(en))}catch(hn){Ve(hn)}}function jt(en){en.done?Ee(en.value):function tt(Ee){return Ee instanceof rt?Ee:new rt(function(Ve){Ve(Ee)})}(en.value).then(Te,qe)}jt((It=It.apply(ht,Dt||[])).next())})}function Le(ht){return this instanceof Le?(this.v=ht,this):new Le(ht)}function Qe(ht,Dt,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,It=rt.apply(ht,Dt||[]),Ee=[];return tt={},Ve("next"),Ve("throw"),Ve("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Ve(Cn){It[Cn]&&(tt[Cn]=function(Bn){return new Promise(function(xr,Fn){Ee.push([Cn,Bn,xr,Fn])>1||Te(Cn,Bn)})})}function Te(Cn,Bn){try{!function qe(Cn){Cn.value instanceof Le?Promise.resolve(Cn.value.v).then(jt,en):hn(Ee[0][2],Cn)}(It[Cn](Bn))}catch(xr){hn(Ee[0][3],xr)}}function jt(Cn){Te("next",Cn)}function en(Cn){Te("throw",Cn)}function hn(Cn,Bn){Cn(Bn),Ee.shift(),Ee.length&&Te(Ee[0][0],Ee[0][1])}}function vt(ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Dt=ht[Symbol.asyncIterator];return Dt?Dt.call(ht):(ht=function ft(ht){var Dt="function"==typeof Symbol&&Symbol.iterator,rt=Dt&&ht[Dt],It=0;if(rt)return rt.call(ht);if(ht&&"number"==typeof ht.length)return{next:function(){return ht&&It>=ht.length&&(ht=void 0),{value:ht&&ht[It++],done:!ht}}};throw new TypeError(Dt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ht),rt={},It("next"),It("throw"),It("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function It(Ee){rt[Ee]=ht[Ee]&&function(Ve){return new Promise(function(Te,qe){!function tt(Ee,Ve,Te,qe){Promise.resolve(qe).then(function(jt){Ee({value:jt,done:Te})},Ve)}(Te,qe,(Ve=ht[Ee](Ve)).done,Ve.value)})}}}k.d(it,{FC:()=>Qe,KL:()=>vt,_T:()=>Ae,mG:()=>Be,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},un=>{un(un.s=4891)}]);